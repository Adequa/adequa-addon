!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){"use strict";var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=t(1),i=o.encodeToBase64,s=o.padRight;function u(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t="",r=1;r<=e;r+=1)t+=-1!==n.indexOf(r)?"1":"0";return s(t,Math.max(0,e-t.length))}function d(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=0,r=0;r<e.length;r+=1)t=Math.max(t,e[r].id);for(var o=0;o<n.length;o+=1)t=Math.max(t,n[o]);for(var i="",s=1;s<=t;s+=1)i+=-1!==n.indexOf(s)?"1":"0";return i}function a(e,n){for(var t=[],r=[],o=e.map(function(e){return e.id}),i=0;i<e.length;i+=1){var s=e[i].id;if(-1!==n.indexOf(s)&&t.push(s),(-1===n.indexOf(s)||i===e.length-1||-1===o.indexOf(s+1))&&t.length){var u=t.shift(),d=t.pop();t=[],r.push({isRange:"number"==typeof d,startVendorId:u,endVendorId:d})}}return r}function c(e){var n=0;return e.forEach(function(e){e.id>n&&(n=e.id)}),n}e.exports={convertVendorsToRanges:a,encodeConsentString:function(e){var n=e.maxVendorId,t=e.vendorList,o=void 0===t?{}:t,s=e.allowedPurposeIds,l=e.allowedVendorIds,f=o.vendors,p=void 0===f?[]:f,v=o.purposes,h=void 0===v?[]:v;n||(n=c(p));var g=i(r({},e,{maxVendorId:n,purposeIdBitString:d(h,s),isRange:!1,vendorIdBitString:u(n,l)})),m=a(p,l),y=i(r({},e,{maxVendorId:n,purposeIdBitString:d(h,s),isRange:!0,defaultConsent:!1,numEntries:m.length,vendorRangeList:m}));return g.length<y.length?g:y},getMaxVendorId:c,encodeVendorIdsToBits:u,encodePurposeIdsToBits:d}},function(e,n,t){"use strict";var r=t(7),o=t(2),i=o.versionNumBits,s=o.vendorVersionMap;function u(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",t="",r=0;r<e;r+=1)t+=n;return t}function d(e,n){return u(Math.max(0,n))+e}function a(e,n){return e+u(Math.max(0,n))}function c(e,n){var t="";return"number"!=typeof e||isNaN(e)||(t=parseInt(e,10).toString(2)),n>=t.length&&(t=d(t,n-t.length)),t.length>n&&(t=t.substring(0,n)),t}function l(e){return c(!0===e?1:0,1)}function f(e,n){return e instanceof Date?c(e.getTime()/100,n):c(e,n)}function p(e,n){return c(e.toUpperCase().charCodeAt(0)-65,n)}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return p(e.slice(0,1),n/2)+p(e.slice(1),n/2)}function h(e,n,t){return parseInt(e.substr(n,t),2)}function g(e,n,t){return new Date(100*h(e,n,t))}function m(e,n){return 1===parseInt(e.substr(n,1),2)}function y(e){var n=h(e);return String.fromCharCode(n+65).toLowerCase()}function w(e,n,t){var r=e.substr(n,t);return y(r.slice(0,t/2))+y(r.slice(t/2))}function b(e){var n=e.input,t=e.field,r=t.name,o=t.type,i=t.numBits,s=t.encoder,u=t.validator;if("function"==typeof u&&!u(n))return"";if("function"==typeof s)return s(n);var d="function"==typeof i?i(n):i,p=n[r],h=null==p?"":p;switch(o){case"int":return c(h,d);case"bool":return l(h);case"date":return f(h,d);case"bits":return a(h,d-h.length).substring(0,d);case"list":return h.reduce(function(e,n){return e+S({input:n,fields:t.fields})},"");case"language":return v(h,d);default:throw new Error("ConsentString - Unknown field type "+o+" for encoding")}}function S(e){var n=e.input;return e.fields.reduce(function(e,t){return e+=b({input:n,field:t})},"")}function A(e){var n=e.input,t=e.output,r=e.startPosition,o=e.field,i=o.type,s=o.numBits,u=o.decoder,d=o.validator,a=o.listCount;if("function"==typeof d&&!d(t))return{newPosition:r};if("function"==typeof u)return u(n,t,r);var c="function"==typeof s?s(t):s;switch(i){case"int":return{fieldValue:h(n,r,c)};case"bool":return{fieldValue:m(n,r)};case"date":return{fieldValue:g(n,r,c)};case"bits":return{fieldValue:n.substr(r,c)};case"list":return function(e,n,t,r,o){var i=0;"function"==typeof o?i=o(n):"number"==typeof o&&(i=o);for(var s=t,u=[],d=0;d<i;d+=1){var a=C({input:e,fields:r.fields,startPosition:s});s=a.newPosition,u.push(a.decodedObject)}return{fieldValue:u,newPosition:s}}(n,t,r,o,a);case"language":return{fieldValue:w(n,r,c)};default:throw new Error("ConsentString - Unknown field type "+i+" for decoding")}}function C(e){var n=e.input,t=e.fields,r=e.startPosition,o=void 0===r?0:r;return{decodedObject:t.reduce(function(e,t){var r=t.name,i=t.numBits,s=A({input:n,output:e,startPosition:o,field:t}),u=s.fieldValue,d=s.newPosition;return void 0!==u&&(e[r]=u),void 0!==d?o=d:"number"==typeof i&&(o+=i),e},{}),newPosition:o}}function V(e,n){var t=e.version;if("number"!=typeof t)throw new Error("ConsentString - No version field to encode");if(n[t])return S({input:e,fields:n[t].fields});throw new Error("ConsentString - No definition for version "+t)}e.exports={padRight:a,padLeft:d,encodeField:b,encodeDataToBits:V,encodeIntToBits:c,encodeBoolToBits:l,encodeDateToBits:f,encodeLanguageToBits:v,encodeLetterToBits:p,encodeToBase64:function(e){var n=V(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:s);if(n){for(var t=a(n,7-(n.length+7)%8),o="",i=0;i<t.length;i+=8)o+=String.fromCharCode(parseInt(t.substr(i,8),2));return r.encode(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}return null},decodeBitsToIds:function(e){return e.split("").reduce(function(e,n,t){return"1"===n&&-1===e.indexOf(t+1)&&e.push(t+1),e},[])},decodeBitsToInt:h,decodeBitsToDate:g,decodeBitsToBool:m,decodeBitsToLanguage:w,decodeBitsToLetter:y,decodeFromBase64:function(e,n){for(var t=e;t.length%4!=0;)t+="=";t=t.replace(/-/g,"+").replace(/_/g,"/");for(var o=r.decode(t),u="",a=0;a<o.length;a+=1){var c=o.charCodeAt(a).toString(2);u+=d(c,8-c.length)}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,t=h(e,0,i);if("number"!=typeof t)throw new Error("ConsentString - Unknown version number in the string to decode");if(!s[t])throw new Error("ConsentString - Unsupported version "+t+" in the string to decode");return C({input:e,fields:n[t].fields}).decodedObject}(u,n)}}},function(e,n,t){"use strict";e.exports={versionNumBits:6,vendorVersionMap:{1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}}}},function(e,n,t){"use strict";var r=t(1),o=r.decodeBitsToIds,i=r.decodeFromBase64;e.exports={decodeConsentString:function(e){var n=i(e),t=n.version,r=n.cmpId,s=n.vendorListVersion,u=n.purposeIdBitString,d=n.maxVendorId,a=n.created,c=n.lastUpdated,l=n.isRange,f=n.defaultConsent,p=n.vendorIdBitString,v=n.vendorRangeList,h=n.cmpVersion,g=n.consentScreen,m=n.consentLanguage,y={version:t,cmpId:r,vendorListVersion:s,allowedPurposeIds:o(u),maxVendorId:d,created:a,lastUpdated:c,cmpVersion:h,consentScreen:g,consentLanguage:m};if(l){var w=v.reduce(function(e,n){for(var t=n.isRange,r=n.startVendorId,o=n.endVendorId,i=t?o:r,s=r;s<=i;s+=1)e[s]=!0;return e},{});y.allowedVendorIds=[];for(var b=1;b<=d;b+=1)(f&&!w[b]||!f&&w[b])&&-1===y.allowedVendorIds.indexOf(b)&&y.allowedVendorIds.push(b)}else y.allowedVendorIds=o(p);return y}}},function(e,n,t){const{ConsentString:r}=t(5);Adequa.actions.consent={},Adequa.actions.consent.getSettingsByWebsiteId=function(e){return Adequa.current.consent.settings.filter(n=>n.id.website_id===e)},Adequa.actions.consent.getDefaultPurposeSettings=function(){const e=Adequa.current.consent.settings.filter(e=>"all"===e.id.website_id&&"all"===e.id.vendor_id),n={};for(const t of e)n[t.id.purpose_id]=t;return n},Adequa.actions.consent.getCurrentWebsitePurposeSettings=function(e){Adequa.API.tabs.query({active:!0,lastFocusedWindow:!0},n=>{const t=n[0]||{},r=Adequa.actions.consent.getSettingsByWebsiteId(Adequa.getWebsiteId(t.url||"nourl")),o=this.getDefaultPurposeSettings()||{};for(const e of r)o[e.id.purpose_id]=e;e(o)})},Adequa.actions.consent.getDefaultVendorSettings=function(){const e=Adequa.current.consent.settings.filter(e=>"all"===e.id.website_id&&"all"===e.id.purpose_id),n={};for(const t of e)n[t.id.vendor_id]=t;return n},Adequa.actions.consent.getCurrentWebsiteVendorSettings=function(e){Adequa.API.tabs.query({active:!0,lastFocusedWindow:!0},n=>{const t=n[0]||{},r=Adequa.actions.consent.getSettingsByWebsiteId(Adequa.getWebsiteId(t.url||"nourl")),o=this.getDefaultVendorSettings()||{};for(const e of r)o[e.id.vendor_id]=e;e(o)})},Adequa.actions.consent.setOrUpdateSetting=function(e){const n=Adequa.current.consent.settings.findIndex(n=>n.id.website_id===e.id.website_id&&n.id.purpose_id===e.id.purpose_id&&n.id.vendor_id===e.id.vendor_id);-1===n?Adequa.current.consent.settings.push(e):Adequa.current.consent.settings[n]=e,Adequa.storage.setCurrent({})},Adequa.actions.consent.getConsentData=function(e){const n=Adequa.actions.consent.getSettingsByWebsiteId("all"),t=Adequa.actions.consent.getSettingsByWebsiteId(e),o=[],i=[],s=[],u=[];for(const e of t)"all"===e.id.purpose_id&&"all"!==e.id.vendor_id?-1===s.indexOf(e.id.vendor_id)&&-1===u.indexOf(e.id.vendor_id)&&(-1===e.value?s.push(e.id.vendor_id):u.push(e.id.vendor_id)):"all"!==e.id.purpose_id&&"all"===e.id.vendor_id?-1===o.indexOf(e.id.purpose_id)&&-1===i.indexOf(e.id.purpose_id)&&(-1===e.value?o.push(e.id.purpose_id):i.push(e.id.purpose_id)):-1===n.indexOf(e)&&n.push(e);for(const e of n)if("all"===e.id.purpose_id&&"all"!==e.id.vendor_id)-1===s.indexOf(e.id.vendor_id)&&-1===u.indexOf(e.id.vendor_id)&&(-1===e.value?s.push(e.id.vendor_id):u.push(e.id.vendor_id));else if("all"!==e.id.purpose_id&&"all"===e.id.vendor_id)-1===o.indexOf(e.id.purpose_id)&&-1===i.indexOf(e.id.purpose_id)&&(-1===e.value?o.push(e.id.purpose_id):i.push(e.id.purpose_id));else if("all"===e.id.purpose_id&&"all"===e.id.vendor_id)if(-1===e.value){for(const e of Adequa.current.purposeList)-1===o.indexOf(e)&&-1===i.indexOf(e)&&o.push(e);for(const e of Adequa.current.vendorList)-1===s.indexOf(e)&&-1===u.indexOf(e)&&s.push(e)}else{for(const e of Adequa.current.purposeList)-1===o.indexOf(e)&&-1===i.indexOf(e)&&i.push(e);for(const e of Adequa.current.vendorList)-1===s.indexOf(e)&&-1===u.indexOf(e)&&u.push(e)}console.log("forbidden vendor :",u),console.log("allowed vendors :",s),console.log("forbidden purposes :",i),console.log("allowed purposes :",o);const d=new r;return d.setGlobalVendorList(Adequa.current.fullVendorList),d.setCmpId(1),d.setCmpVersion(1),d.setConsentScreen(1),d.setConsentLanguage("fr"),d.setPurposesAllowed(o),d.setVendorsAllowed(s),{consentString:d.getConsentString(),allowedVendors:s,allowedPurposes:o,vendorList:Adequa.current.vendorList,purposeList:Adequa.current.purposeList}}},function(e,n,t){"use strict";var r=t(6).ConsentString,o=t(3).decodeConsentString,i=t(0).encodeConsentString;e.exports={ConsentString:r,decodeConsentString:o,encodeConsentString:i}},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var i=t(0),s=i.encodeConsentString,u=i.getMaxVendorId,d=i.encodeVendorIdsToBits,a=i.encodePurposeIdsToBits,c=t(3).decodeConsentString,l=t(2).vendorVersionMap,f=/^[a-z]{2}$/,p=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.created=new Date,this.lastUpdated=new Date,this.version=1,this.vendorList=null,this.vendorListVersion=null,this.cmpId=null,this.cmpVersion=null,this.consentScreen=null,this.consentLanguage=null,this.allowedPurposeIds=[],this.allowedVendorIds=[],n&&Object.assign(this,c(n))}return o(e,[{key:"getConsentString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.vendorList)throw new Error("ConsentString - A vendor list is required to encode a consent string");return!0===e&&(this.lastUpdated=new Date),s({version:this.getVersion(),vendorList:this.vendorList,allowedPurposeIds:this.allowedPurposeIds,allowedVendorIds:this.allowedVendorIds,created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,consentLanguage:this.consentLanguage,vendorListVersion:this.vendorListVersion})}},{key:"getMaxVendorId",value:function(){return u(this.vendorList.vendors)}},{key:"getParsedVendorConsents",value:function(){return d(u(this.vendorList.vendors),this.allowedVendorIds)}},{key:"getParsedPurposeConsents",value:function(){return a(this.vendorList.purposes,this.allowedPurposeIds)}},{key:"getMetadataString",value:function(){return s({version:this.getVersion(),created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,vendorListVersion:this.vendorListVersion})}},{key:"getVersion",value:function(){return this.version}},{key:"getVendorListVersion",value:function(){return this.vendorListVersion}},{key:"setGlobalVendorList",value:function(e){if("object"!==(void 0===e?"undefined":r(e)))throw new Error("ConsentString - You must provide an object when setting the global vendor list");if(!e.vendorListVersion||!Array.isArray(e.purposes)||!Array.isArray(e.vendors))throw new Error("ConsentString - The provided vendor list does not respect the schema from the IAB EU’s GDPR Consent and Transparency Framework");this.vendorList={vendorListVersion:e.vendorListVersion,lastUpdated:e.lastUpdated,purposes:e.purposes,features:e.features,vendors:e.vendors.slice(0).sort(function(e,n){return e.id<n.id?-1:1})},this.vendorListVersion=e.vendorListVersion}},{key:"setCmpId",value:function(e){this.cmpId=e}},{key:"getCmpId",value:function(){return this.cmpId}},{key:"setCmpVersion",value:function(e){this.cmpVersion=e}},{key:"getCmpVersion",value:function(){return this.cmpVersion}},{key:"setConsentScreen",value:function(e){this.consentScreen=e}},{key:"getConsentScreen",value:function(){return this.consentScreen}},{key:"setConsentLanguage",value:function(e){if(!1===f.test(e))throw new Error("ConsentString - The consent language must be a two-letter ISO639-1 code (en, fr, de, etc.)");this.consentLanguage=e}},{key:"getConsentLanguage",value:function(){return this.consentLanguage}},{key:"setPurposesAllowed",value:function(e){this.allowedPurposeIds=e}},{key:"getPurposesAllowed",value:function(){return this.allowedPurposeIds}},{key:"setPurposeAllowed",value:function(e,n){var t=this.allowedPurposeIds.indexOf(e);!0===n?-1===t&&this.allowedPurposeIds.push(e):!1===n&&-1!==t&&this.allowedPurposeIds.splice(t,1)}},{key:"isPurposeAllowed",value:function(e){return-1!==this.allowedPurposeIds.indexOf(e)}},{key:"setVendorsAllowed",value:function(e){this.allowedVendorIds=e}},{key:"getVendorsAllowed",value:function(){return this.allowedVendorIds}},{key:"setVendorAllowed",value:function(e,n){var t=this.allowedVendorIds.indexOf(e);!0===n?-1===t&&this.allowedVendorIds.push(e):!1===n&&-1!==t&&this.allowedVendorIds.splice(t,1)}},{key:"isVendorAllowed",value:function(e){return-1!==this.allowedVendorIds.indexOf(e)}}],[{key:"decodeMetadataString",value:function(e){var n=c(e),t={};return l[n.version].metadataFields.forEach(function(e){t[e]=n[e]}),t}}]),e}();e.exports={ConsentString:p}},function(e,n,t){(function(e,r){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(i){var s=n,u=(e&&e.exports,"object"==typeof r&&r);u.global!==u&&u.window;var d=function(e){this.message=e};(d.prototype=new Error).name="InvalidCharacterError";var a=function(e){throw new d(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,f={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var n,t,r,o,i=e.length%3,s="",u=-1,d=e.length-i;++u<d;)n=e.charCodeAt(u)<<16,t=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),s+=c.charAt((o=n+t+r)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(n=e.charCodeAt(u)<<8,t=e.charCodeAt(++u),s+=c.charAt((o=n+t)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(u),s+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),s},decode:function(e){var n=(e=String(e).replace(l,"")).length;n%4==0&&(n=(e=e.replace(/==?$/,"")).length),(n%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var t,r,o=0,i="",s=-1;++s<n;)r=c.indexOf(e.charAt(s)),t=o%4?64*t+r:r,o++%4&&(i+=String.fromCharCode(255&t>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(n,t,n,e))||(e.exports=o)}()}).call(this,t(8)(e),t(9))},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbnNlbnQtc3RyaW5nL2Rpc3QvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb25zZW50LXN0cmluZy9kaXN0L3V0aWxzL2JpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbnNlbnQtc3RyaW5nL2Rpc3QvdXRpbHMvZGVmaW5pdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbnNlbnQtc3RyaW5nL2Rpc3QvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hY3Rpb25zL2NvbnNlbnQvY29uc2VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29uc2VudC1zdHJpbmcvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29uc2VudC1zdHJpbmcvZGlzdC9jb25zZW50LXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFzZS02NC9iYXNlNjQuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJfcmVxdWlyZSIsInJlcXVpcmUiLCJlbmNvZGVUb0Jhc2U2NCIsInBhZFJpZ2h0IiwiZW5jb2RlVmVuZG9ySWRzVG9CaXRzIiwibWF4VmVuZG9ySWQiLCJhbGxvd2VkVmVuZG9ySWRzIiwidW5kZWZpbmVkIiwidmVuZG9yU3RyaW5nIiwiaWQiLCJpbmRleE9mIiwiTWF0aCIsIm1heCIsImVuY29kZVB1cnBvc2VJZHNUb0JpdHMiLCJwdXJwb3NlcyIsImFsbG93ZWRQdXJwb3NlSWRzIiwiU2V0IiwibWF4UHVycG9zZUlkIiwiX2kiLCJwdXJwb3NlU3RyaW5nIiwiY29udmVydFZlbmRvcnNUb1JhbmdlcyIsInZlbmRvcnMiLCJyYW5nZSIsInJhbmdlcyIsImlkc0luTGlzdCIsIm1hcCIsInZlbmRvciIsImluZGV4IiwicHVzaCIsInN0YXJ0VmVuZG9ySWQiLCJzaGlmdCIsImVuZFZlbmRvcklkIiwicG9wIiwiaXNSYW5nZSIsImdldE1heFZlbmRvcklkIiwiZm9yRWFjaCIsImVuY29kZUNvbnNlbnRTdHJpbmciLCJjb25zZW50RGF0YSIsIl9jb25zZW50RGF0YSR2ZW5kb3JMaSIsInZlbmRvckxpc3QiLCJfdmVuZG9yTGlzdCR2ZW5kb3JzIiwiX3ZlbmRvckxpc3QkcHVycG9zZXMiLCJub1Jhbmdlc0RhdGEiLCJwdXJwb3NlSWRCaXRTdHJpbmciLCJ2ZW5kb3JJZEJpdFN0cmluZyIsInZlbmRvclJhbmdlTGlzdCIsInJhbmdlc0RhdGEiLCJkZWZhdWx0Q29uc2VudCIsIm51bUVudHJpZXMiLCJiYXNlNjQiLCJ2ZXJzaW9uTnVtQml0cyIsInZlbmRvclZlcnNpb25NYXAiLCJyZXBlYXQiLCJjb3VudCIsInN0cmluZyIsInBhZFN0cmluZyIsInBhZExlZnQiLCJwYWRkaW5nIiwiZW5jb2RlSW50VG9CaXRzIiwibnVtYmVyIiwibnVtQml0cyIsImJpdFN0cmluZyIsImlzTmFOIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVuY29kZUJvb2xUb0JpdHMiLCJlbmNvZGVEYXRlVG9CaXRzIiwiZGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiZW5jb2RlTGV0dGVyVG9CaXRzIiwibGV0dGVyIiwidG9VcHBlckNhc2UiLCJjaGFyQ29kZUF0IiwiZW5jb2RlTGFuZ3VhZ2VUb0JpdHMiLCJsYW5ndWFnZSIsInNsaWNlIiwiZGVjb2RlQml0c1RvSW50Iiwic3RhcnQiLCJzdWJzdHIiLCJkZWNvZGVCaXRzVG9EYXRlIiwiZGVjb2RlQml0c1RvQm9vbCIsImRlY29kZUJpdHNUb0xldHRlciIsImxldHRlckNvZGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ0b0xvd2VyQ2FzZSIsImRlY29kZUJpdHNUb0xhbmd1YWdlIiwibGFuZ3VhZ2VCaXRTdHJpbmciLCJlbmNvZGVGaWVsZCIsIl9yZWYiLCJpbnB1dCIsImZpZWxkIiwidHlwZSIsImVuY29kZXIiLCJ2YWxpZGF0b3IiLCJiaXRDb3VudCIsImlucHV0VmFsdWUiLCJmaWVsZFZhbHVlIiwicmVkdWNlIiwiYWNjIiwibGlzdFZhbHVlIiwiZW5jb2RlRmllbGRzIiwiZmllbGRzIiwiRXJyb3IiLCJfcmVmMiIsImRlY29kZUZpZWxkIiwiX3JlZjMiLCJvdXRwdXQiLCJzdGFydFBvc2l0aW9uIiwiZGVjb2RlciIsImxpc3RDb3VudCIsIm5ld1Bvc2l0aW9uIiwibGlzdEVudHJ5Q291bnQiLCJkZWNvZGVkRmllbGRzIiwiZGVjb2RlRmllbGRzIiwiZGVjb2RlZE9iamVjdCIsImRlY29kZUxpc3QiLCJfcmVmNCIsIl9yZWY0JHN0YXJ0UG9zaXRpb24iLCJwb3NpdGlvbiIsIl9kZWNvZGVGaWVsZCIsImVuY29kZURhdGFUb0JpdHMiLCJkYXRhIiwiZGVmaW5pdGlvbk1hcCIsInZlcnNpb24iLCJiaW5hcnlWYWx1ZSIsInBhZGRlZEJpbmFyeVZhbHVlIiwiYnl0ZXMiLCJlbmNvZGUiLCJyZXBsYWNlIiwiZGVjb2RlQml0c1RvSWRzIiwic3BsaXQiLCJiaXQiLCJkZWNvZGVGcm9tQmFzZTY0IiwiY29uc2VudFN0cmluZyIsInVuc2FmZSIsImRlY29kZSIsImlucHV0Qml0cyIsImRlY29kZUNvbnNlbnRTdHJpbmdCaXRWYWx1ZSIsIjEiLCJtZXRhZGF0YUZpZWxkcyIsImRlY29kZUNvbnNlbnRTdHJpbmciLCJfZGVjb2RlRnJvbUJhc2UiLCJjbXBJZCIsInZlbmRvckxpc3RWZXJzaW9uIiwiY3JlYXRlZCIsImxhc3RVcGRhdGVkIiwiY21wVmVyc2lvbiIsImNvbnNlbnRTY3JlZW4iLCJjb25zZW50TGFuZ3VhZ2UiLCJjb25zZW50U3RyaW5nRGF0YSIsImlkTWFwIiwibGFzdFZlbmRvcklkIiwiQ29uc2VudFN0cmluZyIsIkFkZXF1YSIsImFjdGlvbnMiLCJjb25zZW50IiwiZ2V0U2V0dGluZ3NCeVdlYnNpdGVJZCIsImN1cnJlbnQiLCJzZXR0aW5ncyIsImZpbHRlciIsInNldHRpbmciLCJ3ZWJzaXRlX2lkIiwiZ2V0RGVmYXVsdFB1cnBvc2VTZXR0aW5ncyIsImRlZmF1bHRTZXR0aW5ncyIsInZlbmRvcl9pZCIsInB1cnBvc2VfaWQiLCJnZXRDdXJyZW50V2Vic2l0ZVB1cnBvc2VTZXR0aW5ncyIsImNhbGxiYWNrIiwiQVBJIiwidGFicyIsInF1ZXJ5IiwiYWN0aXZlIiwibGFzdEZvY3VzZWRXaW5kb3ciLCJ0YWIiLCJ3ZWJzaXRlU2V0dGluZ3MiLCJnZXRXZWJzaXRlSWQiLCJ1cmwiLCJ0aGlzIiwiZ2V0RGVmYXVsdFZlbmRvclNldHRpbmdzIiwiZ2V0Q3VycmVudFdlYnNpdGVWZW5kb3JTZXR0aW5ncyIsInNldE9yVXBkYXRlU2V0dGluZyIsImZpbmRJbmRleCIsIml0ZW0iLCJzdG9yYWdlIiwic2V0Q3VycmVudCIsImdldENvbnNlbnREYXRhIiwid2Vic2l0ZUlkIiwiZm9yYmlkZGVuUHVycG9zZUlkcyIsImZvcmJpZGRlblZlbmRvcklkcyIsInB1cnBvc2VJZCIsInB1cnBvc2VMaXN0IiwidmVuZG9ySWQiLCJjb25zb2xlIiwibG9nIiwic2V0R2xvYmFsVmVuZG9yTGlzdCIsImZ1bGxWZW5kb3JMaXN0Iiwic2V0Q21wSWQiLCJzZXRDbXBWZXJzaW9uIiwic2V0Q29uc2VudFNjcmVlbiIsInNldENvbnNlbnRMYW5ndWFnZSIsInNldFB1cnBvc2VzQWxsb3dlZCIsInNldFZlbmRvcnNBbGxvd2VkIiwiZ2V0Q29uc2VudFN0cmluZyIsImFsbG93ZWRWZW5kb3JzIiwiYWxsb3dlZFB1cnBvc2VzIiwiX3R5cGVvZiIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9nZXRNYXhWZW5kb3JJZCIsImNvbnNlbnRMYW5ndWFnZVJlZ2V4cCIsImJhc2VTdHJpbmciLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsIl9jbGFzc0NhbGxDaGVjayIsInVwZGF0ZURhdGUiLCJnZXRWZXJzaW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiZmVhdHVyZXMiLCJzb3J0IiwiZmlyc3RWZW5kb3IiLCJzZWNvbmRWZW5kb3IiLCJzY3JlZW5JZCIsInRlc3QiLCJwdXJwb3NlSWRzIiwicHVycG9zZUluZGV4Iiwic3BsaWNlIiwidmVuZG9ySWRzIiwidmVuZG9ySW5kZXgiLCJlbmNvZGVkTWV0YWRhdGEiLCJkZWNvZGVkU3RyaW5nIiwibWV0YWRhdGEiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInJvb3QiLCJmcmVlRXhwb3J0cyIsImZyZWVHbG9iYWwiLCJ3aW5kb3ciLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJtZXNzYWdlIiwiZXJyb3IiLCJUQUJMRSIsIlJFR0VYX1NQQUNFX0NIQVJBQ1RFUlMiLCJhIiwiYiIsImJ1ZmZlciIsImNoYXJBdCIsImJpdFN0b3JhZ2UiLCJiaXRDb3VudGVyIiwiZGVmaW5lIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsImciLCJGdW5jdGlvbiIsImUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FB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UyxPQUFPQyxlQUFlWixFQUFRLFNBQVUsQ0FDdkNhLFlBQVksRUFDWkMsSUFBSyxXQUNKLE9BQU9kLEVBQU9FLEtBR2hCUyxPQUFPQyxlQUFlWixFQUFRLEtBQU0sQ0FDbkNhLFlBQVksRUFDWkMsSUFBSyxXQUNKLE9BQU9kLEVBQU9DLEtBR2hCRCxFQUFPOFMsZ0JBQWtCLEdBRW5COVMsa0JDcEJSLElBQUlrVCxFQUdKQSxFQUFLLFdBQ0osT0FBT3ZGLEtBREgsR0FJTCxJQUVDdUYsRUFBSUEsR0FBSyxJQUFJQyxTQUFTLGNBQWIsR0FDUixNQUFPQyxHQUVjLGlCQUFYbkIsU0FBcUJpQixFQUFJakIsUUFPckNqUyxFQUFPRCxRQUFVbVQiLCJmaWxlIjoiY29uc2VudC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vdXRpbHMvYml0cycpLFxuICAgIGVuY29kZVRvQmFzZTY0ID0gX3JlcXVpcmUuZW5jb2RlVG9CYXNlNjQsXG4gICAgcGFkUmlnaHQgPSBfcmVxdWlyZS5wYWRSaWdodDtcblxuLyoqXG4gKiBFbmNvZGUgYSBsaXN0IG9mIHZlbmRvciBJRHMgaW50byBiaXRzXG4gKlxuICogQHBhcmFtIHtpbnRlZ2VyfSBtYXhWZW5kb3JJZCBIaWdoZXN0IHZlbmRvciBJRCBpbiB0aGUgdmVuZG9yIGxpc3RcbiAqIEBwYXJhbSB7aW50ZWdlcltdfSBhbGxvd2VkVmVuZG9ySWRzIFZlbmRvcnMgdGhhdCB0aGUgdXNlciBoYXMgZ2l2ZW4gY29uc2VudCB0b1xuICovXG5cblxuZnVuY3Rpb24gZW5jb2RlVmVuZG9ySWRzVG9CaXRzKG1heFZlbmRvcklkKSB7XG4gIHZhciBhbGxvd2VkVmVuZG9ySWRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblxuICB2YXIgdmVuZG9yU3RyaW5nID0gJyc7XG5cbiAgZm9yICh2YXIgaWQgPSAxOyBpZCA8PSBtYXhWZW5kb3JJZDsgaWQgKz0gMSkge1xuICAgIHZlbmRvclN0cmluZyArPSBhbGxvd2VkVmVuZG9ySWRzLmluZGV4T2YoaWQpICE9PSAtMSA/ICcxJyA6ICcwJztcbiAgfVxuXG4gIHJldHVybiBwYWRSaWdodCh2ZW5kb3JTdHJpbmcsIE1hdGgubWF4KDAsIG1heFZlbmRvcklkIC0gdmVuZG9yU3RyaW5nLmxlbmd0aCkpO1xufVxuXG4vKipcbiAqIEVuY29kZSBhIGxpc3Qgb2YgcHVycG9zZSBJRHMgaW50byBiaXRzXG4gKlxuICogQHBhcmFtIHsqfSBwdXJwb3NlcyBMaXN0IG9mIHB1cnBvc2VzIGZyb20gdGhlIHZlbmRvciBsaXN0XG4gKiBAcGFyYW0geyp9IGFsbG93ZWRQdXJwb3NlSWRzIExpc3Qgb2YgcHVycG9zZSBJRHMgdGhhdCB0aGUgdXNlciBoYXMgZ2l2ZW4gY29uc2VudCB0b1xuICovXG5mdW5jdGlvbiBlbmNvZGVQdXJwb3NlSWRzVG9CaXRzKHB1cnBvc2VzKSB7XG4gIHZhciBhbGxvd2VkUHVycG9zZUlkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbmV3IFNldCgpO1xuXG4gIHZhciBtYXhQdXJwb3NlSWQgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHB1cnBvc2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbWF4UHVycG9zZUlkID0gTWF0aC5tYXgobWF4UHVycG9zZUlkLCBwdXJwb3Nlc1tpXS5pZCk7XG4gIH1cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFsbG93ZWRQdXJwb3NlSWRzLmxlbmd0aDsgX2kgKz0gMSkge1xuICAgIG1heFB1cnBvc2VJZCA9IE1hdGgubWF4KG1heFB1cnBvc2VJZCwgYWxsb3dlZFB1cnBvc2VJZHNbX2ldKTtcbiAgfVxuXG4gIHZhciBwdXJwb3NlU3RyaW5nID0gJyc7XG4gIGZvciAodmFyIGlkID0gMTsgaWQgPD0gbWF4UHVycG9zZUlkOyBpZCArPSAxKSB7XG4gICAgcHVycG9zZVN0cmluZyArPSBhbGxvd2VkUHVycG9zZUlkcy5pbmRleE9mKGlkKSAhPT0gLTEgPyAnMScgOiAnMCc7XG4gIH1cblxuICByZXR1cm4gcHVycG9zZVN0cmluZztcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgbGlzdCBvZiB2ZW5kb3IgSURzIHRvIHJhbmdlc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0W119IHZlbmRvcnMgTGlzdCBvZiB2ZW5kb3JzIGZyb20gdGhlIHZlbmRvciBsaXN0IChpbXBvcnRhbnQ6IHRoaXMgbGlzdCBtdXN0IHRvIGJlIHNvcnRlZCBieSBJRClcbiAqIEBwYXJhbSB7aW50ZWdlcltdfSBhbGxvd2VkVmVuZG9ySWRzIExpc3Qgb2YgdmVuZG9yIElEcyB0aGF0IHRoZSB1c2VyIGhhcyBnaXZlbiBjb25zZW50IHRvXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRWZW5kb3JzVG9SYW5nZXModmVuZG9ycywgYWxsb3dlZFZlbmRvcklkcykge1xuICB2YXIgcmFuZ2UgPSBbXTtcbiAgdmFyIHJhbmdlcyA9IFtdO1xuXG4gIHZhciBpZHNJbkxpc3QgPSB2ZW5kb3JzLm1hcChmdW5jdGlvbiAodmVuZG9yKSB7XG4gICAgcmV0dXJuIHZlbmRvci5pZDtcbiAgfSk7XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHZlbmRvcnMubGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdmFyIGlkID0gdmVuZG9yc1tpbmRleF0uaWQ7XG5cbiAgICBpZiAoYWxsb3dlZFZlbmRvcklkcy5pbmRleE9mKGlkKSAhPT0gLTEpIHtcbiAgICAgIHJhbmdlLnB1c2goaWQpO1xuICAgIH1cblxuICAgIC8vIERvIHdlIG5lZWQgdG8gY2xvc2UgdGhlIGN1cnJlbnQgcmFuZ2U/XG4gICAgaWYgKChhbGxvd2VkVmVuZG9ySWRzLmluZGV4T2YoaWQpID09PSAtMSAvLyBUaGUgdmVuZG9yIHdlIGFyZSBldmFsdWF0aW5nIGlzIG5vdCBhbGxvd2VkXG4gICAgfHwgaW5kZXggPT09IHZlbmRvcnMubGVuZ3RoIC0gMSAvLyBUaGVyZSBpcyBubyBtb3JlIHZlbmRvciB0byBldmFsdWF0ZVxuICAgIHx8IGlkc0luTGlzdC5pbmRleE9mKGlkICsgMSkgPT09IC0xIC8vIFRoZXJlIGlzIG5vIHZlbmRvciBhZnRlciB0aGlzIG9uZSAoaWUgdGhlcmUgaXMgYSBnYXAgaW4gdGhlIHZlbmRvciBJRHMpIDsgd2UgbmVlZCB0byBzdG9wIGhlcmUgdG8gYXZvaWQgaW5jbHVkaW5nIHZlbmRvcnMgdGhhdCBkbyBub3QgaGF2ZSBjb25zZW50XG4gICAgKSAmJiByYW5nZS5sZW5ndGgpIHtcbiAgICAgIHZhciBzdGFydFZlbmRvcklkID0gcmFuZ2Uuc2hpZnQoKTtcbiAgICAgIHZhciBlbmRWZW5kb3JJZCA9IHJhbmdlLnBvcCgpO1xuXG4gICAgICByYW5nZSA9IFtdO1xuXG4gICAgICByYW5nZXMucHVzaCh7XG4gICAgICAgIGlzUmFuZ2U6IHR5cGVvZiBlbmRWZW5kb3JJZCA9PT0gJ251bWJlcicsXG4gICAgICAgIHN0YXJ0VmVuZG9ySWQ6IHN0YXJ0VmVuZG9ySWQsXG4gICAgICAgIGVuZFZlbmRvcklkOiBlbmRWZW5kb3JJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJhbmdlcztcbn1cblxuLyoqXG4gKiBHZXQgbWF4VmVuZG9ySWQgZnJvbSB0aGUgbGlzdCBvZiB2ZW5kb3JzIGFuZCByZXR1cm4gdGhhdCBpZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2ZW5kb3JzXG4gKi9cbmZ1bmN0aW9uIGdldE1heFZlbmRvcklkKHZlbmRvcnMpIHtcbiAgLy8gRmluZCB0aGUgbWF4IHZlbmRvciBJRCBmcm9tIHRoZSB2ZW5kb3IgbGlzdFxuICB2YXIgbWF4VmVuZG9ySWQgPSAwO1xuXG4gIHZlbmRvcnMuZm9yRWFjaChmdW5jdGlvbiAodmVuZG9yKSB7XG4gICAgaWYgKHZlbmRvci5pZCA+IG1heFZlbmRvcklkKSB7XG4gICAgICBtYXhWZW5kb3JJZCA9IHZlbmRvci5pZDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWF4VmVuZG9ySWQ7XG59XG4vKipcbiAqIEVuY29kZSBjb25zZW50IGRhdGEgaW50byBhIHdlYi1zYWZlIGJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25zZW50RGF0YSBEYXRhIHRvIGluY2x1ZGUgaW4gdGhlIHN0cmluZyAoc2VlIGB1dGlscy9kZWZpbml0aW9ucy5qc2AgZm9yIHRoZSBsaXN0IG9mIGZpZWxkcylcbiAqL1xuZnVuY3Rpb24gZW5jb2RlQ29uc2VudFN0cmluZyhjb25zZW50RGF0YSkge1xuICB2YXIgbWF4VmVuZG9ySWQgPSBjb25zZW50RGF0YS5tYXhWZW5kb3JJZDtcbiAgdmFyIF9jb25zZW50RGF0YSR2ZW5kb3JMaSA9IGNvbnNlbnREYXRhLnZlbmRvckxpc3QsXG4gICAgICB2ZW5kb3JMaXN0ID0gX2NvbnNlbnREYXRhJHZlbmRvckxpID09PSB1bmRlZmluZWQgPyB7fSA6IF9jb25zZW50RGF0YSR2ZW5kb3JMaSxcbiAgICAgIGFsbG93ZWRQdXJwb3NlSWRzID0gY29uc2VudERhdGEuYWxsb3dlZFB1cnBvc2VJZHMsXG4gICAgICBhbGxvd2VkVmVuZG9ySWRzID0gY29uc2VudERhdGEuYWxsb3dlZFZlbmRvcklkcztcbiAgdmFyIF92ZW5kb3JMaXN0JHZlbmRvcnMgPSB2ZW5kb3JMaXN0LnZlbmRvcnMsXG4gICAgICB2ZW5kb3JzID0gX3ZlbmRvckxpc3QkdmVuZG9ycyA9PT0gdW5kZWZpbmVkID8gW10gOiBfdmVuZG9yTGlzdCR2ZW5kb3JzLFxuICAgICAgX3ZlbmRvckxpc3QkcHVycG9zZXMgPSB2ZW5kb3JMaXN0LnB1cnBvc2VzLFxuICAgICAgcHVycG9zZXMgPSBfdmVuZG9yTGlzdCRwdXJwb3NlcyA9PT0gdW5kZWZpbmVkID8gW10gOiBfdmVuZG9yTGlzdCRwdXJwb3NlcztcblxuICAvLyBpZiBubyBtYXhWZW5kb3JJZCBpcyBpbiB0aGUgQ29uc2VudERhdGEsIGdldCBpdFxuXG4gIGlmICghbWF4VmVuZG9ySWQpIHtcbiAgICBtYXhWZW5kb3JJZCA9IGdldE1heFZlbmRvcklkKHZlbmRvcnMpO1xuICB9XG5cbiAgLy8gRW5jb2RlIHRoZSBkYXRhIHdpdGggYW5kIHdpdGhvdXQgcmFuZ2VzIGFuZCByZXR1cm4gdGhlIHNtYWxsZXN0IGVuY29kZWQgcGF5bG9hZFxuICB2YXIgbm9SYW5nZXNEYXRhID0gZW5jb2RlVG9CYXNlNjQoX2V4dGVuZHMoe30sIGNvbnNlbnREYXRhLCB7XG4gICAgbWF4VmVuZG9ySWQ6IG1heFZlbmRvcklkLFxuICAgIHB1cnBvc2VJZEJpdFN0cmluZzogZW5jb2RlUHVycG9zZUlkc1RvQml0cyhwdXJwb3NlcywgYWxsb3dlZFB1cnBvc2VJZHMpLFxuICAgIGlzUmFuZ2U6IGZhbHNlLFxuICAgIHZlbmRvcklkQml0U3RyaW5nOiBlbmNvZGVWZW5kb3JJZHNUb0JpdHMobWF4VmVuZG9ySWQsIGFsbG93ZWRWZW5kb3JJZHMpXG4gIH0pKTtcblxuICB2YXIgdmVuZG9yUmFuZ2VMaXN0ID0gY29udmVydFZlbmRvcnNUb1Jhbmdlcyh2ZW5kb3JzLCBhbGxvd2VkVmVuZG9ySWRzKTtcblxuICB2YXIgcmFuZ2VzRGF0YSA9IGVuY29kZVRvQmFzZTY0KF9leHRlbmRzKHt9LCBjb25zZW50RGF0YSwge1xuICAgIG1heFZlbmRvcklkOiBtYXhWZW5kb3JJZCxcbiAgICBwdXJwb3NlSWRCaXRTdHJpbmc6IGVuY29kZVB1cnBvc2VJZHNUb0JpdHMocHVycG9zZXMsIGFsbG93ZWRQdXJwb3NlSWRzKSxcbiAgICBpc1JhbmdlOiB0cnVlLFxuICAgIGRlZmF1bHRDb25zZW50OiBmYWxzZSxcbiAgICBudW1FbnRyaWVzOiB2ZW5kb3JSYW5nZUxpc3QubGVuZ3RoLFxuICAgIHZlbmRvclJhbmdlTGlzdDogdmVuZG9yUmFuZ2VMaXN0XG4gIH0pKTtcblxuICByZXR1cm4gbm9SYW5nZXNEYXRhLmxlbmd0aCA8IHJhbmdlc0RhdGEubGVuZ3RoID8gbm9SYW5nZXNEYXRhIDogcmFuZ2VzRGF0YTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbnZlcnRWZW5kb3JzVG9SYW5nZXM6IGNvbnZlcnRWZW5kb3JzVG9SYW5nZXMsXG4gIGVuY29kZUNvbnNlbnRTdHJpbmc6IGVuY29kZUNvbnNlbnRTdHJpbmcsXG4gIGdldE1heFZlbmRvcklkOiBnZXRNYXhWZW5kb3JJZCxcbiAgZW5jb2RlVmVuZG9ySWRzVG9CaXRzOiBlbmNvZGVWZW5kb3JJZHNUb0JpdHMsXG4gIGVuY29kZVB1cnBvc2VJZHNUb0JpdHM6IGVuY29kZVB1cnBvc2VJZHNUb0JpdHNcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IG9mZiAqL1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZS02NCcpO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuL2RlZmluaXRpb25zJyksXG4gICAgdmVyc2lvbk51bUJpdHMgPSBfcmVxdWlyZS52ZXJzaW9uTnVtQml0cyxcbiAgICB2ZW5kb3JWZXJzaW9uTWFwID0gX3JlcXVpcmUudmVuZG9yVmVyc2lvbk1hcDtcblxuZnVuY3Rpb24gcmVwZWF0KGNvdW50KSB7XG4gIHZhciBzdHJpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcwJztcblxuICB2YXIgcGFkU3RyaW5nID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgcGFkU3RyaW5nICs9IHN0cmluZztcbiAgfVxuXG4gIHJldHVybiBwYWRTdHJpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyaW5nLCBwYWRkaW5nKSB7XG4gIHJldHVybiByZXBlYXQoTWF0aC5tYXgoMCwgcGFkZGluZykpICsgc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBwYWRSaWdodChzdHJpbmcsIHBhZGRpbmcpIHtcbiAgcmV0dXJuIHN0cmluZyArIHJlcGVhdChNYXRoLm1heCgwLCBwYWRkaW5nKSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZUludFRvQml0cyhudW1iZXIsIG51bUJpdHMpIHtcbiAgdmFyIGJpdFN0cmluZyA9ICcnO1xuXG4gIGlmICh0eXBlb2YgbnVtYmVyID09PSAnbnVtYmVyJyAmJiAhaXNOYU4obnVtYmVyKSkge1xuICAgIGJpdFN0cmluZyA9IHBhcnNlSW50KG51bWJlciwgMTApLnRvU3RyaW5nKDIpO1xuICB9XG5cbiAgLy8gUGFkIHRoZSBzdHJpbmcgaWYgbm90IGZpbGxpbmcgYWxsIGJpdHNcbiAgaWYgKG51bUJpdHMgPj0gYml0U3RyaW5nLmxlbmd0aCkge1xuICAgIGJpdFN0cmluZyA9IHBhZExlZnQoYml0U3RyaW5nLCBudW1CaXRzIC0gYml0U3RyaW5nLmxlbmd0aCk7XG4gIH1cblxuICAvLyBUcnVuY2F0ZSB0aGUgc3RyaW5nIGlmIGxvbmdlciB0aGFuIHRoZSBudW1iZXIgb2YgYml0c1xuICBpZiAoYml0U3RyaW5nLmxlbmd0aCA+IG51bUJpdHMpIHtcbiAgICBiaXRTdHJpbmcgPSBiaXRTdHJpbmcuc3Vic3RyaW5nKDAsIG51bUJpdHMpO1xuICB9XG5cbiAgcmV0dXJuIGJpdFN0cmluZztcbn1cblxuZnVuY3Rpb24gZW5jb2RlQm9vbFRvQml0cyh2YWx1ZSkge1xuICByZXR1cm4gZW5jb2RlSW50VG9CaXRzKHZhbHVlID09PSB0cnVlID8gMSA6IDAsIDEpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVEYXRlVG9CaXRzKGRhdGUsIG51bUJpdHMpIHtcbiAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIGVuY29kZUludFRvQml0cyhkYXRlLmdldFRpbWUoKSAvIDEwMCwgbnVtQml0cyk7XG4gIH1cbiAgcmV0dXJuIGVuY29kZUludFRvQml0cyhkYXRlLCBudW1CaXRzKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlTGV0dGVyVG9CaXRzKGxldHRlciwgbnVtQml0cykge1xuICByZXR1cm4gZW5jb2RlSW50VG9CaXRzKGxldHRlci50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkgLSA2NSwgbnVtQml0cyk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZUxhbmd1YWdlVG9CaXRzKGxhbmd1YWdlKSB7XG4gIHZhciBudW1CaXRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMjtcblxuICByZXR1cm4gZW5jb2RlTGV0dGVyVG9CaXRzKGxhbmd1YWdlLnNsaWNlKDAsIDEpLCBudW1CaXRzIC8gMikgKyBlbmNvZGVMZXR0ZXJUb0JpdHMobGFuZ3VhZ2Uuc2xpY2UoMSksIG51bUJpdHMgLyAyKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlQml0c1RvSW50KGJpdFN0cmluZywgc3RhcnQsIGxlbmd0aCkge1xuICByZXR1cm4gcGFyc2VJbnQoYml0U3RyaW5nLnN1YnN0cihzdGFydCwgbGVuZ3RoKSwgMik7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUJpdHNUb0RhdGUoYml0U3RyaW5nLCBzdGFydCwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkZWNvZGVCaXRzVG9JbnQoYml0U3RyaW5nLCBzdGFydCwgbGVuZ3RoKSAqIDEwMCk7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUJpdHNUb0Jvb2woYml0U3RyaW5nLCBzdGFydCkge1xuICByZXR1cm4gcGFyc2VJbnQoYml0U3RyaW5nLnN1YnN0cihzdGFydCwgMSksIDIpID09PSAxO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVCaXRzVG9MZXR0ZXIoYml0U3RyaW5nKSB7XG4gIHZhciBsZXR0ZXJDb2RlID0gZGVjb2RlQml0c1RvSW50KGJpdFN0cmluZyk7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGxldHRlckNvZGUgKyA2NSkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlQml0c1RvTGFuZ3VhZ2UoYml0U3RyaW5nLCBzdGFydCwgbGVuZ3RoKSB7XG4gIHZhciBsYW5ndWFnZUJpdFN0cmluZyA9IGJpdFN0cmluZy5zdWJzdHIoc3RhcnQsIGxlbmd0aCk7XG5cbiAgcmV0dXJuIGRlY29kZUJpdHNUb0xldHRlcihsYW5ndWFnZUJpdFN0cmluZy5zbGljZSgwLCBsZW5ndGggLyAyKSkgKyBkZWNvZGVCaXRzVG9MZXR0ZXIobGFuZ3VhZ2VCaXRTdHJpbmcuc2xpY2UobGVuZ3RoIC8gMikpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVGaWVsZChfcmVmKSB7XG4gIHZhciBpbnB1dCA9IF9yZWYuaW5wdXQsXG4gICAgICBmaWVsZCA9IF9yZWYuZmllbGQ7XG4gIHZhciBuYW1lID0gZmllbGQubmFtZSxcbiAgICAgIHR5cGUgPSBmaWVsZC50eXBlLFxuICAgICAgbnVtQml0cyA9IGZpZWxkLm51bUJpdHMsXG4gICAgICBlbmNvZGVyID0gZmllbGQuZW5jb2RlcixcbiAgICAgIHZhbGlkYXRvciA9IGZpZWxkLnZhbGlkYXRvcjtcblxuXG4gIGlmICh0eXBlb2YgdmFsaWRhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCF2YWxpZGF0b3IoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbmNvZGVyKGlucHV0KTtcbiAgfVxuXG4gIHZhciBiaXRDb3VudCA9IHR5cGVvZiBudW1CaXRzID09PSAnZnVuY3Rpb24nID8gbnVtQml0cyhpbnB1dCkgOiBudW1CaXRzO1xuXG4gIHZhciBpbnB1dFZhbHVlID0gaW5wdXRbbmFtZV07XG4gIHZhciBmaWVsZFZhbHVlID0gaW5wdXRWYWx1ZSA9PT0gbnVsbCB8fCBpbnB1dFZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IGlucHV0VmFsdWU7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnaW50JzpcbiAgICAgIHJldHVybiBlbmNvZGVJbnRUb0JpdHMoZmllbGRWYWx1ZSwgYml0Q291bnQpO1xuICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgcmV0dXJuIGVuY29kZUJvb2xUb0JpdHMoZmllbGRWYWx1ZSk7XG4gICAgY2FzZSAnZGF0ZSc6XG4gICAgICByZXR1cm4gZW5jb2RlRGF0ZVRvQml0cyhmaWVsZFZhbHVlLCBiaXRDb3VudCk7XG4gICAgY2FzZSAnYml0cyc6XG4gICAgICByZXR1cm4gcGFkUmlnaHQoZmllbGRWYWx1ZSwgYml0Q291bnQgLSBmaWVsZFZhbHVlLmxlbmd0aCkuc3Vic3RyaW5nKDAsIGJpdENvdW50KTtcbiAgICBjYXNlICdsaXN0JzpcbiAgICAgIHJldHVybiBmaWVsZFZhbHVlLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBsaXN0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFjYyArIGVuY29kZUZpZWxkcyh7XG4gICAgICAgICAgaW5wdXQ6IGxpc3RWYWx1ZSxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkc1xuICAgICAgICB9KTtcbiAgICAgIH0sICcnKTtcbiAgICBjYXNlICdsYW5ndWFnZSc6XG4gICAgICByZXR1cm4gZW5jb2RlTGFuZ3VhZ2VUb0JpdHMoZmllbGRWYWx1ZSwgYml0Q291bnQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnNlbnRTdHJpbmcgLSBVbmtub3duIGZpZWxkIHR5cGUgJyArIHR5cGUgKyAnIGZvciBlbmNvZGluZycpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuY29kZUZpZWxkcyhfcmVmMikge1xuICB2YXIgaW5wdXQgPSBfcmVmMi5pbnB1dCxcbiAgICAgIGZpZWxkcyA9IF9yZWYyLmZpZWxkcztcblxuICByZXR1cm4gZmllbGRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmaWVsZCkge1xuICAgIGFjYyArPSBlbmNvZGVGaWVsZCh7IGlucHV0OiBpbnB1dCwgZmllbGQ6IGZpZWxkIH0pO1xuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwgJycpO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVGaWVsZChfcmVmMykge1xuICB2YXIgaW5wdXQgPSBfcmVmMy5pbnB1dCxcbiAgICAgIG91dHB1dCA9IF9yZWYzLm91dHB1dCxcbiAgICAgIHN0YXJ0UG9zaXRpb24gPSBfcmVmMy5zdGFydFBvc2l0aW9uLFxuICAgICAgZmllbGQgPSBfcmVmMy5maWVsZDtcbiAgdmFyIHR5cGUgPSBmaWVsZC50eXBlLFxuICAgICAgbnVtQml0cyA9IGZpZWxkLm51bUJpdHMsXG4gICAgICBkZWNvZGVyID0gZmllbGQuZGVjb2RlcixcbiAgICAgIHZhbGlkYXRvciA9IGZpZWxkLnZhbGlkYXRvcixcbiAgICAgIGxpc3RDb3VudCA9IGZpZWxkLmxpc3RDb3VudDtcblxuXG4gIGlmICh0eXBlb2YgdmFsaWRhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCF2YWxpZGF0b3Iob3V0cHV0KSkge1xuICAgICAgLy8gTm90IGRlY29kaW5nIHRoaXMgZmllbGQgc28gbWFrZSBzdXJlIHdlIHN0YXJ0IHBhcnNpbmcgdGhlIG5leHQgZmllbGQgYXRcbiAgICAgIC8vIHRoZSBzYW1lIHBvaW50XG4gICAgICByZXR1cm4geyBuZXdQb3NpdGlvbjogc3RhcnRQb3NpdGlvbiB9O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBkZWNvZGVyKGlucHV0LCBvdXRwdXQsIHN0YXJ0UG9zaXRpb24pO1xuICB9XG5cbiAgdmFyIGJpdENvdW50ID0gdHlwZW9mIG51bUJpdHMgPT09ICdmdW5jdGlvbicgPyBudW1CaXRzKG91dHB1dCkgOiBudW1CaXRzO1xuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2ludCc6XG4gICAgICByZXR1cm4geyBmaWVsZFZhbHVlOiBkZWNvZGVCaXRzVG9JbnQoaW5wdXQsIHN0YXJ0UG9zaXRpb24sIGJpdENvdW50KSB9O1xuICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgcmV0dXJuIHsgZmllbGRWYWx1ZTogZGVjb2RlQml0c1RvQm9vbChpbnB1dCwgc3RhcnRQb3NpdGlvbikgfTtcbiAgICBjYXNlICdkYXRlJzpcbiAgICAgIHJldHVybiB7IGZpZWxkVmFsdWU6IGRlY29kZUJpdHNUb0RhdGUoaW5wdXQsIHN0YXJ0UG9zaXRpb24sIGJpdENvdW50KSB9O1xuICAgIGNhc2UgJ2JpdHMnOlxuICAgICAgcmV0dXJuIHsgZmllbGRWYWx1ZTogaW5wdXQuc3Vic3RyKHN0YXJ0UG9zaXRpb24sIGJpdENvdW50KSB9O1xuICAgIGNhc2UgJ2xpc3QnOlxuICAgICAgcmV0dXJuIGRlY29kZUxpc3QoaW5wdXQsIG91dHB1dCwgc3RhcnRQb3NpdGlvbiwgZmllbGQsIGxpc3RDb3VudCk7XG4gICAgY2FzZSAnbGFuZ3VhZ2UnOlxuICAgICAgcmV0dXJuIHsgZmllbGRWYWx1ZTogZGVjb2RlQml0c1RvTGFuZ3VhZ2UoaW5wdXQsIHN0YXJ0UG9zaXRpb24sIGJpdENvdW50KSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnNlbnRTdHJpbmcgLSBVbmtub3duIGZpZWxkIHR5cGUgJyArIHR5cGUgKyAnIGZvciBkZWNvZGluZycpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZUxpc3QoaW5wdXQsIG91dHB1dCwgc3RhcnRQb3NpdGlvbiwgZmllbGQsIGxpc3RDb3VudCkge1xuICB2YXIgbGlzdEVudHJ5Q291bnQgPSAwO1xuXG4gIGlmICh0eXBlb2YgbGlzdENvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbGlzdEVudHJ5Q291bnQgPSBsaXN0Q291bnQob3V0cHV0KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdENvdW50ID09PSAnbnVtYmVyJykge1xuICAgIGxpc3RFbnRyeUNvdW50ID0gbGlzdENvdW50O1xuICB9XG5cbiAgdmFyIG5ld1Bvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgdmFyIGZpZWxkVmFsdWUgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RFbnRyeUNvdW50OyBpICs9IDEpIHtcbiAgICB2YXIgZGVjb2RlZEZpZWxkcyA9IGRlY29kZUZpZWxkcyh7XG4gICAgICBpbnB1dDogaW5wdXQsXG4gICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgIHN0YXJ0UG9zaXRpb246IG5ld1Bvc2l0aW9uXG4gICAgfSk7XG5cbiAgICBuZXdQb3NpdGlvbiA9IGRlY29kZWRGaWVsZHMubmV3UG9zaXRpb247XG4gICAgZmllbGRWYWx1ZS5wdXNoKGRlY29kZWRGaWVsZHMuZGVjb2RlZE9iamVjdCk7XG4gIH1cblxuICByZXR1cm4geyBmaWVsZFZhbHVlOiBmaWVsZFZhbHVlLCBuZXdQb3NpdGlvbjogbmV3UG9zaXRpb24gfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlRmllbGRzKF9yZWY0KSB7XG4gIHZhciBpbnB1dCA9IF9yZWY0LmlucHV0LFxuICAgICAgZmllbGRzID0gX3JlZjQuZmllbGRzLFxuICAgICAgX3JlZjQkc3RhcnRQb3NpdGlvbiA9IF9yZWY0LnN0YXJ0UG9zaXRpb24sXG4gICAgICBzdGFydFBvc2l0aW9uID0gX3JlZjQkc3RhcnRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWY0JHN0YXJ0UG9zaXRpb247XG5cbiAgdmFyIHBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcblxuICB2YXIgZGVjb2RlZE9iamVjdCA9IGZpZWxkcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZmllbGQpIHtcbiAgICB2YXIgbmFtZSA9IGZpZWxkLm5hbWUsXG4gICAgICAgIG51bUJpdHMgPSBmaWVsZC5udW1CaXRzO1xuXG4gICAgdmFyIF9kZWNvZGVGaWVsZCA9IGRlY29kZUZpZWxkKHtcbiAgICAgIGlucHV0OiBpbnB1dCxcbiAgICAgIG91dHB1dDogYWNjLFxuICAgICAgc3RhcnRQb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICBmaWVsZDogZmllbGRcbiAgICB9KSxcbiAgICAgICAgZmllbGRWYWx1ZSA9IF9kZWNvZGVGaWVsZC5maWVsZFZhbHVlLFxuICAgICAgICBuZXdQb3NpdGlvbiA9IF9kZWNvZGVGaWVsZC5uZXdQb3NpdGlvbjtcblxuICAgIGlmIChmaWVsZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFjY1tuYW1lXSA9IGZpZWxkVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld1Bvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbnVtQml0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHBvc2l0aW9uICs9IG51bUJpdHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuXG4gIHJldHVybiB7XG4gICAgZGVjb2RlZE9iamVjdDogZGVjb2RlZE9iamVjdCxcbiAgICBuZXdQb3NpdGlvbjogcG9zaXRpb25cbiAgfTtcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGRhdGEgcHJvcGVydGllcyB0byBhIGJpdCBzdHJpbmcuIEVuY29kaW5nIHdpbGwgZW5jb2RlXG4gKiBlaXRoZXIgYHNlbGVjdGVkVmVuZG9ySWRzYCBvciB0aGUgYHZlbmRvclJhbmdlTGlzdGAgZGVwZW5kaW5nIG9uXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGBpc1JhbmdlYCBmbGFnLlxuICovXG5mdW5jdGlvbiBlbmNvZGVEYXRhVG9CaXRzKGRhdGEsIGRlZmluaXRpb25NYXApIHtcbiAgdmFyIHZlcnNpb24gPSBkYXRhLnZlcnNpb247XG5cblxuICBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb25zZW50U3RyaW5nIC0gTm8gdmVyc2lvbiBmaWVsZCB0byBlbmNvZGUnKTtcbiAgfSBlbHNlIGlmICghZGVmaW5pdGlvbk1hcFt2ZXJzaW9uXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29uc2VudFN0cmluZyAtIE5vIGRlZmluaXRpb24gZm9yIHZlcnNpb24gJyArIHZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIHZhciBmaWVsZHMgPSBkZWZpbml0aW9uTWFwW3ZlcnNpb25dLmZpZWxkcztcbiAgICByZXR1cm4gZW5jb2RlRmllbGRzKHsgaW5wdXQ6IGRhdGEsIGZpZWxkczogZmllbGRzIH0pO1xuICB9XG59XG5cbi8qKlxuICogVGFrZSBhbGwgZmllbGRzIHJlcXVpcmVkIHRvIGVuY29kZSB0aGUgY29uc2VudCBzdHJpbmcgYW5kIHByb2R1Y2UgdGhlIFVSTCBzYWZlIEJhc2U2NCBlbmNvZGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVRvQmFzZTY0KGRhdGEpIHtcbiAgdmFyIGRlZmluaXRpb25NYXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHZlbmRvclZlcnNpb25NYXA7XG5cbiAgdmFyIGJpbmFyeVZhbHVlID0gZW5jb2RlRGF0YVRvQml0cyhkYXRhLCBkZWZpbml0aW9uTWFwKTtcblxuICBpZiAoYmluYXJ5VmFsdWUpIHtcbiAgICAvLyBQYWQgbGVuZ3RoIHRvIG11bHRpcGxlIG9mIDhcbiAgICB2YXIgcGFkZGVkQmluYXJ5VmFsdWUgPSBwYWRSaWdodChiaW5hcnlWYWx1ZSwgNyAtIChiaW5hcnlWYWx1ZS5sZW5ndGggKyA3KSAlIDgpO1xuXG4gICAgLy8gRW5jb2RlIHRvIGJ5dGVzXG4gICAgdmFyIGJ5dGVzID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWRkZWRCaW5hcnlWYWx1ZS5sZW5ndGg7IGkgKz0gOCkge1xuICAgICAgYnl0ZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChwYWRkZWRCaW5hcnlWYWx1ZS5zdWJzdHIoaSwgOCksIDIpKTtcbiAgICB9XG5cbiAgICAvLyBNYWtlIGJhc2U2NCBzdHJpbmcgVVJMIGZyaWVuZGx5XG4gICAgcmV0dXJuIGJhc2U2NC5lbmNvZGUoYnl0ZXMpLnJlcGxhY2UoL1xcKy9nLCAnLScpLnJlcGxhY2UoL1xcLy9nLCAnXycpLnJlcGxhY2UoLz0rJC8sICcnKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVDb25zZW50U3RyaW5nQml0VmFsdWUoYml0U3RyaW5nKSB7XG4gIHZhciBkZWZpbml0aW9uTWFwID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB2ZW5kb3JWZXJzaW9uTWFwO1xuXG4gIHZhciB2ZXJzaW9uID0gZGVjb2RlQml0c1RvSW50KGJpdFN0cmluZywgMCwgdmVyc2lvbk51bUJpdHMpO1xuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnNlbnRTdHJpbmcgLSBVbmtub3duIHZlcnNpb24gbnVtYmVyIGluIHRoZSBzdHJpbmcgdG8gZGVjb2RlJyk7XG4gIH0gZWxzZSBpZiAoIXZlbmRvclZlcnNpb25NYXBbdmVyc2lvbl0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnNlbnRTdHJpbmcgLSBVbnN1cHBvcnRlZCB2ZXJzaW9uICcgKyB2ZXJzaW9uICsgJyBpbiB0aGUgc3RyaW5nIHRvIGRlY29kZScpO1xuICB9XG5cbiAgdmFyIGZpZWxkcyA9IGRlZmluaXRpb25NYXBbdmVyc2lvbl0uZmllbGRzO1xuXG4gIHZhciBfZGVjb2RlRmllbGRzID0gZGVjb2RlRmllbGRzKHsgaW5wdXQ6IGJpdFN0cmluZywgZmllbGRzOiBmaWVsZHMgfSksXG4gICAgICBkZWNvZGVkT2JqZWN0ID0gX2RlY29kZUZpZWxkcy5kZWNvZGVkT2JqZWN0O1xuXG4gIHJldHVybiBkZWNvZGVkT2JqZWN0O1xufVxuXG4vKipcbiAqIERlY29kZSB0aGUgKFVSTCBzYWZlIEJhc2U2NCkgdmFsdWUgb2YgYSBjb25zZW50IHN0cmluZyBpbnRvIGFuIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlRnJvbUJhc2U2NChjb25zZW50U3RyaW5nLCBkZWZpbml0aW9uTWFwKSB7XG4gIC8vIEFkZCBwYWRkaW5nXG4gIHZhciB1bnNhZmUgPSBjb25zZW50U3RyaW5nO1xuICB3aGlsZSAodW5zYWZlLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICB1bnNhZmUgKz0gJz0nO1xuICB9XG5cbiAgLy8gUmVwbGFjZSBzYWZlIGNoYXJhY3RlcnNcbiAgdW5zYWZlID0gdW5zYWZlLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG5cbiAgdmFyIGJ5dGVzID0gYmFzZTY0LmRlY29kZSh1bnNhZmUpO1xuXG4gIHZhciBpbnB1dEJpdHMgPSAnJztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBiaXRTdHJpbmcgPSBieXRlcy5jaGFyQ29kZUF0KGkpLnRvU3RyaW5nKDIpO1xuICAgIGlucHV0Qml0cyArPSBwYWRMZWZ0KGJpdFN0cmluZywgOCAtIGJpdFN0cmluZy5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvbnNlbnRTdHJpbmdCaXRWYWx1ZShpbnB1dEJpdHMsIGRlZmluaXRpb25NYXApO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVCaXRzVG9JZHMoYml0U3RyaW5nKSB7XG4gIHJldHVybiBiaXRTdHJpbmcuc3BsaXQoJycpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBiaXQsIGluZGV4KSB7XG4gICAgaWYgKGJpdCA9PT0gJzEnKSB7XG4gICAgICBpZiAoYWNjLmluZGV4T2YoaW5kZXggKyAxKSA9PT0gLTEpIHtcbiAgICAgICAgYWNjLnB1c2goaW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcGFkUmlnaHQ6IHBhZFJpZ2h0LFxuICBwYWRMZWZ0OiBwYWRMZWZ0LFxuICBlbmNvZGVGaWVsZDogZW5jb2RlRmllbGQsXG4gIGVuY29kZURhdGFUb0JpdHM6IGVuY29kZURhdGFUb0JpdHMsXG4gIGVuY29kZUludFRvQml0czogZW5jb2RlSW50VG9CaXRzLFxuICBlbmNvZGVCb29sVG9CaXRzOiBlbmNvZGVCb29sVG9CaXRzLFxuICBlbmNvZGVEYXRlVG9CaXRzOiBlbmNvZGVEYXRlVG9CaXRzLFxuICBlbmNvZGVMYW5ndWFnZVRvQml0czogZW5jb2RlTGFuZ3VhZ2VUb0JpdHMsXG4gIGVuY29kZUxldHRlclRvQml0czogZW5jb2RlTGV0dGVyVG9CaXRzLFxuICBlbmNvZGVUb0Jhc2U2NDogZW5jb2RlVG9CYXNlNjQsXG4gIGRlY29kZUJpdHNUb0lkczogZGVjb2RlQml0c1RvSWRzLFxuICBkZWNvZGVCaXRzVG9JbnQ6IGRlY29kZUJpdHNUb0ludCxcbiAgZGVjb2RlQml0c1RvRGF0ZTogZGVjb2RlQml0c1RvRGF0ZSxcbiAgZGVjb2RlQml0c1RvQm9vbDogZGVjb2RlQml0c1RvQm9vbCxcbiAgZGVjb2RlQml0c1RvTGFuZ3VhZ2U6IGRlY29kZUJpdHNUb0xhbmd1YWdlLFxuICBkZWNvZGVCaXRzVG9MZXR0ZXI6IGRlY29kZUJpdHNUb0xldHRlcixcbiAgZGVjb2RlRnJvbUJhc2U2NDogZGVjb2RlRnJvbUJhc2U2NFxufTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTnVtYmVyIG9mIGJpdHMgZm9yIGVuY29kaW5nIHRoZSB2ZXJzaW9uIGludGVnZXJcbiAqIEV4cGVjdGVkIHRvIGJlIHRoZSBzYW1lIGFjcm9zcyB2ZXJzaW9uc1xuICovXG52YXIgdmVyc2lvbk51bUJpdHMgPSA2O1xuXG4vKipcbiAqIERlZmluaXRpb24gb2YgdGhlIGNvbnNlbnQgc3RyaW5nIGVuY29kZWQgZm9ybWF0XG4gKlxuICogRnJvbSBodHRwczovL2dpdGh1Yi5jb20vSW50ZXJhY3RpdmVBZHZlcnRpc2luZ0J1cmVhdS9HRFBSLVRyYW5zcGFyZW5jeS1hbmQtQ29uc2VudC1GcmFtZXdvcmsvYmxvYi9tYXN0ZXIvRHJhZnRfZm9yX1B1YmxpY19Db21tZW50X1RyYW5zcGFyZW5jeSUyMCUyNiUyMENvbnNlbnQlMjBGcmFtZXdvcmslMjAtJTIwY29va2llJTIwYW5kJTIwdmVuZG9yJTIwbGlzdCUyMGZvcm1hdCUyMHNwZWNpZmljYXRpb24lMjB2MS4wYS5wZGZcbiAqL1xudmFyIHZlbmRvclZlcnNpb25NYXAgPSB7XG4gIC8qKlxuICAgKiBWZXJzaW9uIDFcbiAgICovXG4gIDE6IHtcbiAgICB2ZXJzaW9uOiAxLFxuICAgIG1ldGFkYXRhRmllbGRzOiBbJ3ZlcnNpb24nLCAnY3JlYXRlZCcsICdsYXN0VXBkYXRlZCcsICdjbXBJZCcsICdjbXBWZXJzaW9uJywgJ2NvbnNlbnRTY3JlZW4nLCAndmVuZG9yTGlzdFZlcnNpb24nXSxcbiAgICBmaWVsZHM6IFt7IG5hbWU6ICd2ZXJzaW9uJywgdHlwZTogJ2ludCcsIG51bUJpdHM6IDYgfSwgeyBuYW1lOiAnY3JlYXRlZCcsIHR5cGU6ICdkYXRlJywgbnVtQml0czogMzYgfSwgeyBuYW1lOiAnbGFzdFVwZGF0ZWQnLCB0eXBlOiAnZGF0ZScsIG51bUJpdHM6IDM2IH0sIHsgbmFtZTogJ2NtcElkJywgdHlwZTogJ2ludCcsIG51bUJpdHM6IDEyIH0sIHsgbmFtZTogJ2NtcFZlcnNpb24nLCB0eXBlOiAnaW50JywgbnVtQml0czogMTIgfSwgeyBuYW1lOiAnY29uc2VudFNjcmVlbicsIHR5cGU6ICdpbnQnLCBudW1CaXRzOiA2IH0sIHsgbmFtZTogJ2NvbnNlbnRMYW5ndWFnZScsIHR5cGU6ICdsYW5ndWFnZScsIG51bUJpdHM6IDEyIH0sIHsgbmFtZTogJ3ZlbmRvckxpc3RWZXJzaW9uJywgdHlwZTogJ2ludCcsIG51bUJpdHM6IDEyIH0sIHsgbmFtZTogJ3B1cnBvc2VJZEJpdFN0cmluZycsIHR5cGU6ICdiaXRzJywgbnVtQml0czogMjQgfSwgeyBuYW1lOiAnbWF4VmVuZG9ySWQnLCB0eXBlOiAnaW50JywgbnVtQml0czogMTYgfSwgeyBuYW1lOiAnaXNSYW5nZScsIHR5cGU6ICdib29sJywgbnVtQml0czogMSB9LCB7XG4gICAgICBuYW1lOiAndmVuZG9ySWRCaXRTdHJpbmcnLFxuICAgICAgdHlwZTogJ2JpdHMnLFxuICAgICAgbnVtQml0czogZnVuY3Rpb24gbnVtQml0cyhkZWNvZGVkT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVkT2JqZWN0Lm1heFZlbmRvcklkO1xuICAgICAgfSxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKGRlY29kZWRPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuICFkZWNvZGVkT2JqZWN0LmlzUmFuZ2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgbmFtZTogJ2RlZmF1bHRDb25zZW50JyxcbiAgICAgIHR5cGU6ICdib29sJyxcbiAgICAgIG51bUJpdHM6IDEsXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihkZWNvZGVkT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVkT2JqZWN0LmlzUmFuZ2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgbmFtZTogJ251bUVudHJpZXMnLFxuICAgICAgbnVtQml0czogMTIsXG4gICAgICB0eXBlOiAnaW50JyxcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKGRlY29kZWRPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZWRPYmplY3QuaXNSYW5nZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBuYW1lOiAndmVuZG9yUmFuZ2VMaXN0JyxcbiAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgIGxpc3RDb3VudDogZnVuY3Rpb24gbGlzdENvdW50KGRlY29kZWRPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZWRPYmplY3QubnVtRW50cmllcztcbiAgICAgIH0sXG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihkZWNvZGVkT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVkT2JqZWN0LmlzUmFuZ2U7XG4gICAgICB9LFxuICAgICAgZmllbGRzOiBbe1xuICAgICAgICBuYW1lOiAnaXNSYW5nZScsXG4gICAgICAgIHR5cGU6ICdib29sJyxcbiAgICAgICAgbnVtQml0czogMVxuICAgICAgfSwge1xuICAgICAgICBuYW1lOiAnc3RhcnRWZW5kb3JJZCcsXG4gICAgICAgIHR5cGU6ICdpbnQnLFxuICAgICAgICBudW1CaXRzOiAxNlxuICAgICAgfSwge1xuICAgICAgICBuYW1lOiAnZW5kVmVuZG9ySWQnLFxuICAgICAgICB0eXBlOiAnaW50JyxcbiAgICAgICAgbnVtQml0czogMTYsXG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKGRlY29kZWRPYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gZGVjb2RlZE9iamVjdC5pc1JhbmdlO1xuICAgICAgICB9XG4gICAgICB9XVxuICAgIH1dXG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB2ZXJzaW9uTnVtQml0czogdmVyc2lvbk51bUJpdHMsXG4gIHZlbmRvclZlcnNpb25NYXA6IHZlbmRvclZlcnNpb25NYXBcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuL3V0aWxzL2JpdHMnKSxcbiAgICBkZWNvZGVCaXRzVG9JZHMgPSBfcmVxdWlyZS5kZWNvZGVCaXRzVG9JZHMsXG4gICAgZGVjb2RlRnJvbUJhc2U2NCA9IF9yZXF1aXJlLmRlY29kZUZyb21CYXNlNjQ7XG5cbi8qKlxuICogRGVjb2RlIGNvbnNlbnQgZGF0YSBmcm9tIGEgd2ViLXNhZmUgYmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnNlbnRTdHJpbmdcbiAqL1xuXG5cbmZ1bmN0aW9uIGRlY29kZUNvbnNlbnRTdHJpbmcoY29uc2VudFN0cmluZykge1xuICB2YXIgX2RlY29kZUZyb21CYXNlID0gZGVjb2RlRnJvbUJhc2U2NChjb25zZW50U3RyaW5nKSxcbiAgICAgIHZlcnNpb24gPSBfZGVjb2RlRnJvbUJhc2UudmVyc2lvbixcbiAgICAgIGNtcElkID0gX2RlY29kZUZyb21CYXNlLmNtcElkLFxuICAgICAgdmVuZG9yTGlzdFZlcnNpb24gPSBfZGVjb2RlRnJvbUJhc2UudmVuZG9yTGlzdFZlcnNpb24sXG4gICAgICBwdXJwb3NlSWRCaXRTdHJpbmcgPSBfZGVjb2RlRnJvbUJhc2UucHVycG9zZUlkQml0U3RyaW5nLFxuICAgICAgbWF4VmVuZG9ySWQgPSBfZGVjb2RlRnJvbUJhc2UubWF4VmVuZG9ySWQsXG4gICAgICBjcmVhdGVkID0gX2RlY29kZUZyb21CYXNlLmNyZWF0ZWQsXG4gICAgICBsYXN0VXBkYXRlZCA9IF9kZWNvZGVGcm9tQmFzZS5sYXN0VXBkYXRlZCxcbiAgICAgIGlzUmFuZ2UgPSBfZGVjb2RlRnJvbUJhc2UuaXNSYW5nZSxcbiAgICAgIGRlZmF1bHRDb25zZW50ID0gX2RlY29kZUZyb21CYXNlLmRlZmF1bHRDb25zZW50LFxuICAgICAgdmVuZG9ySWRCaXRTdHJpbmcgPSBfZGVjb2RlRnJvbUJhc2UudmVuZG9ySWRCaXRTdHJpbmcsXG4gICAgICB2ZW5kb3JSYW5nZUxpc3QgPSBfZGVjb2RlRnJvbUJhc2UudmVuZG9yUmFuZ2VMaXN0LFxuICAgICAgY21wVmVyc2lvbiA9IF9kZWNvZGVGcm9tQmFzZS5jbXBWZXJzaW9uLFxuICAgICAgY29uc2VudFNjcmVlbiA9IF9kZWNvZGVGcm9tQmFzZS5jb25zZW50U2NyZWVuLFxuICAgICAgY29uc2VudExhbmd1YWdlID0gX2RlY29kZUZyb21CYXNlLmNvbnNlbnRMYW5ndWFnZTtcblxuICB2YXIgY29uc2VudFN0cmluZ0RhdGEgPSB7XG4gICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICBjbXBJZDogY21wSWQsXG4gICAgdmVuZG9yTGlzdFZlcnNpb246IHZlbmRvckxpc3RWZXJzaW9uLFxuICAgIGFsbG93ZWRQdXJwb3NlSWRzOiBkZWNvZGVCaXRzVG9JZHMocHVycG9zZUlkQml0U3RyaW5nKSxcbiAgICBtYXhWZW5kb3JJZDogbWF4VmVuZG9ySWQsXG4gICAgY3JlYXRlZDogY3JlYXRlZCxcbiAgICBsYXN0VXBkYXRlZDogbGFzdFVwZGF0ZWQsXG4gICAgY21wVmVyc2lvbjogY21wVmVyc2lvbixcbiAgICBjb25zZW50U2NyZWVuOiBjb25zZW50U2NyZWVuLFxuICAgIGNvbnNlbnRMYW5ndWFnZTogY29uc2VudExhbmd1YWdlXG4gIH07XG5cbiAgaWYgKGlzUmFuZ2UpIHtcbiAgICAvKiBlc2xpbnQgbm8tc2hhZG93OiBvZmYgKi9cbiAgICB2YXIgaWRNYXAgPSB2ZW5kb3JSYW5nZUxpc3QucmVkdWNlKGZ1bmN0aW9uIChhY2MsIF9yZWYpIHtcbiAgICAgIHZhciBpc1JhbmdlID0gX3JlZi5pc1JhbmdlLFxuICAgICAgICAgIHN0YXJ0VmVuZG9ySWQgPSBfcmVmLnN0YXJ0VmVuZG9ySWQsXG4gICAgICAgICAgZW5kVmVuZG9ySWQgPSBfcmVmLmVuZFZlbmRvcklkO1xuXG4gICAgICB2YXIgbGFzdFZlbmRvcklkID0gaXNSYW5nZSA/IGVuZFZlbmRvcklkIDogc3RhcnRWZW5kb3JJZDtcblxuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0VmVuZG9ySWQ7IGkgPD0gbGFzdFZlbmRvcklkOyBpICs9IDEpIHtcbiAgICAgICAgYWNjW2ldID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG5cbiAgICBjb25zZW50U3RyaW5nRGF0YS5hbGxvd2VkVmVuZG9ySWRzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBtYXhWZW5kb3JJZDsgaSArPSAxKSB7XG4gICAgICBpZiAoZGVmYXVsdENvbnNlbnQgJiYgIWlkTWFwW2ldIHx8ICFkZWZhdWx0Q29uc2VudCAmJiBpZE1hcFtpXSkge1xuICAgICAgICBpZiAoY29uc2VudFN0cmluZ0RhdGEuYWxsb3dlZFZlbmRvcklkcy5pbmRleE9mKGkpID09PSAtMSkge1xuICAgICAgICAgIGNvbnNlbnRTdHJpbmdEYXRhLmFsbG93ZWRWZW5kb3JJZHMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zZW50U3RyaW5nRGF0YS5hbGxvd2VkVmVuZG9ySWRzID0gZGVjb2RlQml0c1RvSWRzKHZlbmRvcklkQml0U3RyaW5nKTtcbiAgfVxuXG4gIHJldHVybiBjb25zZW50U3RyaW5nRGF0YTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRlY29kZUNvbnNlbnRTdHJpbmc6IGRlY29kZUNvbnNlbnRTdHJpbmdcbn07IiwiY29uc3Qge0NvbnNlbnRTdHJpbmd9ID0gcmVxdWlyZSgnY29uc2VudC1zdHJpbmcnKTtcclxuXHJcbkFkZXF1YS5hY3Rpb25zLmNvbnNlbnQgPSB7fTtcclxuXHJcbkFkZXF1YS5hY3Rpb25zLmNvbnNlbnQuZ2V0U2V0dGluZ3NCeVdlYnNpdGVJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgcmV0dXJuIEFkZXF1YS5jdXJyZW50LmNvbnNlbnQuc2V0dGluZ3MuZmlsdGVyKHNldHRpbmcgPT4gc2V0dGluZy5pZC53ZWJzaXRlX2lkID09PSBpZCk7XHJcbn07XHJcblxyXG5BZGVxdWEuYWN0aW9ucy5jb25zZW50LmdldERlZmF1bHRQdXJwb3NlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBkZWZhdWx0U2V0dGluZ3MgPSBBZGVxdWEuY3VycmVudC5jb25zZW50LnNldHRpbmdzLmZpbHRlcihzZXR0aW5nID0+IHNldHRpbmcuaWQud2Vic2l0ZV9pZCA9PT0gXCJhbGxcIiAmJiBzZXR0aW5nLmlkLnZlbmRvcl9pZCA9PT0gXCJhbGxcIik7XHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IHt9O1xyXG5cclxuICAgIGZvciAoY29uc3Qgc2V0dGluZyBvZiBkZWZhdWx0U2V0dGluZ3MpXHJcbiAgICAgICAgc2V0dGluZ3Nbc2V0dGluZy5pZC5wdXJwb3NlX2lkXSA9IHNldHRpbmc7XHJcblxyXG4gICAgcmV0dXJuIHNldHRpbmdzO1xyXG59O1xyXG5cclxuQWRlcXVhLmFjdGlvbnMuY29uc2VudC5nZXRDdXJyZW50V2Vic2l0ZVB1cnBvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgQWRlcXVhLkFQSS50YWJzLnF1ZXJ5KHtcclxuICAgICAgICBhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgbGFzdEZvY3VzZWRXaW5kb3c6IHRydWVcclxuICAgIH0sICh0YWJzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFiID0gdGFic1swXSB8fCB7fTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2Vic2l0ZVNldHRpbmdzID0gQWRlcXVhLmFjdGlvbnMuY29uc2VudC5nZXRTZXR0aW5nc0J5V2Vic2l0ZUlkKEFkZXF1YS5nZXRXZWJzaXRlSWQodGFiLnVybCB8fCBcIm5vdXJsXCIpKTtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0RGVmYXVsdFB1cnBvc2VTZXR0aW5ncygpIHx8IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHNldHRpbmcgb2Ygd2Vic2l0ZVNldHRpbmdzKVxyXG4gICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nLmlkLnB1cnBvc2VfaWRdID0gc2V0dGluZztcclxuXHJcbiAgICAgICAgY2FsbGJhY2soc2V0dGluZ3MpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BZGVxdWEuYWN0aW9ucy5jb25zZW50LmdldERlZmF1bHRWZW5kb3JTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IEFkZXF1YS5jdXJyZW50LmNvbnNlbnQuc2V0dGluZ3MuZmlsdGVyKHNldHRpbmcgPT4gc2V0dGluZy5pZC53ZWJzaXRlX2lkID09PSBcImFsbFwiICYmIHNldHRpbmcuaWQucHVycG9zZV9pZCA9PT0gXCJhbGxcIik7XHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IHt9O1xyXG5cclxuICAgIGZvciAoY29uc3Qgc2V0dGluZyBvZiBkZWZhdWx0U2V0dGluZ3MpXHJcbiAgICAgICAgc2V0dGluZ3Nbc2V0dGluZy5pZC52ZW5kb3JfaWRdID0gc2V0dGluZztcclxuXHJcbiAgICByZXR1cm4gc2V0dGluZ3M7XHJcbn07XHJcblxyXG5BZGVxdWEuYWN0aW9ucy5jb25zZW50LmdldEN1cnJlbnRXZWJzaXRlVmVuZG9yU2V0dGluZ3MgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIEFkZXF1YS5BUEkudGFicy5xdWVyeSh7XHJcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIGxhc3RGb2N1c2VkV2luZG93OiB0cnVlXHJcbiAgICB9LCAodGFicykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhYiA9IHRhYnNbMF0gfHwge307XHJcblxyXG4gICAgICAgIGNvbnN0IHdlYnNpdGVTZXR0aW5ncyA9IEFkZXF1YS5hY3Rpb25zLmNvbnNlbnQuZ2V0U2V0dGluZ3NCeVdlYnNpdGVJZChBZGVxdWEuZ2V0V2Vic2l0ZUlkKHRhYi51cmwgfHwgXCJub3VybFwiKSk7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldERlZmF1bHRWZW5kb3JTZXR0aW5ncygpIHx8IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHNldHRpbmcgb2Ygd2Vic2l0ZVNldHRpbmdzKVxyXG4gICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nLmlkLnZlbmRvcl9pZF0gPSBzZXR0aW5nO1xyXG5cclxuICAgICAgICBjYWxsYmFjayhzZXR0aW5ncyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkFkZXF1YS5hY3Rpb25zLmNvbnNlbnQuc2V0T3JVcGRhdGVTZXR0aW5nID0gZnVuY3Rpb24gKHNldHRpbmcpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gQWRlcXVhLmN1cnJlbnQuY29uc2VudC5zZXR0aW5ncy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkLndlYnNpdGVfaWQgPT09IHNldHRpbmcuaWQud2Vic2l0ZV9pZCAmJiBpdGVtLmlkLnB1cnBvc2VfaWQgPT09IHNldHRpbmcuaWQucHVycG9zZV9pZCAmJiBpdGVtLmlkLnZlbmRvcl9pZCA9PT0gc2V0dGluZy5pZC52ZW5kb3JfaWQpO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSlcclxuICAgICAgICBBZGVxdWEuY3VycmVudC5jb25zZW50LnNldHRpbmdzLnB1c2goc2V0dGluZyk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgQWRlcXVhLmN1cnJlbnQuY29uc2VudC5zZXR0aW5nc1tpbmRleF0gPSBzZXR0aW5nO1xyXG5cclxuICAgIEFkZXF1YS5zdG9yYWdlLnNldEN1cnJlbnQoe30pO1xyXG59O1xyXG5cclxuQWRlcXVhLmFjdGlvbnMuY29uc2VudC5nZXRDb25zZW50RGF0YSA9IGZ1bmN0aW9uICh3ZWJzaXRlSWQpIHtcclxuICAgIGNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IEFkZXF1YS5hY3Rpb25zLmNvbnNlbnQuZ2V0U2V0dGluZ3NCeVdlYnNpdGVJZChcImFsbFwiKTtcclxuICAgIGNvbnN0IHdlYnNpdGVTZXR0aW5ncyA9IEFkZXF1YS5hY3Rpb25zLmNvbnNlbnQuZ2V0U2V0dGluZ3NCeVdlYnNpdGVJZCh3ZWJzaXRlSWQpO1xyXG5cclxuICAgIGNvbnN0IGFsbG93ZWRQdXJwb3NlSWRzID0gW107XHJcbiAgICBjb25zdCBmb3JiaWRkZW5QdXJwb3NlSWRzID0gW107XHJcblxyXG4gICAgY29uc3QgYWxsb3dlZFZlbmRvcklkcyA9IFtdO1xyXG4gICAgY29uc3QgZm9yYmlkZGVuVmVuZG9ySWRzID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBzZXR0aW5nIG9mIHdlYnNpdGVTZXR0aW5ncykge1xyXG4gICAgICAgIGlmIChzZXR0aW5nLmlkLnB1cnBvc2VfaWQgPT09IFwiYWxsXCIgJiYgc2V0dGluZy5pZC52ZW5kb3JfaWQgIT09IFwiYWxsXCIpIHtcclxuICAgICAgICAgICAgaWYgKGFsbG93ZWRWZW5kb3JJZHMuaW5kZXhPZihzZXR0aW5nLmlkLnZlbmRvcl9pZCkgPT09IC0xICYmIGZvcmJpZGRlblZlbmRvcklkcy5pbmRleE9mKHNldHRpbmcuaWQudmVuZG9yX2lkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLnZhbHVlID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRWZW5kb3JJZHMucHVzaChzZXR0aW5nLmlkLnZlbmRvcl9pZCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmJpZGRlblZlbmRvcklkcy5wdXNoKHNldHRpbmcuaWQudmVuZG9yX2lkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZy5pZC5wdXJwb3NlX2lkICE9PSBcImFsbFwiICYmIHNldHRpbmcuaWQudmVuZG9yX2lkID09PSBcImFsbFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChhbGxvd2VkUHVycG9zZUlkcy5pbmRleE9mKHNldHRpbmcuaWQucHVycG9zZV9pZCkgPT09IC0xICYmIGZvcmJpZGRlblB1cnBvc2VJZHMuaW5kZXhPZihzZXR0aW5nLmlkLnB1cnBvc2VfaWQpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcudmFsdWUgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dlZFB1cnBvc2VJZHMucHVzaChzZXR0aW5nLmlkLnB1cnBvc2VfaWQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JiaWRkZW5QdXJwb3NlSWRzLnB1c2goc2V0dGluZy5pZC5wdXJwb3NlX2lkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkZWZhdWx0U2V0dGluZ3MuaW5kZXhPZihzZXR0aW5nKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2V0dGluZ3MucHVzaChzZXR0aW5nKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IHNldHRpbmcgb2YgZGVmYXVsdFNldHRpbmdzKSB7XHJcbiAgICAgICAgaWYgKHNldHRpbmcuaWQucHVycG9zZV9pZCA9PT0gXCJhbGxcIiAmJiBzZXR0aW5nLmlkLnZlbmRvcl9pZCAhPT0gXCJhbGxcIikge1xyXG4gICAgICAgICAgICBpZiAoYWxsb3dlZFZlbmRvcklkcy5pbmRleE9mKHNldHRpbmcuaWQudmVuZG9yX2lkKSA9PT0gLTEgJiYgZm9yYmlkZGVuVmVuZG9ySWRzLmluZGV4T2Yoc2V0dGluZy5pZC52ZW5kb3JfaWQpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcudmFsdWUgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dlZFZlbmRvcklkcy5wdXNoKHNldHRpbmcuaWQudmVuZG9yX2lkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yYmlkZGVuVmVuZG9ySWRzLnB1c2goc2V0dGluZy5pZC52ZW5kb3JfaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZXR0aW5nLmlkLnB1cnBvc2VfaWQgIT09IFwiYWxsXCIgJiYgc2V0dGluZy5pZC52ZW5kb3JfaWQgPT09IFwiYWxsXCIpIHtcclxuICAgICAgICAgICAgaWYgKGFsbG93ZWRQdXJwb3NlSWRzLmluZGV4T2Yoc2V0dGluZy5pZC5wdXJwb3NlX2lkKSA9PT0gLTEgJiYgZm9yYmlkZGVuUHVycG9zZUlkcy5pbmRleE9mKHNldHRpbmcuaWQucHVycG9zZV9pZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy52YWx1ZSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxvd2VkUHVycG9zZUlkcy5wdXNoKHNldHRpbmcuaWQucHVycG9zZV9pZCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmJpZGRlblB1cnBvc2VJZHMucHVzaChzZXR0aW5nLmlkLnB1cnBvc2VfaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZXR0aW5nLmlkLnB1cnBvc2VfaWQgPT09IFwiYWxsXCIgJiYgc2V0dGluZy5pZC52ZW5kb3JfaWQgPT09IFwiYWxsXCIpIHtcclxuICAgICAgICAgICAgaWYgKHNldHRpbmcudmFsdWUgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHB1cnBvc2VJZCBvZiBBZGVxdWEuY3VycmVudC5wdXJwb3NlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxvd2VkUHVycG9zZUlkcy5pbmRleE9mKHB1cnBvc2VJZCkgPT09IC0xICYmIGZvcmJpZGRlblB1cnBvc2VJZHMuaW5kZXhPZihwdXJwb3NlSWQpID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dlZFB1cnBvc2VJZHMucHVzaChwdXJwb3NlSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2ZW5kb3JJZCBvZiBBZGVxdWEuY3VycmVudC52ZW5kb3JMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbG93ZWRWZW5kb3JJZHMuaW5kZXhPZih2ZW5kb3JJZCkgPT09IC0xICYmIGZvcmJpZGRlblZlbmRvcklkcy5pbmRleE9mKHZlbmRvcklkKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRWZW5kb3JJZHMucHVzaCh2ZW5kb3JJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHB1cnBvc2VJZCBvZiBBZGVxdWEuY3VycmVudC5wdXJwb3NlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxvd2VkUHVycG9zZUlkcy5pbmRleE9mKHB1cnBvc2VJZCkgPT09IC0xICYmIGZvcmJpZGRlblB1cnBvc2VJZHMuaW5kZXhPZihwdXJwb3NlSWQpID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yYmlkZGVuUHVycG9zZUlkcy5wdXNoKHB1cnBvc2VJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZlbmRvcklkIG9mIEFkZXF1YS5jdXJyZW50LnZlbmRvckxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZFZlbmRvcklkcy5pbmRleE9mKHZlbmRvcklkKSA9PT0gLTEgJiYgZm9yYmlkZGVuVmVuZG9ySWRzLmluZGV4T2YodmVuZG9ySWQpID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yYmlkZGVuVmVuZG9ySWRzLnB1c2godmVuZG9ySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2ZvcmJpZGRlbiB2ZW5kb3IgOicsIGZvcmJpZGRlblZlbmRvcklkcyk7XHJcbiAgICBjb25zb2xlLmxvZygnYWxsb3dlZCB2ZW5kb3JzIDonLCBhbGxvd2VkVmVuZG9ySWRzKTtcclxuICAgIGNvbnNvbGUubG9nKCdmb3JiaWRkZW4gcHVycG9zZXMgOicsIGZvcmJpZGRlblB1cnBvc2VJZHMpO1xyXG4gICAgY29uc29sZS5sb2coJ2FsbG93ZWQgcHVycG9zZXMgOicsIGFsbG93ZWRQdXJwb3NlSWRzKTtcclxuXHJcbiAgICBjb25zdCBjb25zZW50RGF0YSA9IG5ldyBDb25zZW50U3RyaW5nKCk7XHJcblxyXG4gICAgY29uc2VudERhdGEuc2V0R2xvYmFsVmVuZG9yTGlzdChBZGVxdWEuY3VycmVudC5mdWxsVmVuZG9yTGlzdCk7XHJcblxyXG4gICAgY29uc2VudERhdGEuc2V0Q21wSWQoMSk7XHJcbiAgICBjb25zZW50RGF0YS5zZXRDbXBWZXJzaW9uKDEpO1xyXG4gICAgY29uc2VudERhdGEuc2V0Q29uc2VudFNjcmVlbigxKTtcclxuICAgIGNvbnNlbnREYXRhLnNldENvbnNlbnRMYW5ndWFnZSgnZnInKTtcclxuICAgIGNvbnNlbnREYXRhLnNldFB1cnBvc2VzQWxsb3dlZChhbGxvd2VkUHVycG9zZUlkcyk7XHJcbiAgICBjb25zZW50RGF0YS5zZXRWZW5kb3JzQWxsb3dlZChhbGxvd2VkVmVuZG9ySWRzKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnNlbnRTdHJpbmc6IGNvbnNlbnREYXRhLmdldENvbnNlbnRTdHJpbmcoKSxcclxuICAgICAgICBhbGxvd2VkVmVuZG9ycyA6IGFsbG93ZWRWZW5kb3JJZHMsXHJcbiAgICAgICAgYWxsb3dlZFB1cnBvc2VzOiBhbGxvd2VkUHVycG9zZUlkcyxcclxuICAgICAgICB2ZW5kb3JMaXN0OiBBZGVxdWEuY3VycmVudC52ZW5kb3JMaXN0LFxyXG4gICAgICAgIHB1cnBvc2VMaXN0OiBBZGVxdWEuY3VycmVudC5wdXJwb3NlTGlzdFxyXG4gICAgfTtcclxufVxyXG47XHJcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9jb25zZW50LXN0cmluZycpLFxuICAgIENvbnNlbnRTdHJpbmcgPSBfcmVxdWlyZS5Db25zZW50U3RyaW5nO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgnLi9kZWNvZGUnKSxcbiAgICBkZWNvZGVDb25zZW50U3RyaW5nID0gX3JlcXVpcmUyLmRlY29kZUNvbnNlbnRTdHJpbmc7XG5cbnZhciBfcmVxdWlyZTMgPSByZXF1aXJlKCcuL2VuY29kZScpLFxuICAgIGVuY29kZUNvbnNlbnRTdHJpbmcgPSBfcmVxdWlyZTMuZW5jb2RlQ29uc2VudFN0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENvbnNlbnRTdHJpbmc6IENvbnNlbnRTdHJpbmcsXG4gIGRlY29kZUNvbnNlbnRTdHJpbmc6IGRlY29kZUNvbnNlbnRTdHJpbmcsXG4gIGVuY29kZUNvbnNlbnRTdHJpbmc6IGVuY29kZUNvbnNlbnRTdHJpbmdcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vZW5jb2RlJyksXG4gICAgZW5jb2RlQ29uc2VudFN0cmluZyA9IF9yZXF1aXJlLmVuY29kZUNvbnNlbnRTdHJpbmcsXG4gICAgX2dldE1heFZlbmRvcklkID0gX3JlcXVpcmUuZ2V0TWF4VmVuZG9ySWQsXG4gICAgZW5jb2RlVmVuZG9ySWRzVG9CaXRzID0gX3JlcXVpcmUuZW5jb2RlVmVuZG9ySWRzVG9CaXRzLFxuICAgIGVuY29kZVB1cnBvc2VJZHNUb0JpdHMgPSBfcmVxdWlyZS5lbmNvZGVQdXJwb3NlSWRzVG9CaXRzO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgnLi9kZWNvZGUnKSxcbiAgICBkZWNvZGVDb25zZW50U3RyaW5nID0gX3JlcXVpcmUyLmRlY29kZUNvbnNlbnRTdHJpbmc7XG5cbnZhciBfcmVxdWlyZTMgPSByZXF1aXJlKCcuL3V0aWxzL2RlZmluaXRpb25zJyksXG4gICAgdmVuZG9yVmVyc2lvbk1hcCA9IF9yZXF1aXJlMy52ZW5kb3JWZXJzaW9uTWFwO1xuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIHZhbGlkYXRpbmdcbiAqL1xuXG5cbnZhciBjb25zZW50TGFuZ3VhZ2VSZWdleHAgPSAvXlthLXpdezJ9JC87XG5cbnZhciBDb25zZW50U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBDb25zZW50U3RyaW5nIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVN0cmluZyBBbiBleGlzdGluZyBjb25zZW50IHN0cmluZyB0byBwYXJzZSBhbmQgdXNlIGZvciBvdXIgaW5pdGlhbCB2YWx1ZXNcbiAgICovXG4gIGZ1bmN0aW9uIENvbnNlbnRTdHJpbmcoKSB7XG4gICAgdmFyIGJhc2VTdHJpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29uc2VudFN0cmluZyk7XG5cbiAgICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMubGFzdFVwZGF0ZWQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBudW1iZXIgb2YgY29uc2VudCBzdHJpbmcgc3BlY2lmaWNhdGlvblxuICAgICAqXG4gICAgICogQHR5cGUge2ludGVnZXJ9XG4gICAgICovXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcblxuICAgIC8qKlxuICAgICAqIFZlbmRvciBsaXN0IHdpdGggZm9ybWF0IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ludGVyYWN0aXZlQWR2ZXJ0aXNpbmdCdXJlYXUvR0RQUi1UcmFuc3BhcmVuY3ktYW5kLUNvbnNlbnQtRnJhbWV3b3JrL2Jsb2IvbWFzdGVyL0RyYWZ0X2Zvcl9QdWJsaWNfQ29tbWVudF9UcmFuc3BhcmVuY3klMjAlMjYlMjBDb25zZW50JTIwRnJhbWV3b3JrJTIwLSUyMGNvb2tpZSUyMGFuZCUyMHZlbmRvciUyMGxpc3QlMjBmb3JtYXQlMjBzcGVjaWZpY2F0aW9uJTIwdjEuMGEucGRmXG4gICAgICpcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudmVuZG9yTGlzdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBWZXJzaW9uIG9mIHRoZSB2ZW5kb3IgbGlzdCB1c2VkIGZvciB0aGUgcHVycG9zZXMgYW5kIHZlbmRvcnNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMudmVuZG9yTGlzdFZlcnNpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgQ01QIHRoYXQgbGFzdCBtb2RpZmllZCB0aGUgY29uc2VudCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMuY21wSWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBvZiB0aGUgY29kZSB1c2VkIGJ5IHRoZSBDTVAgd2hlbiBjb2xsZWN0aW5nIGNvbnNlbnRcbiAgICAgKlxuICAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMuY21wVmVyc2lvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJRCBvZiB0aGUgc2NyZWVuIHVzZWQgYnkgQ01QIHdoZW4gY29sbGVjdGluZyBjb25zZW50XG4gICAgICpcbiAgICAgKiBAdHlwZSB7aW50ZWdlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnNlbnRTY3JlZW4gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHdvLWxldHRlciBJU082MzktMSBjb2RlIChlbiwgZnIsIGRlLCBldGMuKSBvZiB0aGUgbGFuZ3VhZ2UgdGhhdCB0aGUgQ01QIGFza2VkIGNvbnNlbnQgaW5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jb25zZW50TGFuZ3VhZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwdXJwb3NlIElEcyB0aGF0IHRoZSB1c2VyIGhhcyBnaXZlbiBjb25zZW50IHRvXG4gICAgICpcbiAgICAgKiBAdHlwZSB7aW50ZWdlcltdfVxuICAgICAqL1xuICAgIHRoaXMuYWxsb3dlZFB1cnBvc2VJZHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgdmVuZG9yIElEcyB0aGF0IHRoZSB1c2VyIGhhcyBnaXZlbiBjb25zZW50IHRvXG4gICAgICpcbiAgICAgKiBAdHlwZSB7aW50ZWdlcltdfVxuICAgICAqL1xuICAgIHRoaXMuYWxsb3dlZFZlbmRvcklkcyA9IFtdO1xuXG4gICAgLy8gRGVjb2RlIHRoZSBiYXNlIHN0cmluZ1xuICAgIGlmIChiYXNlU3RyaW5nKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRlY29kZUNvbnNlbnRTdHJpbmcoYmFzZVN0cmluZykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdlYi1zYWZlLCBiYXNlNjQtZW5jb2RlZCBjb25zZW50IHN0cmluZ1xuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFdlYi1zYWZlLCBiYXNlNjQtZW5jb2RlZCBjb25zZW50IHN0cmluZ1xuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDb25zZW50U3RyaW5nLCBbe1xuICAgIGtleTogJ2dldENvbnNlbnRTdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25zZW50U3RyaW5nKCkge1xuICAgICAgdmFyIHVwZGF0ZURhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cbiAgICAgIGlmICghdGhpcy52ZW5kb3JMaXN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uc2VudFN0cmluZyAtIEEgdmVuZG9yIGxpc3QgaXMgcmVxdWlyZWQgdG8gZW5jb2RlIGEgY29uc2VudCBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHVwZGF0ZURhdGUgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlZCA9IG5ldyBEYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbmNvZGVDb25zZW50U3RyaW5nKHtcbiAgICAgICAgdmVyc2lvbjogdGhpcy5nZXRWZXJzaW9uKCksXG4gICAgICAgIHZlbmRvckxpc3Q6IHRoaXMudmVuZG9yTGlzdCxcbiAgICAgICAgYWxsb3dlZFB1cnBvc2VJZHM6IHRoaXMuYWxsb3dlZFB1cnBvc2VJZHMsXG4gICAgICAgIGFsbG93ZWRWZW5kb3JJZHM6IHRoaXMuYWxsb3dlZFZlbmRvcklkcyxcbiAgICAgICAgY3JlYXRlZDogdGhpcy5jcmVhdGVkLFxuICAgICAgICBsYXN0VXBkYXRlZDogdGhpcy5sYXN0VXBkYXRlZCxcbiAgICAgICAgY21wSWQ6IHRoaXMuY21wSWQsXG4gICAgICAgIGNtcFZlcnNpb246IHRoaXMuY21wVmVyc2lvbixcbiAgICAgICAgY29uc2VudFNjcmVlbjogdGhpcy5jb25zZW50U2NyZWVuLFxuICAgICAgICBjb25zZW50TGFuZ3VhZ2U6IHRoaXMuY29uc2VudExhbmd1YWdlLFxuICAgICAgICB2ZW5kb3JMaXN0VmVyc2lvbjogdGhpcy52ZW5kb3JMaXN0VmVyc2lvblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXggdmVuZG9ySWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gbWF4VmVuZG9ySWQgZnJvbSB0aGUgdmVuZG9yTGlzdCBwcm92aWRlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNYXhWZW5kb3JJZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1heFZlbmRvcklkKCkge1xuICAgICAgcmV0dXJuIF9nZXRNYXhWZW5kb3JJZCh0aGlzLnZlbmRvckxpc3QudmVuZG9ycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IHRoZSBjb25zZW50cyBpbiBhIGJpdCBzdHJpbmcuICBUaGlzIGlzIHRvIGZ1bGZpbGwgdGhlIGluLWFwcCByZXF1aXJlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBhIGJpdCBzdHJpbmcgb2YgYWxsIG9mIHRoZSB2ZW5kb3IgY29uc2VudCBkYXRhXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFBhcnNlZFZlbmRvckNvbnNlbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFyc2VkVmVuZG9yQ29uc2VudHMoKSB7XG4gICAgICByZXR1cm4gZW5jb2RlVmVuZG9ySWRzVG9CaXRzKF9nZXRNYXhWZW5kb3JJZCh0aGlzLnZlbmRvckxpc3QudmVuZG9ycyksIHRoaXMuYWxsb3dlZFZlbmRvcklkcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IHRoZSBjb25zZW50cyBpbiBhIGJpdCBzdHJpbmcuICBUaGlzIGlzIHRvIGZ1bGZpbGwgdGhlIGluLWFwcCByZXF1aXJlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBhIGJpdCBzdHJpbmcgb2YgYWxsIG9mIHRoZSB2ZW5kb3IgY29uc2VudCBkYXRhXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFBhcnNlZFB1cnBvc2VDb25zZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhcnNlZFB1cnBvc2VDb25zZW50cygpIHtcbiAgICAgIHJldHVybiBlbmNvZGVQdXJwb3NlSWRzVG9CaXRzKHRoaXMudmVuZG9yTGlzdC5wdXJwb3NlcywgdGhpcy5hbGxvd2VkUHVycG9zZUlkcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB3ZWItc2FmZSwgYmFzZTY0LWVuY29kZWQgbWV0YWRhdGEgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFdlYi1zYWZlLCBiYXNlNjQtZW5jb2RlZCBtZXRhZGF0YSBzdHJpbmdcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWV0YWRhdGFTdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNZXRhZGF0YVN0cmluZygpIHtcbiAgICAgIHJldHVybiBlbmNvZGVDb25zZW50U3RyaW5nKHtcbiAgICAgICAgdmVyc2lvbjogdGhpcy5nZXRWZXJzaW9uKCksXG4gICAgICAgIGNyZWF0ZWQ6IHRoaXMuY3JlYXRlZCxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IHRoaXMubGFzdFVwZGF0ZWQsXG4gICAgICAgIGNtcElkOiB0aGlzLmNtcElkLFxuICAgICAgICBjbXBWZXJzaW9uOiB0aGlzLmNtcFZlcnNpb24sXG4gICAgICAgIGNvbnNlbnRTY3JlZW46IHRoaXMuY29uc2VudFNjcmVlbixcbiAgICAgICAgdmVuZG9yTGlzdFZlcnNpb246IHRoaXMudmVuZG9yTGlzdFZlcnNpb25cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29kZSB0aGUgd2ViLXNhZmUsIGJhc2U2NC1lbmNvZGVkIG1ldGFkYXRhIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGVkTWV0YWRhdGEgV2ViLXNhZmUsIGJhc2U2NC1lbmNvZGVkIG1ldGFkYXRhIHN0cmluZ1xuICAgICAqIEByZXR1cm4ge29iamVjdH0gZGVjb2RlZCBtZXRhZGF0YVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWZXJzaW9uJyxcblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2ZXJzaW9uIG51bWJlciB0aGF0IHRoaXMgY29uc2VudCBzdHJpbmcgc3BlY2lmaWNhdGlvbiBhZGhlcmVzIHRvXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtpbnRlZ2VyfSBWZXJzaW9uIG51bWJlciBvZiBjb25zZW50IHN0cmluZyBzcGVjaWZpY2F0aW9uXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy52ZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmVyc2lvbiBvZiB0aGUgdmVuZG9yIGxpc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2ludGVnZXJ9IFZlbmRvciBsaXN0IHZlcnNpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0VmVuZG9yTGlzdFZlcnNpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWZW5kb3JMaXN0VmVyc2lvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZlbmRvckxpc3RWZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmVuZG9ycyBsaXN0IHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcgdGhlIGNvbnNlbnQgc3RyaW5nXG4gICAgICpcbiAgICAgKiBUaGUgZXhwZWN0ZWQgZm9ybWF0IGlzIHRoZSBvbmUgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSW50ZXJhY3RpdmVBZHZlcnRpc2luZ0J1cmVhdS9HRFBSLVRyYW5zcGFyZW5jeS1hbmQtQ29uc2VudC1GcmFtZXdvcmsvYmxvYi9tYXN0ZXIvRHJhZnRfZm9yX1B1YmxpY19Db21tZW50X1RyYW5zcGFyZW5jeSUyMCUyNiUyMENvbnNlbnQlMjBGcmFtZXdvcmslMjAtJTIwY29va2llJTIwYW5kJTIwdmVuZG9yJTIwbGlzdCUyMGZvcm1hdCUyMHNwZWNpZmljYXRpb24lMjB2MS4wYS5wZGZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB2ZW5kb3JMaXN0IFZlbmRvciBsaXN0IHdpdGggZm9ybWF0IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ludGVyYWN0aXZlQWR2ZXJ0aXNpbmdCdXJlYXUvR0RQUi1UcmFuc3BhcmVuY3ktYW5kLUNvbnNlbnQtRnJhbWV3b3JrL2Jsb2IvbWFzdGVyL0RyYWZ0X2Zvcl9QdWJsaWNfQ29tbWVudF9UcmFuc3BhcmVuY3klMjAlMjYlMjBDb25zZW50JTIwRnJhbWV3b3JrJTIwLSUyMGNvb2tpZSUyMGFuZCUyMHZlbmRvciUyMGxpc3QlMjBmb3JtYXQlMjBzcGVjaWZpY2F0aW9uJTIwdjEuMGEucGRmXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldEdsb2JhbFZlbmRvckxpc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRHbG9iYWxWZW5kb3JMaXN0KHZlbmRvckxpc3QpIHtcbiAgICAgIGlmICgodHlwZW9mIHZlbmRvckxpc3QgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZlbmRvckxpc3QpKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25zZW50U3RyaW5nIC0gWW91IG11c3QgcHJvdmlkZSBhbiBvYmplY3Qgd2hlbiBzZXR0aW5nIHRoZSBnbG9iYWwgdmVuZG9yIGxpc3QnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF2ZW5kb3JMaXN0LnZlbmRvckxpc3RWZXJzaW9uIHx8ICFBcnJheS5pc0FycmF5KHZlbmRvckxpc3QucHVycG9zZXMpIHx8ICFBcnJheS5pc0FycmF5KHZlbmRvckxpc3QudmVuZG9ycykpIHtcbiAgICAgICAgLy8gVGhlIHByb3ZpZGVkIHZlbmRvciBsaXN0IGRvZXMgbm90IGxvb2sgdmFsaWRcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25zZW50U3RyaW5nIC0gVGhlIHByb3ZpZGVkIHZlbmRvciBsaXN0IGRvZXMgbm90IHJlc3BlY3QgdGhlIHNjaGVtYSBmcm9tIHRoZSBJQUIgRVXigJlzIEdEUFIgQ29uc2VudCBhbmQgVHJhbnNwYXJlbmN5IEZyYW1ld29yaycpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbG9uaW5nIHRoZSBHVkxcbiAgICAgIC8vIEl0J3MgaW1wb3J0YW50IGFzIHdlIG1pZ2h0IHRyYW5zZm9ybSBpdCBhbmQgZG9uJ3Qgd2FudCB0byBtb2RpZnkgb2JqZWN0cyB0aGF0IHdlIGRvIG5vdCBvd25cbiAgICAgIHRoaXMudmVuZG9yTGlzdCA9IHtcbiAgICAgICAgdmVuZG9yTGlzdFZlcnNpb246IHZlbmRvckxpc3QudmVuZG9yTGlzdFZlcnNpb24sXG4gICAgICAgIGxhc3RVcGRhdGVkOiB2ZW5kb3JMaXN0Lmxhc3RVcGRhdGVkLFxuICAgICAgICBwdXJwb3NlczogdmVuZG9yTGlzdC5wdXJwb3NlcyxcbiAgICAgICAgZmVhdHVyZXM6IHZlbmRvckxpc3QuZmVhdHVyZXMsXG5cbiAgICAgICAgLy8gQ2xvbmUgdGhlIGxpc3QgYW5kIHNvcnQgdGhlIHZlbmRvcnMgYnkgSUQgKGl0IGJyZWFrcyBvdXIgcmFuZ2UgZ2VuZXJhdGlvbiBhbGdvcml0aG0gaWYgdGhleSBhcmUgbm90IHNvcnRlZClcbiAgICAgICAgdmVuZG9yczogdmVuZG9yTGlzdC52ZW5kb3JzLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24gKGZpcnN0VmVuZG9yLCBzZWNvbmRWZW5kb3IpIHtcbiAgICAgICAgICByZXR1cm4gZmlyc3RWZW5kb3IuaWQgPCBzZWNvbmRWZW5kb3IuaWQgPyAtMSA6IDE7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgICAgdGhpcy52ZW5kb3JMaXN0VmVyc2lvbiA9IHZlbmRvckxpc3QudmVuZG9yTGlzdFZlcnNpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBJRCBvZiB0aGUgQ29uc2VudCBNYW5hZ2VtZW50IFBsYXRmb3JtIHRoYXQgbGFzdCBtb2RpZmllZCB0aGUgY29uc2VudCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEV2ZXJ5IENNUCBpcyBhc3NpZ25lZCBhIHVuaXF1ZSBJRCBieSB0aGUgSUFCIEVVIHRoYXQgbXVzdCBiZSBwcm92aWRlZCBoZXJlIGJlZm9yZSBjaGFuZ2luZyBhbnkgb3RoZXIgdmFsdWUgaW4gdGhlIGNvbnNlbnQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbnRlZ2VyfSBpZCBDTVAgSURcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0Q21wSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDbXBJZChpZCkge1xuICAgICAgdGhpcy5jbXBJZCA9IGlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgSUQgb2YgdGhlIENvbnNlbnQgTWFuYWdlbWVudCBQbGF0Zm9ybSBmcm9tIHRoZSBjb25zZW50IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7aW50ZWdlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q21wSWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbXBJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcElkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmVyc2lvbiBvZiB0aGUgQ29uc2VudCBNYW5hZ2VtZW50IFBsYXRmb3JtIHRoYXQgbGFzdCBtb2RpZmllZCB0aGUgY29uc2VudCBzdHJpbmdcbiAgICAgKlxuICAgICAqIFRoaXMgdmVyc2lvbiBudW1iZXIgcmVmZXJlbmNlcyB0aGUgQ01QIGNvZGUgcnVubmluZyB3aGVuIGNvbGxlY3RpbmcgdGhlIHVzZXIgY29uc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gdmVyc2lvbiBWZXJzaW9uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldENtcFZlcnNpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDbXBWZXJzaW9uKHZlcnNpb24pIHtcbiAgICAgIHRoaXMuY21wVmVyc2lvbiA9IHZlcnNpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2ZXJpc29uIG9mIHRoZSBDb25zZW50IE1hbmFnZW1lbnQgUGxhdGZvcm0gdGhhdCBsYXN0IG1vZGlmaWVkIHRoZSBjb25zZW50IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7aW50ZWdlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q21wVmVyc2lvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENtcFZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbXBWZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgQ29uc2VudCBNYW5hZ2VtZW50IFBsYXRmb3JtIHNjcmVlbiBJRCB0aGF0IGNvbGxlY3RlZCB0aGUgdXNlciBjb25zZW50XG4gICAgICpcbiAgICAgKiBUaGlzIHNjcmVlbiBJRCByZWZlcmVuY2VzIGEgdW5pcXVlIHZpZXcgaW4gdGhlIENNUCB0aGF0IHdhcyBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIgdG8gY29sbGVjdCBjb25zZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHNjcmVlbklkIFNjcmVlbiBJRFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDb25zZW50U2NyZWVuJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uc2VudFNjcmVlbihzY3JlZW5JZCkge1xuICAgICAgdGhpcy5jb25zZW50U2NyZWVuID0gc2NyZWVuSWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBDb25zZW50IE1hbmFnZW1lbnQgUGxhdGZvcm0gc2NyZWVuIElEIHRoYXQgY29sbGVjdGVkIHRoZSB1c2VyIGNvbnNlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2ludGVnZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldENvbnNlbnRTY3JlZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25zZW50U2NyZWVuKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc2VudFNjcmVlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxhbmd1YWdlIHRoYXQgdGhlIENNUCBhc2tlZCB0aGUgY29uc2VudCBpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIFR3by1sZXR0ZXIgSVNPNjM5LTEgY29kZSAoZW4sIGZyLCBkZSwgZXRjLilcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0Q29uc2VudExhbmd1YWdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uc2VudExhbmd1YWdlKGxhbmd1YWdlKSB7XG4gICAgICBpZiAoY29uc2VudExhbmd1YWdlUmVnZXhwLnRlc3QobGFuZ3VhZ2UpID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnNlbnRTdHJpbmcgLSBUaGUgY29uc2VudCBsYW5ndWFnZSBtdXN0IGJlIGEgdHdvLWxldHRlciBJU082MzktMSBjb2RlIChlbiwgZnIsIGRlLCBldGMuKScpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnNlbnRMYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGFuZ3VhZ2UgdGhhdCB0aGUgQ01QIGFza2VkIGNvbnNlbnQgaW5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVHdvLWxldHRlciBJU082MzktMSBjb2RlIChlbiwgZnIsIGRlLCBldGMuKVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb25zZW50TGFuZ3VhZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25zZW50TGFuZ3VhZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zZW50TGFuZ3VhZ2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaXN0IG9mIHB1cnBvc2UgSURzIHRoYXQgdGhlIHVzZXIgaGFzIGdpdmVuIGNvbnNlbnQgdG9cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW50ZWdlcltdfSBwdXJwb3NlSWRzIEFuIGFycmF5IG9mIGludGVnZXJzIHRoYXQgbWFwIHRvIHRoZSBwdXJwb3NlcyBkZWZpbmVkIGluIHRoZSB2ZW5kb3IgbGlzdC4gUHVycG9zZXMgaW5jbHVkZWQgaW4gdGhlIGFycmF5IGFyZSBwdXJwb3NlcyB0aGF0IHRoZSB1c2VyIGhhcyBnaXZlbiBjb25zZW50IHRvXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFB1cnBvc2VzQWxsb3dlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFB1cnBvc2VzQWxsb3dlZChwdXJwb3NlSWRzKSB7XG4gICAgICB0aGlzLmFsbG93ZWRQdXJwb3NlSWRzID0gcHVycG9zZUlkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpc3Qgb2YgcHVycG9zZSBJRHMgdGhhdCB0aGUgdXNlciBoYXMgZ2l2ZW4gY29uc2VudCB0b1xuICAgICAqXG4gICAgICogQHJldHVybiB7aW50ZWdlcltdfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRQdXJwb3Nlc0FsbG93ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQdXJwb3Nlc0FsbG93ZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGxvd2VkUHVycG9zZUlkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnNlbnQgc3RhdHVzIG9mIGEgdXNlciBmb3IgYSBnaXZlbiBwdXJwb3NlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHB1cnBvc2VJZCBUaGUgSUQgKGZyb20gdGhlIHZlbmRvciBsaXN0KSBvZiB0aGUgcHVycG9zZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIENvbnNlbnQgc3RhdHVzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFB1cnBvc2VBbGxvd2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHVycG9zZUFsbG93ZWQocHVycG9zZUlkLCB2YWx1ZSkge1xuICAgICAgdmFyIHB1cnBvc2VJbmRleCA9IHRoaXMuYWxsb3dlZFB1cnBvc2VJZHMuaW5kZXhPZihwdXJwb3NlSWQpO1xuXG4gICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgaWYgKHB1cnBvc2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLmFsbG93ZWRQdXJwb3NlSWRzLnB1c2gocHVycG9zZUlkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHB1cnBvc2VJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLmFsbG93ZWRQdXJwb3NlSWRzLnNwbGljZShwdXJwb3NlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHVzZXIgaGFzIGdpdmVuIGNvbnNlbnQgZm9yIGEgc3BlY2lmaWMgcHVycG9zZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbnRlZ2VyfSBwdXJwb3NlSWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzUHVycG9zZUFsbG93ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1B1cnBvc2VBbGxvd2VkKHB1cnBvc2VJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZFB1cnBvc2VJZHMuaW5kZXhPZihwdXJwb3NlSWQpICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpc3Qgb2YgdmVuZG9yIElEcyB0aGF0IHRoZSB1c2VyIGhhcyBnaXZlbiBjb25zZW50IHRvXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ludGVnZXJbXX0gdmVuZG9ySWRzIEFuIGFycmF5IG9mIGludGVnZXJzIHRoYXQgbWFwIHRvIHRoZSB2ZW5kb3JzIGRlZmluZWQgaW4gdGhlIHZlbmRvciBsaXN0LiBWZW5kb3JzIGluY2x1ZGVkIGluIHRoZSBhcnJheSBhcmUgdmVuZG9ycyB0aGF0IHRoZSB1c2VyIGhhcyBnaXZlbiBjb25zZW50IHRvXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFZlbmRvcnNBbGxvd2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmVuZG9yc0FsbG93ZWQodmVuZG9ySWRzKSB7XG4gICAgICB0aGlzLmFsbG93ZWRWZW5kb3JJZHMgPSB2ZW5kb3JJZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaXN0IG9mIHZlbmRvciBJRHMgdGhhdCB0aGUgdXNlciBoYXMgZ2l2ZW4gY29uc2VudCB0b1xuICAgICAqXG4gICAgICogQHJldHVybiB7aW50ZWdlcltdfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWZW5kb3JzQWxsb3dlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlbmRvcnNBbGxvd2VkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZFZlbmRvcklkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnNlbnQgc3RhdHVzIG9mIGEgdXNlciBmb3IgYSBnaXZlbiB2ZW5kb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gdmVuZG9ySWQgVGhlIElEIChmcm9tIHRoZSB2ZW5kb3IgbGlzdCkgb2YgdGhlIHZlbmRvciB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIENvbnNlbnQgc3RhdHVzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFZlbmRvckFsbG93ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWZW5kb3JBbGxvd2VkKHZlbmRvcklkLCB2YWx1ZSkge1xuICAgICAgdmFyIHZlbmRvckluZGV4ID0gdGhpcy5hbGxvd2VkVmVuZG9ySWRzLmluZGV4T2YodmVuZG9ySWQpO1xuXG4gICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgaWYgKHZlbmRvckluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHRoaXMuYWxsb3dlZFZlbmRvcklkcy5wdXNoKHZlbmRvcklkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHZlbmRvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuYWxsb3dlZFZlbmRvcklkcy5zcGxpY2UodmVuZG9ySW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHVzZXIgaGFzIGdpdmVuIGNvbnNlbnQgZm9yIGEgc3BlY2lmaWMgdmVuZG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHZlbmRvcklkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc1ZlbmRvckFsbG93ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1ZlbmRvckFsbG93ZWQodmVuZG9ySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbG93ZWRWZW5kb3JJZHMuaW5kZXhPZih2ZW5kb3JJZCkgIT09IC0xO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnZGVjb2RlTWV0YWRhdGFTdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWNvZGVNZXRhZGF0YVN0cmluZyhlbmNvZGVkTWV0YWRhdGEpIHtcbiAgICAgIHZhciBkZWNvZGVkU3RyaW5nID0gZGVjb2RlQ29uc2VudFN0cmluZyhlbmNvZGVkTWV0YWRhdGEpO1xuICAgICAgdmFyIG1ldGFkYXRhID0ge307XG4gICAgICB2ZW5kb3JWZXJzaW9uTWFwW2RlY29kZWRTdHJpbmcudmVyc2lvbl0ubWV0YWRhdGFGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgbWV0YWRhdGFbZmllbGRdID0gZGVjb2RlZFN0cmluZ1tmaWVsZF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29uc2VudFN0cmluZztcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENvbnNlbnRTdHJpbmc6IENvbnNlbnRTdHJpbmdcbn07IiwiLyohIGh0dHA6Ly9tdGhzLmJlL2Jhc2U2NCB2MC4xLjAgYnkgQG1hdGhpYXMgfCBNSVQgbGljZW5zZSAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGVzIGBleHBvcnRzYC5cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cztcblxuXHQvLyBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC5cblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzICYmIG1vZHVsZTtcblxuXHQvLyBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCwgZnJvbSBOb2RlLmpzIG9yIEJyb3dzZXJpZmllZCBjb2RlLCBhbmQgdXNlXG5cdC8vIGl0IGFzIGByb290YC5cblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsKSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR2YXIgSW52YWxpZENoYXJhY3RlckVycm9yID0gZnVuY3Rpb24obWVzc2FnZSkge1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH07XG5cdEludmFsaWRDaGFyYWN0ZXJFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5cdEludmFsaWRDaGFyYWN0ZXJFcnJvci5wcm90b3R5cGUubmFtZSA9ICdJbnZhbGlkQ2hhcmFjdGVyRXJyb3InO1xuXG5cdHZhciBlcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHQvLyBOb3RlOiB0aGUgZXJyb3IgbWVzc2FnZXMgdXNlZCB0aHJvdWdob3V0IHRoaXMgZmlsZSBtYXRjaCB0aG9zZSB1c2VkIGJ5XG5cdFx0Ly8gdGhlIG5hdGl2ZSBgYXRvYmAvYGJ0b2FgIGltcGxlbWVudGF0aW9uIGluIENocm9taXVtLlxuXHRcdHRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IobWVzc2FnZSk7XG5cdH07XG5cblx0dmFyIFRBQkxFID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXHQvLyBodHRwOi8vd2hhdHdnLm9yZy9odG1sL2NvbW1vbi1taWNyb3N5bnRheGVzLmh0bWwjc3BhY2UtY2hhcmFjdGVyXG5cdHZhciBSRUdFWF9TUEFDRV9DSEFSQUNURVJTID0gL1tcXHRcXG5cXGZcXHIgXS9nO1xuXG5cdC8vIGBkZWNvZGVgIGlzIGRlc2lnbmVkIHRvIGJlIGZ1bGx5IGNvbXBhdGlibGUgd2l0aCBgYXRvYmAgYXMgZGVzY3JpYmVkIGluIHRoZVxuXHQvLyBIVE1MIFN0YW5kYXJkLiBodHRwOi8vd2hhdHdnLm9yZy9odG1sL3dlYmFwcGFwaXMuaHRtbCNkb20td2luZG93YmFzZTY0LWF0b2Jcblx0Ly8gVGhlIG9wdGltaXplZCBiYXNlNjQtZGVjb2RpbmcgYWxnb3JpdGhtIHVzZWQgaXMgYmFzZWQgb24gQGF0a+KAmXMgZXhjZWxsZW50XG5cdC8vIGltcGxlbWVudGF0aW9uLiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9hdGsvMTAyMDM5NlxuXHR2YXIgZGVjb2RlID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRpbnB1dCA9IFN0cmluZyhpbnB1dClcblx0XHRcdC5yZXBsYWNlKFJFR0VYX1NQQUNFX0NIQVJBQ1RFUlMsICcnKTtcblx0XHR2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXHRcdGlmIChsZW5ndGggJSA0ID09IDApIHtcblx0XHRcdGlucHV0ID0gaW5wdXQucmVwbGFjZSgvPT0/JC8sICcnKTtcblx0XHRcdGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0XHR9XG5cdFx0aWYgKFxuXHRcdFx0bGVuZ3RoICUgNCA9PSAxIHx8XG5cdFx0XHQvLyBodHRwOi8vd2hhdHdnLm9yZy9DI2FscGhhbnVtZXJpYy1hc2NpaS1jaGFyYWN0ZXJzXG5cdFx0XHQvW14rYS16QS1aMC05L10vLnRlc3QoaW5wdXQpXG5cdFx0KSB7XG5cdFx0XHRlcnJvcihcblx0XHRcdFx0J0ludmFsaWQgY2hhcmFjdGVyOiB0aGUgc3RyaW5nIHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLidcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHZhciBiaXRDb3VudGVyID0gMDtcblx0XHR2YXIgYml0U3RvcmFnZTtcblx0XHR2YXIgYnVmZmVyO1xuXHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHR2YXIgcG9zaXRpb24gPSAtMTtcblx0XHR3aGlsZSAoKytwb3NpdGlvbiA8IGxlbmd0aCkge1xuXHRcdFx0YnVmZmVyID0gVEFCTEUuaW5kZXhPZihpbnB1dC5jaGFyQXQocG9zaXRpb24pKTtcblx0XHRcdGJpdFN0b3JhZ2UgPSBiaXRDb3VudGVyICUgNCA/IGJpdFN0b3JhZ2UgKiA2NCArIGJ1ZmZlciA6IGJ1ZmZlcjtcblx0XHRcdC8vIFVubGVzcyB0aGlzIGlzIHRoZSBmaXJzdCBvZiBhIGdyb3VwIG9mIDQgY2hhcmFjdGVyc+KAplxuXHRcdFx0aWYgKGJpdENvdW50ZXIrKyAlIDQpIHtcblx0XHRcdFx0Ly8g4oCmY29udmVydCB0aGUgZmlyc3QgOCBiaXRzIHRvIGEgc2luZ2xlIEFTQ0lJIGNoYXJhY3Rlci5cblx0XHRcdFx0b3V0cHV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoXG5cdFx0XHRcdFx0MHhGRiAmIGJpdFN0b3JhZ2UgPj4gKC0yICogYml0Q291bnRlciAmIDYpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH07XG5cblx0Ly8gYGVuY29kZWAgaXMgZGVzaWduZWQgdG8gYmUgZnVsbHkgY29tcGF0aWJsZSB3aXRoIGBidG9hYCBhcyBkZXNjcmliZWQgaW4gdGhlXG5cdC8vIEhUTUwgU3RhbmRhcmQ6IGh0dHA6Ly93aGF0d2cub3JnL2h0bWwvd2ViYXBwYXBpcy5odG1sI2RvbS13aW5kb3diYXNlNjQtYnRvYVxuXHR2YXIgZW5jb2RlID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRpbnB1dCA9IFN0cmluZyhpbnB1dCk7XG5cdFx0aWYgKC9bXlxcMC1cXHhGRl0vLnRlc3QoaW5wdXQpKSB7XG5cdFx0XHQvLyBOb3RlOiBubyBuZWVkIHRvIHNwZWNpYWwtY2FzZSBhc3RyYWwgc3ltYm9scyBoZXJlLCBhcyBzdXJyb2dhdGVzIGFyZVxuXHRcdFx0Ly8gbWF0Y2hlZCwgYW5kIHRoZSBpbnB1dCBpcyBzdXBwb3NlZCB0byBvbmx5IGNvbnRhaW4gQVNDSUkgYW55d2F5LlxuXHRcdFx0ZXJyb3IoXG5cdFx0XHRcdCdUaGUgc3RyaW5nIHRvIGJlIGVuY29kZWQgY29udGFpbnMgY2hhcmFjdGVycyBvdXRzaWRlIG9mIHRoZSAnICtcblx0XHRcdFx0J0xhdGluMSByYW5nZS4nXG5cdFx0XHQpO1xuXHRcdH1cblx0XHR2YXIgcGFkZGluZyA9IGlucHV0Lmxlbmd0aCAlIDM7XG5cdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdHZhciBwb3NpdGlvbiA9IC0xO1xuXHRcdHZhciBhO1xuXHRcdHZhciBiO1xuXHRcdHZhciBjO1xuXHRcdHZhciBkO1xuXHRcdHZhciBidWZmZXI7XG5cdFx0Ly8gTWFrZSBzdXJlIGFueSBwYWRkaW5nIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgbG9vcC5cblx0XHR2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoIC0gcGFkZGluZztcblxuXHRcdHdoaWxlICgrK3Bvc2l0aW9uIDwgbGVuZ3RoKSB7XG5cdFx0XHQvLyBSZWFkIHRocmVlIGJ5dGVzLCBpLmUuIDI0IGJpdHMuXG5cdFx0XHRhID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbikgPDwgMTY7XG5cdFx0XHRiID0gaW5wdXQuY2hhckNvZGVBdCgrK3Bvc2l0aW9uKSA8PCA4O1xuXHRcdFx0YyA9IGlucHV0LmNoYXJDb2RlQXQoKytwb3NpdGlvbik7XG5cdFx0XHRidWZmZXIgPSBhICsgYiArIGM7XG5cdFx0XHQvLyBUdXJuIHRoZSAyNCBiaXRzIGludG8gZm91ciBjaHVua3Mgb2YgNiBiaXRzIGVhY2gsIGFuZCBhcHBlbmQgdGhlXG5cdFx0XHQvLyBtYXRjaGluZyBjaGFyYWN0ZXIgZm9yIGVhY2ggb2YgdGhlbSB0byB0aGUgb3V0cHV0LlxuXHRcdFx0b3V0cHV0ICs9IChcblx0XHRcdFx0VEFCTEUuY2hhckF0KGJ1ZmZlciA+PiAxOCAmIDB4M0YpICtcblx0XHRcdFx0VEFCTEUuY2hhckF0KGJ1ZmZlciA+PiAxMiAmIDB4M0YpICtcblx0XHRcdFx0VEFCTEUuY2hhckF0KGJ1ZmZlciA+PiA2ICYgMHgzRikgK1xuXHRcdFx0XHRUQUJMRS5jaGFyQXQoYnVmZmVyICYgMHgzRilcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKHBhZGRpbmcgPT0gMikge1xuXHRcdFx0YSA9IGlucHV0LmNoYXJDb2RlQXQocG9zaXRpb24pIDw8IDg7XG5cdFx0XHRiID0gaW5wdXQuY2hhckNvZGVBdCgrK3Bvc2l0aW9uKTtcblx0XHRcdGJ1ZmZlciA9IGEgKyBiO1xuXHRcdFx0b3V0cHV0ICs9IChcblx0XHRcdFx0VEFCTEUuY2hhckF0KGJ1ZmZlciA+PiAxMCkgK1xuXHRcdFx0XHRUQUJMRS5jaGFyQXQoKGJ1ZmZlciA+PiA0KSAmIDB4M0YpICtcblx0XHRcdFx0VEFCTEUuY2hhckF0KChidWZmZXIgPDwgMikgJiAweDNGKSArXG5cdFx0XHRcdCc9J1xuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKHBhZGRpbmcgPT0gMSkge1xuXHRcdFx0YnVmZmVyID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbik7XG5cdFx0XHRvdXRwdXQgKz0gKFxuXHRcdFx0XHRUQUJMRS5jaGFyQXQoYnVmZmVyID4+IDIpICtcblx0XHRcdFx0VEFCTEUuY2hhckF0KChidWZmZXIgPDwgNCkgJiAweDNGKSArXG5cdFx0XHRcdCc9PSdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fTtcblxuXHR2YXIgYmFzZTY0ID0ge1xuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQndmVyc2lvbic6ICcwLjEuMCdcblx0fTtcblxuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZShmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBiYXNlNjQ7XG5cdFx0fSk7XG5cdH1cdGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmICFmcmVlRXhwb3J0cy5ub2RlVHlwZSkge1xuXHRcdGlmIChmcmVlTW9kdWxlKSB7IC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBiYXNlNjQ7XG5cdFx0fSBlbHNlIHsgLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAodmFyIGtleSBpbiBiYXNlNjQpIHtcblx0XHRcdFx0YmFzZTY0Lmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBiYXNlNjRba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5iYXNlNjQgPSBiYXNlNjQ7XG5cdH1cblxufSh0aGlzKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9