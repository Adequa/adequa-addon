!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],l=i[s];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:i,prop:s}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Array.isArray(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",a=0;a<n.length;++a){var c=n.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?i+=n.charAt(a):c<128?i+=o[c]:c<2048?i+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?i+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&n.charCodeAt(a)),i+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return i},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=i(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){const n=r(3);Adequa.qs=n,Adequa.process.interests={};const o=function(e,t=""){if(0===Object.keys(e).length)return t;const[r,n]=Object.entries(e)[0];return""!==t&&(t+="_"),o(n,t+=r)},i=function(e){const t=Adequa.domain(e),r=e.split("?").slice(-1)[0],i=function(e,t){const r=Adequa.storage.websiteRequests[e];if(!r)return!1;for(const[e,n]of Object.entries(t)){const t=r[e];if(!t)continue;const i=t[n];if(i)return o(i)}return!1}(t,n.parse(r));if(!i)return!1;Adequa.model.interest.saveOrUpdate({category:i,status:"active"}).then(t=>{Adequa.model.actionWithInterest.save({action_type:"new_tab",action_url:e,action_timestamp:Date.now(),interest_id:t,interest_category:i}),Adequa.process.analytics.sendAnonymousEvent(e,"advertising","new_action_with_interest","new_tab",void 0,{cd5:encodeURI(t),cd6:encodeURI(i),dl:encodeURI(e)})})};Adequa.process.interests.checkUrl=function(e){!function(e){for(const[t,r]of Object.entries(Adequa.storage.websiteCategory))if(-1!==e.indexOf(t)){Adequa.model.interest.saveOrUpdate({category:r,status:"active"}).then(t=>{Adequa.model.actionWithInterest.save({action_type:"new_tab",action_url:e,action_timestamp:Date.now(),interest_id:t,interest_category:r})});break}}(e),-1!==e.indexOf("?")&&i(e)}},function(e,t,r){"use strict";var n=r(4),o=r(5),i=r(1);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(0),o=r(1),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,a(t)?t:[t])},l=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,o,i,a,c,l,f,p,d,y,h,b){var m=t;if("function"==typeof l?m=l(r,m):m instanceof Date&&(m=d(m)),null===m){if(i)return c&&!h?c(r,u.encoder,b):r;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||n.isBuffer(m))return c?[y(h?r:c(r,u.encoder,b))+"="+y(c(m,u.encoder,b))]:[y(r)+"="+y(String(m))];var v,g=[];if(void 0===m)return g;if(Array.isArray(l))v=l;else{var O=Object.keys(m);v=f?O.sort(f):O}for(var j=0;j<v.length;++j){var A=v[j];a&&null===m[A]||(Array.isArray(m)?s(g,e(m[A],o(r,A),o,i,a,c,l,f,p,d,y,h,b)):s(g,e(m[A],r+(p?"."+A:"["+A+"]"),o,i,a,c,l,f,p,d,y,h,b)))}return g};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===a.delimiter?u.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:u.strictNullHandling,p="boolean"==typeof a.skipNulls?a.skipNulls:u.skipNulls,d="boolean"==typeof a.encode?a.encode:u.encode,y="function"==typeof a.encoder?a.encoder:u.encoder,h="function"==typeof a.sort?a.sort:null,b=void 0===a.allowDots?u.allowDots:!!a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:u.serializeDate,v="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:u.encodeValuesOnly,g=a.charset||u.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var O,j,A=o.formatters[a.format];"function"==typeof a.filter?r=(j=a.filter)("",r):Array.isArray(a.filter)&&(O=j=a.filter);var w,x=[];if("object"!=typeof r||null===r)return"";w=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var _=i[w];O||(O=Object.keys(r)),h&&O.sort(h);for(var P=0;P<O.length;++P){var D=O[P];p&&null===r[D]||s(x,f(r[D],D,_,l,p,d?y:null,j,h,b,m,A,v,g))}var N=x.join(c),S=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&(S+="iso-8859-1"===g?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),N.length>0?S+N:""}},function(e,t,r){"use strict";var n=r(0),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),c=a?n.slice(0,a.index):n,s=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;s.push(c)}for(var l=0;null!==(a=i.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);r.parseArrays||""!==c?!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(i=[])[s]=n:i[c]=n:i={0:n}}n=i}return n}(s,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots=void 0===r.allowDots?i.allowDots:!!r.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,void 0!==r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===r.charset&&(r.charset=i.charset),""===e||null==e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){var r,c={},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=s.split(t.delimiter,l),f=-1,p=t.charset;if(t.charsetSentinel)for(r=0;r<u.length;++r)0===u[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[r]?p="utf-8":"utf8=%26%2310003%3B"===u[r]&&(p="iso-8859-1"),f=r,r=u.length);for(r=0;r<u.length;++r)if(r!==f){var d,y,h=u[r],b=h.indexOf("]="),m=-1===b?h.indexOf("="):b+1;-1===m?(d=t.decoder(h,i.decoder,p),y=t.strictNullHandling?null:""):(d=t.decoder(h.slice(0,m),i.decoder,p),y=t.decoder(h.slice(m+1),i.decoder,p)),y&&t.interpretNumericEntities&&"iso-8859-1"===p&&(y=a(y)),o.call(c,d)?c[d]=n.combine(c[d],y):c[d]=y}return c}(e,r):e,l=r.plainObjects?Object.create(null):{},u=Object.keys(s),f=0;f<u.length;++f){var p=u[f],d=c(p,s[p],r);l=n.merge(l,d,r)}return n.compact(l)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3Byb2Nlc3MvaW50ZXJlc3RzL2ludGVyZXN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJoYXMiLCJoZXhUYWJsZSIsImFycmF5IiwicHVzaCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJhcnJheVRvT2JqZWN0Iiwic291cmNlIiwib3B0aW9ucyIsIm9iaiIsInBsYWluT2JqZWN0cyIsImxlbmd0aCIsImFzc2lnbiIsInRhcmdldCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJjb21iaW5lIiwiYSIsImIiLCJjb25jYXQiLCJjb21wYWN0IiwicXVldWUiLCJwcm9wIiwicmVmcyIsIml0ZW0iLCJqIiwidmFsIiwiaW5kZXhPZiIsInBvcCIsIkFycmF5IiwiaXNBcnJheSIsImNvbXBhY3RlZCIsImNvbXBhY3RRdWV1ZSIsImRlY29kZSIsInN0ciIsImRlY29kZXIiLCJjaGFyc2V0Iiwic3RyV2l0aG91dFBsdXMiLCJyZXBsYWNlIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlIiwiZW5jb2RlIiwiZGVmYXVsdEVuY29kZXIiLCJzdHJpbmciLCJTdHJpbmciLCJlc2NhcGUiLCIkMCIsInBhcnNlSW50Iiwic2xpY2UiLCJvdXQiLCJjaGFyQ29kZUF0IiwiY2hhckF0IiwiaXNCdWZmZXIiLCJjb25zdHJ1Y3RvciIsImlzUmVnRXhwIiwibWVyZ2UiLCJhbGxvd1Byb3RvdHlwZXMiLCJtZXJnZVRhcmdldCIsImZvckVhY2giLCJwZXJjZW50VHdlbnRpZXMiLCJkZWZhdWx0IiwiZm9ybWF0dGVycyIsIlJGQzE3MzgiLCJSRkMzOTg2IiwicXMiLCJyZXF1aXJlIiwiQWRlcXVhIiwicHJvY2VzcyIsImludGVyZXN0cyIsInBhcnNlQ2F0ZWdvcnkiLCJyZXN1bHQiLCJjYXRlZ29yeSIsInN1Yl9jYXRlZ29yaWVzIiwiZW50cmllcyIsImNoZWNrUXVlcnlQYXJhbWV0ZXJzIiwidXJsIiwiZG9tYWluIiwiYm9keSIsInNwbGl0IiwicGFyYW1ldGVycyIsImRvbWFpbkNhdGVnb3JpZXMiLCJzdG9yYWdlIiwid2Vic2l0ZVJlcXVlc3RzIiwicGFyYW0iLCJwYXJhbWV0ZXJzTGlzdCIsImNhdGVnb3JpZXNMaXN0IiwiZ2V0Q2F0ZWdvcnkiLCJwYXJzZSIsIm1vZGVsIiwiaW50ZXJlc3QiLCJzYXZlT3JVcGRhdGUiLCJzdGF0dXMiLCJ0aGVuIiwiaWQiLCJhY3Rpb25XaXRoSW50ZXJlc3QiLCJzYXZlIiwiYWN0aW9uX3R5cGUiLCJhY3Rpb25fdXJsIiwiYWN0aW9uX3RpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJpbnRlcmVzdF9pZCIsImludGVyZXN0X2NhdGVnb3J5IiwiYW5hbHl0aWNzIiwic2VuZEFub255bW91c0V2ZW50IiwidW5kZWZpbmVkIiwiY2Q1IiwiZW5jb2RlVVJJIiwiY2Q2IiwiZGwiLCJjaGVja1VybCIsIndlYnNpdGUiLCJ3ZWJzaXRlQ2F0ZWdvcnkiLCJjaGVja1dlYnNpdGUiLCJzdHJpbmdpZnkiLCJmb3JtYXRzIiwidXRpbHMiLCJhcnJheVByZWZpeEdlbmVyYXRvcnMiLCJicmFja2V0cyIsInByZWZpeCIsImluZGljZXMiLCJyZXBlYXQiLCJwdXNoVG9BcnJheSIsImFyciIsInZhbHVlT3JBcnJheSIsImFwcGx5IiwidG9JU08iLCJ0b0lTT1N0cmluZyIsImRlZmF1bHRzIiwiYWRkUXVlcnlQcmVmaXgiLCJhbGxvd0RvdHMiLCJjaGFyc2V0U2VudGluZWwiLCJkZWxpbWl0ZXIiLCJlbmNvZGVyIiwiZW5jb2RlVmFsdWVzT25seSIsInNlcmlhbGl6ZURhdGUiLCJkYXRlIiwic2tpcE51bGxzIiwic3RyaWN0TnVsbEhhbmRsaW5nIiwiZ2VuZXJhdGVBcnJheVByZWZpeCIsImZpbHRlciIsInNvcnQiLCJmb3JtYXR0ZXIiLCJvYmpLZXlzIiwidmFsdWVzIiwib3B0cyIsIlR5cGVFcnJvciIsIkVycm9yIiwiZm9ybWF0IiwiYXJyYXlGb3JtYXQiLCJqb2luZWQiLCJqb2luIiwiYXJyYXlMaW1pdCIsImRlcHRoIiwiaWdub3JlUXVlcnlQcmVmaXgiLCJpbnRlcnByZXROdW1lcmljRW50aXRpZXMiLCJwYXJhbWV0ZXJMaW1pdCIsInBhcnNlQXJyYXlzIiwibnVtYmVyU3RyIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VLZXlzIiwiZ2l2ZW5LZXkiLCJjaGlsZCIsInNlZ21lbnQiLCJleGVjIiwicGFyZW50IiwiaW5kZXgiLCJjaGFpbiIsImxlYWYiLCJyb290IiwiY2xlYW5Sb290IiwiaXNOYU4iLCIwIiwicGFyc2VPYmplY3QiLCJ0ZW1wT2JqIiwiY2xlYW5TdHIiLCJsaW1pdCIsIkluZmluaXR5IiwicGFydHMiLCJza2lwSW5kZXgiLCJwYXJ0IiwiYnJhY2tldEVxdWFsc1BvcyIsInBvcyIsInBhcnNl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dXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBoZXhUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbnZhciBjb21wYWN0UXVldWUgPSBmdW5jdGlvbiBjb21wYWN0UXVldWUocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGFycmF5VG9PYmplY3QgPSBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8ICFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgIUFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBtZXJnZVRhcmdldCA9IGFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpICYmIEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgaWYgKGhhcy5jYWxsKHRhcmdldCwgaSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0W2ldICYmIHR5cGVvZiB0YXJnZXRbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldFtpXSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgIGlmIChoYXMuY2FsbChhY2MsIGtleSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59O1xuXG52YXIgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduU2luZ2xlU291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59O1xuXG52YXIgZGVjb2RlID0gZnVuY3Rpb24gKHN0ciwgZGVjb2RlciwgY2hhcnNldCkge1xuICAgIHZhciBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXMucmVwbGFjZSgvJVswLTlhLWZdezJ9L2dpLCB1bmVzY2FwZSk7XG4gICAgfVxuICAgIC8vIHV0Zi04XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gICAgfVxufTtcblxudmFyIGVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShzdHIsIGRlZmF1bHRFbmNvZGVyLCBjaGFyc2V0KSB7XG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgKG1zY2RleCkgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gICAgLy8gSXQgaGFzIGJlZW4gYWRhcHRlZCBoZXJlIGZvciBzdHJpY3RlciBhZGhlcmVuY2UgdG8gUkZDIDM5ODZcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHZhciBzdHJpbmcgPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ciA6IFN0cmluZyhzdHIpO1xuXG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGMgPT09IDB4MkQgLy8gLVxuICAgICAgICAgICAgfHwgYyA9PT0gMHgyRSAvLyAuXG4gICAgICAgICAgICB8fCBjID09PSAweDVGIC8vIF9cbiAgICAgICAgICAgIHx8IGMgPT09IDB4N0UgLy8gflxuICAgICAgICAgICAgfHwgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIC8vIDAtOVxuICAgICAgICAgICAgfHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NUEpIC8vIGEtelxuICAgICAgICAgICAgfHwgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpIC8vIEEtWlxuICAgICAgICApIHtcbiAgICAgICAgICAgIG91dCArPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIGhleFRhYmxlW2NdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPj0gMHhFMDAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhFMCB8IChjID4+IDEyKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSAxO1xuICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNGRikgPDwgMTApIHwgKHN0cmluZy5jaGFyQ29kZUF0KGkpICYgMHgzRkYpKTtcbiAgICAgICAgb3V0ICs9IGhleFRhYmxlWzB4RjAgfCAoYyA+PiAxOCldXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gMTIpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG52YXIgY29tcGFjdCA9IGZ1bmN0aW9uIGNvbXBhY3QodmFsdWUpIHtcbiAgICB2YXIgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICAgIHZhciByZWZzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWVbaV07XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgcmVmcy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7IG9iajogb2JqLCBwcm9wOiBrZXkgfSk7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wYWN0UXVldWUocXVldWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIGlzUmVnRXhwID0gZnVuY3Rpb24gaXNSZWdFeHAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn07XG5cbnZhciBpc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyKG9iaikge1xuICAgIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG5cbnZhciBjb21iaW5lID0gZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFycmF5VG9PYmplY3Q6IGFycmF5VG9PYmplY3QsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgY29tYmluZTogY29tYmluZSxcbiAgICBjb21wYWN0OiBjb21wYWN0LFxuICAgIGRlY29kZTogZGVjb2RlLFxuICAgIGVuY29kZTogZW5jb2RlLFxuICAgIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgICBpc1JlZ0V4cDogaXNSZWdFeHAsXG4gICAgbWVyZ2U6IG1lcmdlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciBwZXJjZW50VHdlbnRpZXMgPSAvJTIwL2c7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICdkZWZhdWx0JzogJ1JGQzM5ODYnLFxuICAgIGZvcm1hdHRlcnM6IHtcbiAgICAgICAgUkZDMTczODogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZS5jYWxsKHZhbHVlLCBwZXJjZW50VHdlbnRpZXMsICcrJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFJGQzM5ODY6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBSRkMxNzM4OiAnUkZDMTczOCcsXG4gICAgUkZDMzk4NjogJ1JGQzM5ODYnXG59O1xuIiwiY29uc3QgcXMgPSByZXF1aXJlKCdxcycpO1xyXG5BZGVxdWEucXMgPSBxcztcclxuQWRlcXVhLnByb2Nlc3MuaW50ZXJlc3RzID0ge307XHJcblxyXG5cclxuY29uc3QgcGFyc2VDYXRlZ29yeSA9IGZ1bmN0aW9uKG9iamVjdCwgcmVzdWx0ID0gXCJcIil7XHJcbiAgICBpZihPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc3VsdDtcclxuICAgIGNvbnN0IFtjYXRlZ29yeSwgc3ViX2NhdGVnb3JpZXNdID0gT2JqZWN0LmVudHJpZXMob2JqZWN0KVswXTtcclxuXHJcbiAgICBpZihyZXN1bHQgIT09IFwiXCIpIHJlc3VsdCArPSBcIl9cIjtcclxuICAgIHJlc3VsdCArPSBjYXRlZ29yeTtcclxuXHJcbiAgICByZXR1cm4gcGFyc2VDYXRlZ29yeShzdWJfY2F0ZWdvcmllcywgcmVzdWx0KTtcclxufTtcclxuXHJcbmNvbnN0IGdldENhdGVnb3J5ID0gZnVuY3Rpb24gKGRvbWFpbiwgcGFyYW1ldGVycykge1xyXG4gICAgY29uc3QgZG9tYWluQ2F0ZWdvcmllcyA9IEFkZXF1YS5zdG9yYWdlLndlYnNpdGVSZXF1ZXN0c1tkb21haW5dO1xyXG4gICAgaWYgKCFkb21haW5DYXRlZ29yaWVzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgZm9yKGNvbnN0IFtwYXJhbSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpKXtcclxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzTGlzdCA9IGRvbWFpbkNhdGVnb3JpZXNbcGFyYW1dO1xyXG4gICAgICAgIGlmKCFwYXJhbWV0ZXJzTGlzdCkgY29udGludWU7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXNMaXN0ID0gcGFyYW1ldGVyc0xpc3RbdmFsdWVdO1xyXG4gICAgICAgIGlmKCFjYXRlZ29yaWVzTGlzdCkgY29udGludWU7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXJzZUNhdGVnb3J5KGNhdGVnb3JpZXNMaXN0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2VcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24odXJsKXtcclxuICAgIGNvbnN0IGRvbWFpbiA9IEFkZXF1YS5kb21haW4odXJsKTtcclxuXHJcbiAgICBjb25zdCBib2R5ID0gdXJsLnNwbGl0KCc/Jykuc2xpY2UoLTEpWzBdO1xyXG4gICAgY29uc3QgcGFyYW1zID0gcXMucGFyc2UoYm9keSk7XHJcblxyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeShkb21haW4sIHBhcmFtcyk7XHJcbiAgICBpZighY2F0ZWdvcnkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBBZGVxdWEubW9kZWwuaW50ZXJlc3Quc2F2ZU9yVXBkYXRlKHtcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgc3RhdHVzOiBcImFjdGl2ZVwiXHJcbiAgICB9KS50aGVuKGlkID0+IHtcclxuICAgICAgICBBZGVxdWEubW9kZWwuYWN0aW9uV2l0aEludGVyZXN0LnNhdmUoe1xyXG4gICAgICAgICAgICBhY3Rpb25fdHlwZTogXCJuZXdfdGFiXCIsXHJcbiAgICAgICAgICAgIGFjdGlvbl91cmw6IHVybCxcclxuICAgICAgICAgICAgYWN0aW9uX3RpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgaW50ZXJlc3RfaWQ6IGlkLFxyXG4gICAgICAgICAgICBpbnRlcmVzdF9jYXRlZ29yeTogY2F0ZWdvcnlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgQWRlcXVhLnByb2Nlc3MuYW5hbHl0aWNzLnNlbmRBbm9ueW1vdXNFdmVudCh1cmwsIFwiYWR2ZXJ0aXNpbmdcIiwgXCJuZXdfYWN0aW9uX3dpdGhfaW50ZXJlc3RcIiwgXCJuZXdfdGFiXCIsIHVuZGVmaW5lZCwge1xyXG4gICAgICAgICAgICBcImNkNVwiOiBlbmNvZGVVUkkoaWQpLFxyXG4gICAgICAgICAgICBcImNkNlwiOiBlbmNvZGVVUkkoY2F0ZWdvcnkpLFxyXG4gICAgICAgICAgICBcImRsXCI6IGVuY29kZVVSSSh1cmwpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrV2Vic2l0ZSA9IGZ1bmN0aW9uKHVybCl7XHJcbiAgICBmb3IoY29uc3QgW3dlYnNpdGUsIGNhdGVnb3J5XSBvZiBPYmplY3QuZW50cmllcyhBZGVxdWEuc3RvcmFnZS53ZWJzaXRlQ2F0ZWdvcnkpKXtcclxuICAgICAgICBpZih1cmwuaW5kZXhPZih3ZWJzaXRlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgQWRlcXVhLm1vZGVsLmludGVyZXN0LnNhdmVPclVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwiYWN0aXZlXCJcclxuICAgICAgICAgICAgfSkudGhlbihpZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBBZGVxdWEubW9kZWwuYWN0aW9uV2l0aEludGVyZXN0LnNhdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbl90eXBlOiBcIm5ld190YWJcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25fdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uX3RpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdF9pZDogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RfY2F0ZWdvcnk6IGNhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuQWRlcXVhLnByb2Nlc3MuaW50ZXJlc3RzLmNoZWNrVXJsID0gZnVuY3Rpb24odXJsKXtcclxuICAgIGNoZWNrV2Vic2l0ZSh1cmwpO1xyXG4gICAgaWYodXJsLmluZGV4T2YoJz8nKSAhPT0gLTEpIGNoZWNrUXVlcnlQYXJhbWV0ZXJzKHVybCk7XHJcbn07XHJcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Jyk7XG52YXIgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxudmFyIGFycmF5UHJlZml4R2VuZXJhdG9ycyA9IHtcbiAgICBicmFja2V0czogZnVuY3Rpb24gYnJhY2tldHMocHJlZml4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnW10nO1xuICAgIH0sXG4gICAgaW5kaWNlczogZnVuY3Rpb24gaW5kaWNlcyhwcmVmaXgsIGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZS1tYXRjaGluZ1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1snICsga2V5ICsgJ10nO1xuICAgIH0sXG4gICAgcmVwZWF0OiBmdW5jdGlvbiByZXBlYXQocHJlZml4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbnZhciBwdXNoVG9BcnJheSA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlT3JBcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc0FycmF5KHZhbHVlT3JBcnJheSkgPyB2YWx1ZU9yQXJyYXkgOiBbdmFsdWVPckFycmF5XSk7XG59O1xuXG52YXIgdG9JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcblxudmFyIGRlZmF1bHRzID0ge1xuICAgIGFkZFF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBlbmNvZGU6IHRydWUsXG4gICAgZW5jb2RlcjogdXRpbHMuZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRlKGRhdGUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSk7XG4gICAgfSxcbiAgICBza2lwTnVsbHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXR0ZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICBjaGFyc2V0XG4pIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9iaiA9IHNlcmlhbGl6ZURhdGUob2JqKTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID8gZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQpIDogcHJlZml4O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8IHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4IDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQpO1xuICAgICAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIoa2V5VmFsdWUpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0KSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXIoU3RyaW5nKG9iaikpXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBvYmpLZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSksXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyLFxuICAgICAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgICAgICBwcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsga2V5IDogJ1snICsga2V5ICsgJ10nKSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICAgICAgZW5jb2RlcixcbiAgICAgICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgICAgICBhbGxvd0RvdHMsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICAgICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgICAgICBjaGFyc2V0XG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG9wdHMpIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIHZhciBvcHRpb25zID0gb3B0cyA/IHV0aWxzLmFzc2lnbih7fSwgb3B0cykgOiB7fTtcblxuICAgIGlmIChvcHRpb25zLmVuY29kZXIgIT09IG51bGwgJiYgb3B0aW9ucy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBkZWxpbWl0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0aW9ucy5kZWxpbWl0ZXI7XG4gICAgdmFyIHN0cmljdE51bGxIYW5kbGluZyA9IHR5cGVvZiBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmc7XG4gICAgdmFyIHNraXBOdWxscyA9IHR5cGVvZiBvcHRpb25zLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHM7XG4gICAgdmFyIGVuY29kZSA9IHR5cGVvZiBvcHRpb25zLmVuY29kZSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5lbmNvZGUgOiBkZWZhdWx0cy5lbmNvZGU7XG4gICAgdmFyIGVuY29kZXIgPSB0eXBlb2Ygb3B0aW9ucy5lbmNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5lbmNvZGVyIDogZGVmYXVsdHMuZW5jb2RlcjtcbiAgICB2YXIgc29ydCA9IHR5cGVvZiBvcHRpb25zLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnNvcnQgOiBudWxsO1xuICAgIHZhciBhbGxvd0RvdHMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRpb25zLmFsbG93RG90cztcbiAgICB2YXIgc2VyaWFsaXplRGF0ZSA9IHR5cGVvZiBvcHRpb25zLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlO1xuICAgIHZhciBlbmNvZGVWYWx1ZXNPbmx5ID0gdHlwZW9mIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5IDogZGVmYXVsdHMuZW5jb2RlVmFsdWVzT25seTtcbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRpb25zLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0aW9ucy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mb3JtYXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9wdGlvbnMuZm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xuICAgIH0gZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdGlvbnMuZm9ybWF0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgfVxuICAgIHZhciBmb3JtYXR0ZXIgPSBmb3JtYXRzLmZvcm1hdHRlcnNbb3B0aW9ucy5mb3JtYXRdO1xuICAgIHZhciBvYmpLZXlzO1xuICAgIHZhciBmaWx0ZXI7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRpb25zLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdGlvbnMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmICgnaW5kaWNlcycgaW4gb3B0aW9ucykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdGlvbnMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xuICAgIH1cblxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBvYmpLZXlzLnNvcnQoc29ydCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHB1c2hUb0FycmF5KGtleXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIG9ialtrZXldLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZSA/IGVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKGRlbGltaXRlcik7XG4gICAgdmFyIHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcblxuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpvaW5lZC5sZW5ndGggPiAwID8gcHJlZml4ICsgam9pbmVkIDogJyc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBkZWNvZGVyOiB1dGlscy5kZWNvZGUsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZGVwdGg6IDUsXG4gICAgaWdub3JlUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogZmFsc2UsXG4gICAgcGFyYW1ldGVyTGltaXQ6IDEwMDAsXG4gICAgcGFyc2VBcnJheXM6IHRydWUsXG4gICAgcGxhaW5PYmplY3RzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiMoXFxkKyk7L2csIGZ1bmN0aW9uICgkMCwgbnVtYmVyU3RyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG51bWJlclN0ciwgMTApKTtcbiAgICB9KTtcbn07XG5cbi8vIFRoaXMgaXMgd2hhdCBicm93c2VycyB3aWxsIHN1Ym1pdCB3aGVuIHRoZSDinJMgY2hhcmFjdGVyIG9jY3VycyBpbiBhblxuLy8gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIGJvZHkgYW5kIHRoZSBlbmNvZGluZyBvZiB0aGUgcGFnZSBjb250YWluaW5nXG4vLyB0aGUgZm9ybSBpcyBpc28tODg1OS0xLCBvciB3aGVuIHRoZSBzdWJtaXR0ZWQgZm9ybSBoYXMgYW4gYWNjZXB0LWNoYXJzZXRcbi8vIGF0dHJpYnV0ZSBvZiBpc28tODg1OS0xLiBQcmVzdW1hYmx5IGFsc28gd2l0aCBvdGhlciBjaGFyc2V0cyB0aGF0IGRvIG5vdCBjb250YWluXG4vLyB0aGUg4pyTIGNoYXJhY3Rlciwgc3VjaCBhcyB1cy1hc2NpaS5cbnZhciBpc29TZW50aW5lbCA9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpXG5cbi8vIFRoZXNlIGFyZSB0aGUgcGVyY2VudC1lbmNvZGVkIHV0Zi04IG9jdGV0cyByZXByZXNlbnRpbmcgYSBjaGVja21hcmssIGluZGljYXRpbmcgdGhhdCB0aGUgcmVxdWVzdCBhY3R1YWxseSBpcyB1dGYtOCBlbmNvZGVkLlxudmFyIGNoYXJzZXRTZW50aW5lbCA9ICd1dGY4PSVFMiU5QyU5Myc7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcblxudmFyIHBhcnNlVmFsdWVzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ1ZhbHVlcyhzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGNsZWFuU3RyID0gb3B0aW9ucy5pZ25vcmVRdWVyeVByZWZpeCA/IHN0ci5yZXBsYWNlKC9eXFw/LywgJycpIDogc3RyO1xuICAgIHZhciBsaW1pdCA9IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdDtcbiAgICB2YXIgcGFydHMgPSBjbGVhblN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgbGltaXQpO1xuICAgIHZhciBza2lwSW5kZXggPSAtMTsgLy8gS2VlcCB0cmFjayBvZiB3aGVyZSB0aGUgdXRmOCBzZW50aW5lbCB3YXMgZm91bmRcbiAgICB2YXIgaTtcblxuICAgIHZhciBjaGFyc2V0ID0gb3B0aW9ucy5jaGFyc2V0O1xuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXS5pbmRleE9mKCd1dGY4PScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSBjaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICd1dGYtOCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXSA9PT0gaXNvU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICdpc28tODg1OS0xJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBpID0gcGFydHMubGVuZ3RoOyAvLyBUaGUgZXNsaW50IHNldHRpbmdzIGRvIG5vdCBhbGxvdyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA9PT0gc2tpcEluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgIHZhciBicmFja2V0RXF1YWxzUG9zID0gcGFydC5pbmRleE9mKCddPScpO1xuICAgICAgICB2YXIgcG9zID0gYnJhY2tldEVxdWFsc1BvcyA9PT0gLTEgPyBwYXJ0LmluZGV4T2YoJz0nKSA6IGJyYWNrZXRFcXVhbHNQb3MgKyAxO1xuXG4gICAgICAgIHZhciBrZXksIHZhbDtcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0KTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID8gbnVsbCA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQuc2xpY2UoMCwgcG9zKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZShwb3MgKyAxKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzICYmIGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgdmFsID0gaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhcy5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB1dGlscy5jb21iaW5lKG9ialtrZXldLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIHBhcnNlT2JqZWN0ID0gZnVuY3Rpb24gKGNoYWluLCB2YWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgbGVhZiA9IHZhbDtcblxuICAgIGZvciAodmFyIGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB2YXIgcm9vdCA9IGNoYWluW2ldO1xuXG4gICAgICAgIGlmIChyb290ID09PSAnW10nICYmIG9wdGlvbnMucGFyc2VBcnJheXMpIHtcbiAgICAgICAgICAgIG9iaiA9IFtdLmNvbmNhdChsZWFmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyc2VBcnJheXMgJiYgY2xlYW5Sb290ID09PSAnJykge1xuICAgICAgICAgICAgICAgIG9iaiA9IHsgMDogbGVhZiB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAhaXNOYU4oaW5kZXgpXG4gICAgICAgICAgICAgICAgJiYgcm9vdCAhPT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgaW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICYmIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG9iaiA9IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBsZWFmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IGxlYWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZWFmID0gb2JqO1xuICAgIH1cblxuICAgIHJldHVybiBsZWFmO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gb3B0cyA/IHV0aWxzLmFzc2lnbih7fSwgb3B0cykgOiB7fTtcblxuICAgIGlmIChvcHRpb25zLmRlY29kZXIgIT09IG51bGwgJiYgb3B0aW9ucy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPSBvcHRpb25zLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlO1xuICAgIG9wdGlvbnMuZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAnc3RyaW5nJyB8fCB1dGlscy5pc1JlZ0V4cChvcHRpb25zLmRlbGltaXRlcikgPyBvcHRpb25zLmRlbGltaXRlciA6IGRlZmF1bHRzLmRlbGltaXRlcjtcbiAgICBvcHRpb25zLmRlcHRoID0gdHlwZW9mIG9wdGlvbnMuZGVwdGggPT09ICdudW1iZXInID8gb3B0aW9ucy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoO1xuICAgIG9wdGlvbnMuYXJyYXlMaW1pdCA9IHR5cGVvZiBvcHRpb25zLmFycmF5TGltaXQgPT09ICdudW1iZXInID8gb3B0aW9ucy5hcnJheUxpbWl0IDogZGVmYXVsdHMuYXJyYXlMaW1pdDtcbiAgICBvcHRpb25zLnBhcnNlQXJyYXlzID0gb3B0aW9ucy5wYXJzZUFycmF5cyAhPT0gZmFsc2U7XG4gICAgb3B0aW9ucy5kZWNvZGVyID0gdHlwZW9mIG9wdGlvbnMuZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuZGVjb2RlciA6IGRlZmF1bHRzLmRlY29kZXI7XG4gICAgb3B0aW9ucy5hbGxvd0RvdHMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRpb25zLmFsbG93RG90cztcbiAgICBvcHRpb25zLnBsYWluT2JqZWN0cyA9IHR5cGVvZiBvcHRpb25zLnBsYWluT2JqZWN0cyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5wbGFpbk9iamVjdHMgOiBkZWZhdWx0cy5wbGFpbk9iamVjdHM7XG4gICAgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzO1xuICAgIG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQ7XG4gICAgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPSB0eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbnMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRpb25zLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zLmNoYXJzZXQgPSBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIH1cblxuICAgIGlmIChzdHIgPT09ICcnIHx8IHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgfVxuXG4gICAgdmFyIHRlbXBPYmogPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHBhcnNlVmFsdWVzKHN0ciwgb3B0aW9ucykgOiBzdHI7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGFuZCBzZXR1cCB0aGUgbmV3IG9iamVjdFxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wT2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciBuZXdPYmogPSBwYXJzZUtleXMoa2V5LCB0ZW1wT2JqW2tleV0sIG9wdGlvbnMpO1xuICAgICAgICBvYmogPSB1dGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWxzLmNvbXBhY3Qob2JqKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9