!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],u=i[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:i,prop:c}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Array.isArray(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",a=0;a<n.length;++a){var s=n.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=n.charAt(a):s<128?i+=o[s]:s<2048?i+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?i+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(a)),i+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return i},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=i(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){const n=r(3);Adequa.actions.interests={},Adequa.actions.interests.createInterest=function(e){e=Object.assign({validated:!1,removed:!1},e);const t=Adequa.storage.interests||[];t.filter(t=>t.name===e.name).length?Adequa.actions.interests.setInterest(e):(t.push(e),Adequa.storage.interests=t,Adequa.setStorage({}))},Adequa.actions.interests.checkInterest=function(e,t){if(console.log("check interest "+t,Object.assign({},Adequa.storage.tabs[t])),!Adequa.storage.tabs[t].request)return;const r=Adequa.hostname(e).split(".")[0];if(Adequa.catalogs[r]){const o=e.split("/").pop(),i=n.parse(o,{ignoreQueryPrefix:!0}),a={name:Adequa.storage.tabs[t].request.filters.keywords.text,request:Adequa.storage.tabs[t].request,category:"Immobilier",validated:!0};return Object.assign(a,Adequa.catalogs[r].parseQuery(i)),Adequa.actions.interests.createInterest(a)}return!1},Adequa.actions.interests.setInterest=function(e){for(const t in Adequa.storage.interests)Adequa.storage.interests[t].name===e.name&&(Adequa.storage.interests[t]=e)},Adequa.actions.interests.notifyAds=function(e){for(const{doc:t}of e)Adequa.actions.tabs.notify(t.title,t.text,t.link,t.image,t.price),Adequa.db.ads.put({...t,notified:!0},{force:!0}).catch()},Adequa.actions.interests.getLastAdsByInterest=function(e,t,r){Adequa.db.ads.query(function(e,r){e.interest===t.name&&r(e.generated_at)},{include_docs:!0,limit:e,descending:!0}).then(e=>{r(e.rows)})}},function(e,t,r){"use strict";var n=r(4),o=r(5),i=r(1);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(0),o=r(1),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,s=Array.prototype.push,c=function(e,t){s.apply(e,a(t)?t:[t])},u=Date.prototype.toISOString,l={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,o,i,a,s,u,f,d,p,y,g,h){var b=t;if("function"==typeof u?b=u(r,b):b instanceof Date&&(b=p(b)),null===b){if(i)return s&&!g?s(r,l.encoder,h):r;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||n.isBuffer(b))return s?[y(g?r:s(r,l.encoder,h))+"="+y(s(b,l.encoder,h))]:[y(r)+"="+y(String(b))];var m,v=[];if(void 0===b)return v;if(Array.isArray(u))m=u;else{var A=Object.keys(b);m=f?A.sort(f):A}for(var O=0;O<m.length;++O){var j=m[O];a&&null===b[j]||(Array.isArray(b)?c(v,e(b[j],o(r,j),o,i,a,s,u,f,d,p,y,g,h)):c(v,e(b[j],r+(d?"."+j:"["+j+"]"),o,i,a,s,u,f,d,p,y,g,h)))}return v};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===a.delimiter?l.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:l.skipNulls,p="boolean"==typeof a.encode?a.encode:l.encode,y="function"==typeof a.encoder?a.encoder:l.encoder,g="function"==typeof a.sort?a.sort:null,h=void 0===a.allowDots?l.allowDots:!!a.allowDots,b="function"==typeof a.serializeDate?a.serializeDate:l.serializeDate,m="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:l.encodeValuesOnly,v=a.charset||l.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var A,O,j=o.formatters[a.format];"function"==typeof a.filter?r=(O=a.filter)("",r):Array.isArray(a.filter)&&(A=O=a.filter);var w,x=[];if("object"!=typeof r||null===r)return"";w=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var q=i[w];A||(A=Object.keys(r)),g&&A.sort(g);for(var P=0;P<A.length;++P){var S=A[P];d&&null===r[S]||c(x,f(r[S],S,q,u,d,p?y:null,O,g,h,b,j,m,v))}var N=x.join(s),D=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&(D+="iso-8859-1"===v?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),N.length>0?D+N:""}},function(e,t,r){"use strict";var n=r(0),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),s=a?n.slice(0,a.index):n,c=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var u=0;null!==(a=i.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);r.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=n:i[s]=n:i={0:n}}n=i}return n}(c,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots=void 0===r.allowDots?i.allowDots:!!r.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,void 0!==r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===r.charset&&(r.charset=i.charset),""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,s={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,l=c.split(t.delimiter,u),f=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<l.length;++r)0===l[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[r]?d="utf-8":"utf8=%26%2310003%3B"===l[r]&&(d="iso-8859-1"),f=r,r=l.length);for(r=0;r<l.length;++r)if(r!==f){var p,y,g=l[r],h=g.indexOf("]="),b=-1===h?g.indexOf("="):h+1;-1===b?(p=t.decoder(g,i.decoder,d),y=t.strictNullHandling?null:""):(p=t.decoder(g.slice(0,b),i.decoder,d),y=t.decoder(g.slice(b+1),i.decoder,d)),y&&t.interpretNumericEntities&&"iso-8859-1"===d&&(y=a(y)),o.call(s,p)?s[p]=n.combine(s[p],y):s[p]=y}return s}(e,r):e,u=r.plainObjects?Object.create(null):{},l=Object.keys(c),f=0;f<l.length;++f){var d=l[f],p=s(d,c[d],r);u=n.merge(u,p,r)}return n.compact(u)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FjdGlvbnMvaW50ZXJlc3RzL2ludGVyZXN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJoYXMiLCJoZXhUYWJsZSIsImFycmF5IiwicHVzaCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJhcnJheVRvT2JqZWN0Iiwic291cmNlIiwib3B0aW9ucyIsIm9iaiIsInBsYWluT2JqZWN0cyIsImxlbmd0aCIsImFzc2lnbiIsInRhcmdldCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJjb21iaW5lIiwiYSIsImIiLCJjb25jYXQiLCJjb21wYWN0IiwicXVldWUiLCJwcm9wIiwicmVmcyIsIml0ZW0iLCJqIiwidmFsIiwiaW5kZXhPZiIsInBvcCIsIkFycmF5IiwiaXNBcnJheSIsImNvbXBhY3RlZCIsImNvbXBhY3RRdWV1ZSIsImRlY29kZSIsInN0ciIsImRlY29kZXIiLCJjaGFyc2V0Iiwic3RyV2l0aG91dFBsdXMiLCJyZXBsYWNlIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlIiwiZW5jb2RlIiwiZGVmYXVsdEVuY29kZXIiLCJzdHJpbmciLCJTdHJpbmciLCJlc2NhcGUiLCIkMCIsInBhcnNlSW50Iiwic2xpY2UiLCJvdXQiLCJjaGFyQ29kZUF0IiwiY2hhckF0IiwiaXNCdWZmZXIiLCJjb25zdHJ1Y3RvciIsImlzUmVnRXhwIiwibWVyZ2UiLCJhbGxvd1Byb3RvdHlwZXMiLCJtZXJnZVRhcmdldCIsImZvckVhY2giLCJwZXJjZW50VHdlbnRpZXMiLCJkZWZhdWx0IiwiZm9ybWF0dGVycyIsIlJGQzE3MzgiLCJSRkMzOTg2IiwicXMiLCJyZXF1aXJlIiwiQWRlcXVhIiwiYWN0aW9ucyIsImludGVyZXN0cyIsImNyZWF0ZUludGVyZXN0IiwiaW50ZXJlc3QiLCJ2YWxpZGF0ZWQiLCJyZW1vdmVkIiwic3RvcmFnZSIsImZpbHRlciIsInNldEludGVyZXN0Iiwic2V0U3RvcmFnZSIsImNoZWNrSW50ZXJlc3QiLCJ1cmwiLCJ0YWJJZCIsImNvbnNvbGUiLCJsb2ciLCJ0YWJzIiwicmVxdWVzdCIsImNhdGFsb2dOYW1lIiwiaG9zdG5hbWUiLCJzcGxpdCIsImNhdGFsb2dzIiwicXVlcnkiLCJxdWVyeVBhcmFtZXRlcnMiLCJwYXJzZSIsImlnbm9yZVF1ZXJ5UHJlZml4IiwiZmlsdGVycyIsImtleXdvcmRzIiwidGV4dCIsImNhdGVnb3J5IiwicGFyc2VRdWVyeSIsImluZGV4Iiwibm90aWZ5QWRzIiwicm93cyIsImRvYyIsIm5vdGlmeSIsInRpdGxlIiwibGluayIsImltYWdlIiwicHJpY2UiLCJkYiIsImFkcyIsInB1dCIsIm5vdGlmaWVkIiwiZm9yY2UiLCJjYXRjaCIsImdldExhc3RBZHNCeUludGVyZXN0IiwibnVtYmVyIiwiY2FsbGJhY2siLCJlbWl0IiwiZ2VuZXJhdGVkX2F0IiwiaW5jbHVkZV9kb2NzIiwibGltaXQiLCJkZXNjZW5kaW5nIiwidGhlbiIsImRhdGEiLCJzdHJpbmdpZnkiLCJmb3JtYXRzIiwidXRpbHMiLCJhcnJheVByZWZpeEdlbmVyYXRvcnMiLCJicmFja2V0cyIsInByZWZpeCIsImluZGljZXMiLCJyZXBlYXQiLCJwdXNoVG9BcnJheSIsImFyciIsInZhbHVlT3JBcnJheSIsImFwcGx5IiwidG9JU08iLCJEYXRlIiwidG9JU09TdHJpbmciLCJkZWZhdWx0cyIsImFkZFF1ZXJ5UHJlZml4IiwiYWxsb3dEb3RzIiwiY2hhcnNldFNlbnRpbmVsIiwiZGVsaW1pdGVyIiwiZW5jb2RlciIsImVuY29kZVZhbHVlc09ubHkiLCJzZXJpYWxpemVEYXRlIiwiZGF0ZSIsInNraXBOdWxscyIsInN0cmljdE51bGxIYW5kbGluZyIsImdlbmVyYXRlQXJyYXlQcmVmaXgiLCJzb3J0IiwiZm9ybWF0dGVyIiwib2JqS2V5cyIsInZhbHVlcyIsIm9wdHMiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJFcnJvciIsImZvcm1hdCIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiam9pbiIsImFycmF5TGltaXQiLCJkZXB0aCIsImludGVycHJldE51bWVyaWNFbnRpdGllcyIsInBhcmFtZXRlckxpbWl0IiwicGFyc2VBcnJheXMiLCJudW1iZXJTdHIiLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUtleXMiLCJnaXZlbktleSIsImNoaWxkIiwic2VnbWVudCIsImV4ZWMiLCJwYXJlbnQiLCJjaGFpbiIsImxlYWYiLCJyb290IiwiY2xlYW5Sb290IiwiaXNOYU4iLCIwIiwicGFyc2VPYmplY3QiLCJ0ZW1wT2JqIiwiY2xlYW5TdHIiLCJJbmZpbml0eSIsInBhcnRzIiwic2tpcEluZGV4IiwicGFydCIsImJyYWNrZXRFcXVhbHNQb3MiLCJwb3MiLCJwYXJzZVZhbHVlcyIsIm5ld09iaiJdLCJtYXBwaW5ncyI6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QixFQUFVbkwsRUFBS2dNLEVBQVFoTSxHQUFNaUIsR0FDMUNDLEVBQU1xSCxFQUFNckUsTUFBTWhELEVBQUt1TCxFQUFReEwsR0FHbkMsT0FBT3NILEVBQU16RyxRQUFRWiIsImZpbGUiOiJpbnRlcmVzdHMuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGhleFRhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIGFycmF5LnB1c2goJyUnICsgKChpIDwgMTYgPyAnMCcgOiAnJykgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufSgpKTtcblxudmFyIGNvbXBhY3RRdWV1ZSA9IGZ1bmN0aW9uIGNvbXBhY3RRdWV1ZShxdWV1ZSkge1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHZhciBjb21wYWN0ZWQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0ub2JqW2l0ZW0ucHJvcF0gPSBjb21wYWN0ZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgYXJyYXlUb09iamVjdCA9IGZ1bmN0aW9uIGFycmF5VG9PYmplY3Qoc291cmNlLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoKG9wdGlvbnMgJiYgKG9wdGlvbnMucGxhaW5PYmplY3RzIHx8IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSkgfHwgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBbdGFyZ2V0XS5jb25jYXQoc291cmNlKTtcbiAgICB9XG5cbiAgICB2YXIgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJiAhQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlUb09iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRbaV0gJiYgdHlwZW9mIHRhcmdldFtpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0W2ldLCBpdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW2tleV07XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKGFjYywga2V5KSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBtZXJnZShhY2Nba2V5XSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG1lcmdlVGFyZ2V0KTtcbn07XG5cbnZhciBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ25TaW5nbGVTb3VyY2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgdGFyZ2V0KTtcbn07XG5cbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAoc3RyLCBkZWNvZGVyLCBjaGFyc2V0KSB7XG4gICAgdmFyIHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgICB9XG4gICAgLy8gdXRmLThcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cldpdGhvdXRQbHVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cztcbiAgICB9XG59O1xuXG52YXIgZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKHN0ciwgZGVmYXVsdEVuY29kZXIsIGNoYXJzZXQpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gc3RyIDogU3RyaW5nKHN0cik7XG5cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYyA9PT0gMHgyRCAvLyAtXG4gICAgICAgICAgICB8fCBjID09PSAweDJFIC8vIC5cbiAgICAgICAgICAgIHx8IGMgPT09IDB4NUYgLy8gX1xuICAgICAgICAgICAgfHwgYyA9PT0gMHg3RSAvLyB+XG4gICAgICAgICAgICB8fCAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgLy8gMC05XG4gICAgICAgICAgICB8fCAoYyA+PSAweDQxICYmIGMgPD0gMHg1QSkgLy8gYS16XG4gICAgICAgICAgICB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSkgLy8gQS1aXG4gICAgICAgICkge1xuICAgICAgICAgICAgb3V0ICs9IHN0cmluZy5jaGFyQXQoaSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgaGV4VGFibGVbY107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEMwIHwgKGMgPj4gNildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweEQ4MDAgfHwgYyA+PSAweEUwMDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEUwIHwgKGMgPj4gMTIpXSArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpICs9IDE7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M0ZGKSA8PCAxMCkgfCAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgJiAweDNGRikpO1xuICAgICAgICBvdXQgKz0gaGV4VGFibGVbMHhGMCB8IChjID4+IDE4KV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbnZhciBjb21wYWN0ID0gZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIHZhciBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBhY3RRdWV1ZShxdWV1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxudmFyIGlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuICEhKG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpO1xufTtcblxudmFyIGNvbWJpbmUgPSBmdW5jdGlvbiBjb21iaW5lKGEsIGIpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KGEsIGIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtZXJnZTogbWVyZ2Vcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXBsYWNlID0gU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlO1xudmFyIHBlcmNlbnRUd2VudGllcyA9IC8lMjAvZztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ2RlZmF1bHQnOiAnUkZDMzk4NicsXG4gICAgZm9ybWF0dGVyczoge1xuICAgICAgICBSRkMxNzM4OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlLmNhbGwodmFsdWUsIHBlcmNlbnRUd2VudGllcywgJysnKTtcbiAgICAgICAgfSxcbiAgICAgICAgUkZDMzk4NjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFJGQzE3Mzg6ICdSRkMxNzM4JyxcbiAgICBSRkMzOTg2OiAnUkZDMzk4Nidcbn07XG4iLCJjb25zdCBxcyA9IHJlcXVpcmUoJ3FzJyk7XHJcblxyXG5BZGVxdWEuYWN0aW9ucy5pbnRlcmVzdHMgPSB7fTtcclxuXHJcbkFkZXF1YS5hY3Rpb25zLmludGVyZXN0cy5jcmVhdGVJbnRlcmVzdCA9IGZ1bmN0aW9uIChpbnRlcmVzdCkge1xyXG4gICAgaW50ZXJlc3QgPSBPYmplY3QuYXNzaWduKHt2YWxpZGF0ZWQ6IGZhbHNlLCByZW1vdmVkOiBmYWxzZX0sIGludGVyZXN0KTtcclxuXHJcbiAgICBjb25zdCBpbnRlcmVzdHMgPSBBZGVxdWEuc3RvcmFnZS5pbnRlcmVzdHMgfHwgW107XHJcbiAgICBjb25zdCBleGlzdCA9IChpbnRlcmVzdHMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lID09PSBpbnRlcmVzdC5uYW1lKSkubGVuZ3RoO1xyXG5cclxuICAgIGlmICghZXhpc3QpIHtcclxuICAgICAgICBpbnRlcmVzdHMucHVzaChpbnRlcmVzdCk7XHJcbiAgICAgICAgQWRlcXVhLnN0b3JhZ2UuaW50ZXJlc3RzID0gaW50ZXJlc3RzO1xyXG4gICAgICAgIEFkZXF1YS5zZXRTdG9yYWdlKHt9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQWRlcXVhLmFjdGlvbnMuaW50ZXJlc3RzLnNldEludGVyZXN0KGludGVyZXN0KTtcclxuICAgIH1cclxufTtcclxuXHJcbkFkZXF1YS5hY3Rpb25zLmludGVyZXN0cy5jaGVja0ludGVyZXN0ID0gZnVuY3Rpb24gKHVybCwgdGFiSWQpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiY2hlY2sgaW50ZXJlc3QgXCIgKyB0YWJJZCwgT2JqZWN0LmFzc2lnbih7fSwgQWRlcXVhLnN0b3JhZ2UudGFic1t0YWJJZF0pKTtcclxuICAgIGlmKCFBZGVxdWEuc3RvcmFnZS50YWJzW3RhYklkXS5yZXF1ZXN0KSByZXR1cm47XHJcbiAgICBjb25zdCBjYXRhbG9nTmFtZSA9IEFkZXF1YS5ob3N0bmFtZSh1cmwpLnNwbGl0KCcuJylbMF07XHJcblxyXG4gICAgaWYgKEFkZXF1YS5jYXRhbG9nc1tjYXRhbG9nTmFtZV0pIHtcclxuICAgICAgICBjb25zdCBxdWVyeSA9IHVybC5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVycyA9IHFzLnBhcnNlKHF1ZXJ5LCB7aWdub3JlUXVlcnlQcmVmaXg6IHRydWV9KTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGludGVyZXN0ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBBZGVxdWEuc3RvcmFnZS50YWJzW3RhYklkXS5yZXF1ZXN0LmZpbHRlcnMua2V5d29yZHMudGV4dCxcclxuICAgICAgICAgICAgcmVxdWVzdDogQWRlcXVhLnN0b3JhZ2UudGFic1t0YWJJZF0ucmVxdWVzdCxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiSW1tb2JpbGllclwiLFxyXG4gICAgICAgICAgICB2YWxpZGF0ZWQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oaW50ZXJlc3QsIEFkZXF1YS5jYXRhbG9nc1tjYXRhbG9nTmFtZV0ucGFyc2VRdWVyeShxdWVyeVBhcmFtZXRlcnMpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEFkZXF1YS5hY3Rpb25zLmludGVyZXN0cy5jcmVhdGVJbnRlcmVzdChpbnRlcmVzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuQWRlcXVhLmFjdGlvbnMuaW50ZXJlc3RzLnNldEludGVyZXN0ID0gZnVuY3Rpb24gKGludGVyZXN0KSB7XHJcbiAgICBmb3IgKGNvbnN0IGluZGV4IGluIEFkZXF1YS5zdG9yYWdlLmludGVyZXN0cykge1xyXG4gICAgICAgIGlmIChBZGVxdWEuc3RvcmFnZS5pbnRlcmVzdHNbaW5kZXhdLm5hbWUgPT09IGludGVyZXN0Lm5hbWUpIHtcclxuICAgICAgICAgICAgQWRlcXVhLnN0b3JhZ2UuaW50ZXJlc3RzW2luZGV4XSA9IGludGVyZXN0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbkFkZXF1YS5hY3Rpb25zLmludGVyZXN0cy5ub3RpZnlBZHMgPSBmdW5jdGlvbiAocm93cykge1xyXG4gICAgZm9yIChjb25zdCB7ZG9jfSBvZiByb3dzKSB7XHJcbiAgICAgICAgQWRlcXVhLmFjdGlvbnMudGFicy5ub3RpZnkoZG9jLnRpdGxlLCBkb2MudGV4dCwgZG9jLmxpbmssIGRvYy5pbWFnZSwgZG9jLnByaWNlKTtcclxuXHJcbiAgICAgICAgQWRlcXVhLmRiLmFkcy5wdXQoe1xyXG4gICAgICAgICAgICAuLi5kb2MsXHJcbiAgICAgICAgICAgIG5vdGlmaWVkOiB0cnVlLFxyXG4gICAgICAgIH0sIHtmb3JjZTogdHJ1ZX0pLmNhdGNoKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5BZGVxdWEuYWN0aW9ucy5pbnRlcmVzdHMuZ2V0TGFzdEFkc0J5SW50ZXJlc3QgPSBmdW5jdGlvbiAobnVtYmVyLCBpbnRlcmVzdCwgY2FsbGJhY2spIHtcclxuICAgIEFkZXF1YS5kYi5hZHMucXVlcnkoZnVuY3Rpb24gKGRvYywgZW1pdCkge1xyXG4gICAgICAgIGlmKGRvYy5pbnRlcmVzdCA9PT0gaW50ZXJlc3QubmFtZSlcclxuICAgICAgICAgICAgZW1pdChkb2MuZ2VuZXJhdGVkX2F0KTtcclxuICAgIH0sIHtpbmNsdWRlX2RvY3MgOiB0cnVlLCBsaW1pdDogbnVtYmVyLCBkZXNjZW5kaW5nOiB0cnVlfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICBjYWxsYmFjayhkYXRhLnJvd3MpO1xyXG4gICAgfSk7XHJcbn07XHJcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Jyk7XG52YXIgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxudmFyIGFycmF5UHJlZml4R2VuZXJhdG9ycyA9IHtcbiAgICBicmFja2V0czogZnVuY3Rpb24gYnJhY2tldHMocHJlZml4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnW10nO1xuICAgIH0sXG4gICAgaW5kaWNlczogZnVuY3Rpb24gaW5kaWNlcyhwcmVmaXgsIGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZS1tYXRjaGluZ1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1snICsga2V5ICsgJ10nO1xuICAgIH0sXG4gICAgcmVwZWF0OiBmdW5jdGlvbiByZXBlYXQocHJlZml4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbnZhciBwdXNoVG9BcnJheSA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlT3JBcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc0FycmF5KHZhbHVlT3JBcnJheSkgPyB2YWx1ZU9yQXJyYXkgOiBbdmFsdWVPckFycmF5XSk7XG59O1xuXG52YXIgdG9JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcblxudmFyIGRlZmF1bHRzID0ge1xuICAgIGFkZFF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBlbmNvZGU6IHRydWUsXG4gICAgZW5jb2RlcjogdXRpbHMuZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRlKGRhdGUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSk7XG4gICAgfSxcbiAgICBza2lwTnVsbHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXR0ZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICBjaGFyc2V0XG4pIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9iaiA9IHNlcmlhbGl6ZURhdGUob2JqKTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID8gZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQpIDogcHJlZml4O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8IHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4IDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQpO1xuICAgICAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIoa2V5VmFsdWUpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0KSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXIoU3RyaW5nKG9iaikpXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBvYmpLZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSksXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyLFxuICAgICAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgICAgICBwcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsga2V5IDogJ1snICsga2V5ICsgJ10nKSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICAgICAgZW5jb2RlcixcbiAgICAgICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgICAgICBhbGxvd0RvdHMsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICAgICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgICAgICBjaGFyc2V0XG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG9wdHMpIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIHZhciBvcHRpb25zID0gb3B0cyA/IHV0aWxzLmFzc2lnbih7fSwgb3B0cykgOiB7fTtcblxuICAgIGlmIChvcHRpb25zLmVuY29kZXIgIT09IG51bGwgJiYgb3B0aW9ucy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBkZWxpbWl0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0aW9ucy5kZWxpbWl0ZXI7XG4gICAgdmFyIHN0cmljdE51bGxIYW5kbGluZyA9IHR5cGVvZiBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmc7XG4gICAgdmFyIHNraXBOdWxscyA9IHR5cGVvZiBvcHRpb25zLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHM7XG4gICAgdmFyIGVuY29kZSA9IHR5cGVvZiBvcHRpb25zLmVuY29kZSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5lbmNvZGUgOiBkZWZhdWx0cy5lbmNvZGU7XG4gICAgdmFyIGVuY29kZXIgPSB0eXBlb2Ygb3B0aW9ucy5lbmNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5lbmNvZGVyIDogZGVmYXVsdHMuZW5jb2RlcjtcbiAgICB2YXIgc29ydCA9IHR5cGVvZiBvcHRpb25zLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnNvcnQgOiBudWxsO1xuICAgIHZhciBhbGxvd0RvdHMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRpb25zLmFsbG93RG90cztcbiAgICB2YXIgc2VyaWFsaXplRGF0ZSA9IHR5cGVvZiBvcHRpb25zLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlO1xuICAgIHZhciBlbmNvZGVWYWx1ZXNPbmx5ID0gdHlwZW9mIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5IDogZGVmYXVsdHMuZW5jb2RlVmFsdWVzT25seTtcbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRpb25zLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0aW9ucy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mb3JtYXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9wdGlvbnMuZm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xuICAgIH0gZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdGlvbnMuZm9ybWF0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgfVxuICAgIHZhciBmb3JtYXR0ZXIgPSBmb3JtYXRzLmZvcm1hdHRlcnNbb3B0aW9ucy5mb3JtYXRdO1xuICAgIHZhciBvYmpLZXlzO1xuICAgIHZhciBmaWx0ZXI7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRpb25zLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdGlvbnMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmICgnaW5kaWNlcycgaW4gb3B0aW9ucykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdGlvbnMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xuICAgIH1cblxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBvYmpLZXlzLnNvcnQoc29ydCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHB1c2hUb0FycmF5KGtleXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIG9ialtrZXldLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZSA/IGVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKGRlbGltaXRlcik7XG4gICAgdmFyIHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcblxuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpvaW5lZC5sZW5ndGggPiAwID8gcHJlZml4ICsgam9pbmVkIDogJyc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBkZWNvZGVyOiB1dGlscy5kZWNvZGUsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZGVwdGg6IDUsXG4gICAgaWdub3JlUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogZmFsc2UsXG4gICAgcGFyYW1ldGVyTGltaXQ6IDEwMDAsXG4gICAgcGFyc2VBcnJheXM6IHRydWUsXG4gICAgcGxhaW5PYmplY3RzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiMoXFxkKyk7L2csIGZ1bmN0aW9uICgkMCwgbnVtYmVyU3RyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG51bWJlclN0ciwgMTApKTtcbiAgICB9KTtcbn07XG5cbi8vIFRoaXMgaXMgd2hhdCBicm93c2VycyB3aWxsIHN1Ym1pdCB3aGVuIHRoZSDinJMgY2hhcmFjdGVyIG9jY3VycyBpbiBhblxuLy8gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIGJvZHkgYW5kIHRoZSBlbmNvZGluZyBvZiB0aGUgcGFnZSBjb250YWluaW5nXG4vLyB0aGUgZm9ybSBpcyBpc28tODg1OS0xLCBvciB3aGVuIHRoZSBzdWJtaXR0ZWQgZm9ybSBoYXMgYW4gYWNjZXB0LWNoYXJzZXRcbi8vIGF0dHJpYnV0ZSBvZiBpc28tODg1OS0xLiBQcmVzdW1hYmx5IGFsc28gd2l0aCBvdGhlciBjaGFyc2V0cyB0aGF0IGRvIG5vdCBjb250YWluXG4vLyB0aGUg4pyTIGNoYXJhY3Rlciwgc3VjaCBhcyB1cy1hc2NpaS5cbnZhciBpc29TZW50aW5lbCA9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpXG5cbi8vIFRoZXNlIGFyZSB0aGUgcGVyY2VudC1lbmNvZGVkIHV0Zi04IG9jdGV0cyByZXByZXNlbnRpbmcgYSBjaGVja21hcmssIGluZGljYXRpbmcgdGhhdCB0aGUgcmVxdWVzdCBhY3R1YWxseSBpcyB1dGYtOCBlbmNvZGVkLlxudmFyIGNoYXJzZXRTZW50aW5lbCA9ICd1dGY4PSVFMiU5QyU5Myc7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcblxudmFyIHBhcnNlVmFsdWVzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ1ZhbHVlcyhzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGNsZWFuU3RyID0gb3B0aW9ucy5pZ25vcmVRdWVyeVByZWZpeCA/IHN0ci5yZXBsYWNlKC9eXFw/LywgJycpIDogc3RyO1xuICAgIHZhciBsaW1pdCA9IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdDtcbiAgICB2YXIgcGFydHMgPSBjbGVhblN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgbGltaXQpO1xuICAgIHZhciBza2lwSW5kZXggPSAtMTsgLy8gS2VlcCB0cmFjayBvZiB3aGVyZSB0aGUgdXRmOCBzZW50aW5lbCB3YXMgZm91bmRcbiAgICB2YXIgaTtcblxuICAgIHZhciBjaGFyc2V0ID0gb3B0aW9ucy5jaGFyc2V0O1xuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXS5pbmRleE9mKCd1dGY4PScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSBjaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICd1dGYtOCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXSA9PT0gaXNvU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICdpc28tODg1OS0xJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBpID0gcGFydHMubGVuZ3RoOyAvLyBUaGUgZXNsaW50IHNldHRpbmdzIGRvIG5vdCBhbGxvdyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA9PT0gc2tpcEluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgIHZhciBicmFja2V0RXF1YWxzUG9zID0gcGFydC5pbmRleE9mKCddPScpO1xuICAgICAgICB2YXIgcG9zID0gYnJhY2tldEVxdWFsc1BvcyA9PT0gLTEgPyBwYXJ0LmluZGV4T2YoJz0nKSA6IGJyYWNrZXRFcXVhbHNQb3MgKyAxO1xuXG4gICAgICAgIHZhciBrZXksIHZhbDtcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0KTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID8gbnVsbCA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQuc2xpY2UoMCwgcG9zKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZShwb3MgKyAxKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzICYmIGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgdmFsID0gaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhcy5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB1dGlscy5jb21iaW5lKG9ialtrZXldLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIHBhcnNlT2JqZWN0ID0gZnVuY3Rpb24gKGNoYWluLCB2YWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgbGVhZiA9IHZhbDtcblxuICAgIGZvciAodmFyIGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB2YXIgcm9vdCA9IGNoYWluW2ldO1xuXG4gICAgICAgIGlmIChyb290ID09PSAnW10nICYmIG9wdGlvbnMucGFyc2VBcnJheXMpIHtcbiAgICAgICAgICAgIG9iaiA9IFtdLmNvbmNhdChsZWFmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyc2VBcnJheXMgJiYgY2xlYW5Sb290ID09PSAnJykge1xuICAgICAgICAgICAgICAgIG9iaiA9IHsgMDogbGVhZiB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAhaXNOYU4oaW5kZXgpXG4gICAgICAgICAgICAgICAgJiYgcm9vdCAhPT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgaW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICYmIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG9iaiA9IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBsZWFmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IGxlYWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZWFmID0gb2JqO1xuICAgIH1cblxuICAgIHJldHVybiBsZWFmO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gb3B0cyA/IHV0aWxzLmFzc2lnbih7fSwgb3B0cykgOiB7fTtcblxuICAgIGlmIChvcHRpb25zLmRlY29kZXIgIT09IG51bGwgJiYgb3B0aW9ucy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPSBvcHRpb25zLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlO1xuICAgIG9wdGlvbnMuZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAnc3RyaW5nJyB8fCB1dGlscy5pc1JlZ0V4cChvcHRpb25zLmRlbGltaXRlcikgPyBvcHRpb25zLmRlbGltaXRlciA6IGRlZmF1bHRzLmRlbGltaXRlcjtcbiAgICBvcHRpb25zLmRlcHRoID0gdHlwZW9mIG9wdGlvbnMuZGVwdGggPT09ICdudW1iZXInID8gb3B0aW9ucy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoO1xuICAgIG9wdGlvbnMuYXJyYXlMaW1pdCA9IHR5cGVvZiBvcHRpb25zLmFycmF5TGltaXQgPT09ICdudW1iZXInID8gb3B0aW9ucy5hcnJheUxpbWl0IDogZGVmYXVsdHMuYXJyYXlMaW1pdDtcbiAgICBvcHRpb25zLnBhcnNlQXJyYXlzID0gb3B0aW9ucy5wYXJzZUFycmF5cyAhPT0gZmFsc2U7XG4gICAgb3B0aW9ucy5kZWNvZGVyID0gdHlwZW9mIG9wdGlvbnMuZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuZGVjb2RlciA6IGRlZmF1bHRzLmRlY29kZXI7XG4gICAgb3B0aW9ucy5hbGxvd0RvdHMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRpb25zLmFsbG93RG90cztcbiAgICBvcHRpb25zLnBsYWluT2JqZWN0cyA9IHR5cGVvZiBvcHRpb25zLnBsYWluT2JqZWN0cyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5wbGFpbk9iamVjdHMgOiBkZWZhdWx0cy5wbGFpbk9iamVjdHM7XG4gICAgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzO1xuICAgIG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQ7XG4gICAgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPSB0eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbnMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRpb25zLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zLmNoYXJzZXQgPSBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIH1cblxuICAgIGlmIChzdHIgPT09ICcnIHx8IHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgfVxuXG4gICAgdmFyIHRlbXBPYmogPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHBhcnNlVmFsdWVzKHN0ciwgb3B0aW9ucykgOiBzdHI7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGFuZCBzZXR1cCB0aGUgbmV3IG9iamVjdFxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wT2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciBuZXdPYmogPSBwYXJzZUtleXMoa2V5LCB0ZW1wT2JqW2tleV0sIG9wdGlvbnMpO1xuICAgICAgICBvYmogPSB1dGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWxzLmNvbXBhY3Qob2JqKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9