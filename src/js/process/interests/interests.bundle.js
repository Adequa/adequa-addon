!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],l=i[s];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:i,prop:s}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Array.isArray(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",a=0;a<n.length;++a){var c=n.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?i+=n.charAt(a):c<128?i+=o[c]:c<2048?i+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?i+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&n.charCodeAt(a)),i+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return i},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=i(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){const n=r(3);Adequa.qs=n,Adequa.process.interests={};const o=function(e,t=""){if(0===Object.keys(e).length)return t;const[r,n]=Object.entries(e)[0];return""!==t&&(t+="_"),o(n,t+=r)},i=function(e){const t=Adequa.domain(e),r=e.split("?").slice(-1)[0],i=function(e,t){const r=Adequa.storage.websiteParameters[e];if(!r)return!1;for(const[e,n]of Object.entries(t)){const t=r[e];if(!t)continue;const i=t[n];if(i)return o(i)}return!1}(t,n.parse(r));if(!i)return!1;const a=Adequa.storage.websiteRequests[e.split("?")[0]];a&&Adequa.model.interest.saveOrUpdate({category:i},e,a).then(t=>{Adequa.model.actionWithInterest.save({action_type:a.action_type,action_url:e,action_timestamp:Date.now(),interest_id:t,interest_category:i}),Adequa.process.analytics.sendAnonymousEvent(e,"advertising","new_action_with_interest",a.action_type,void 0,{cd5:encodeURI(t),cd6:encodeURI(i),dl:encodeURI(e)})})};Adequa.process.interests.checkUrl=function(e){!function(e){for(const[t,r]of Object.entries(Adequa.storage.websiteCategory))if(-1!==e.indexOf(t)){Adequa.model.interest.saveOrUpdate({category:r.category},e,r).then(t=>{Adequa.model.actionWithInterest.save({action_type:r.action_type,action_url:e,action_timestamp:Date.now(),interest_id:t,interest_category:r.category}),Adequa.process.analytics.sendAnonymousEvent(e,"advertising","new_action_with_interest",r.action_type,void 0,{cd5:encodeURI(t),cd6:encodeURI(r.category),dl:encodeURI(e)})});break}}(e),-1!==e.indexOf("?")&&i(e)};const a=function(e,t,r={}){if(0===Object.keys(e).length)return r;const[n,o]=Object.entries(e)[0];return r[n]=t,a(o,t,r)},c=function(e,t,r={}){if(!e)return t;if(0===Object.keys(e).length)return t;for(const n in e){if(Object.keys(e[n]).length>1)return c(e[n],t[n],r);Object.assign(r,a(e[n],t[n]))}return r};Adequa.process.interests.checkRequest=function(e){const t=e.url;let r=null;if(e.requestBody&&e.requestBody.raw&&"POST"===e.method)r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.requestBody.raw[0].bytes)));else{if("GET"!==e.method||-1===t.indexOf("?"))return;r=n.parse(e.url.split("?").slice(-1)[0],{ignoreQueryPrefix:!0})}const o=Adequa.storage.websiteRequests[e.url.split("?")[0]];if(!o)return;const i=c(o.parameters,r);if(i&&0!==Object.keys(i).length&&(1!==Object.keys(i).length||!i.label))for(const[e,r]of Object.entries(Adequa.storage.websiteCategory))if(-1!==t.indexOf(e)){Adequa.model.interest.saveOrUpdate({category:r.category,parameters:i},t,o).then(e=>{Adequa.model.actionWithInterest.save({action_type:o.action_type,action_url:t,action_timestamp:Date.now(),interest_id:e,interest_category:r.category}),Adequa.process.analytics.sendAnonymousEvent(t,"advertising","new_action_with_interest",o.action_type,void 0,{cd5:encodeURI(e),cd6:encodeURI(r.category),dl:encodeURI(t)})});break}}},function(e,t,r){"use strict";var n=r(4),o=r(5),i=r(1);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(0),o=r(1),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,a(t)?t:[t])},l=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,o,i,a,c,l,f,d,p,y,h,g){var b=t;if("function"==typeof l?b=l(r,b):b instanceof Date&&(b=p(b)),null===b){if(i)return c&&!h?c(r,u.encoder,g):r;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||n.isBuffer(b))return c?[y(h?r:c(r,u.encoder,g))+"="+y(c(b,u.encoder,g))]:[y(r)+"="+y(String(b))];var m,v=[];if(void 0===b)return v;if(Array.isArray(l))m=l;else{var O=Object.keys(b);m=f?O.sort(f):O}for(var j=0;j<m.length;++j){var A=m[j];a&&null===b[A]||(Array.isArray(b)?s(v,e(b[A],o(r,A),o,i,a,c,l,f,d,p,y,h,g)):s(v,e(b[A],r+(d?"."+A:"["+A+"]"),o,i,a,c,l,f,d,p,y,h,g)))}return v};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===a.delimiter?u.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:u.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:u.skipNulls,p="boolean"==typeof a.encode?a.encode:u.encode,y="function"==typeof a.encoder?a.encoder:u.encoder,h="function"==typeof a.sort?a.sort:null,g=void 0===a.allowDots?u.allowDots:!!a.allowDots,b="function"==typeof a.serializeDate?a.serializeDate:u.serializeDate,m="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:u.encodeValuesOnly,v=a.charset||u.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var O,j,A=o.formatters[a.format];"function"==typeof a.filter?r=(j=a.filter)("",r):Array.isArray(a.filter)&&(O=j=a.filter);var w,_=[];if("object"!=typeof r||null===r)return"";w=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var x=i[w];O||(O=Object.keys(r)),h&&O.sort(h);for(var P=0;P<O.length;++P){var q=O[P];d&&null===r[q]||s(_,f(r[q],q,x,l,d,p?y:null,j,h,g,b,A,m,v))}var R=_.join(c),k=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&(k+="iso-8859-1"===v?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),R.length>0?k+R:""}},function(e,t,r){"use strict";var n=r(0),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),c=a?n.slice(0,a.index):n,s=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;s.push(c)}for(var l=0;null!==(a=i.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);r.parseArrays||""!==c?!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(i=[])[s]=n:i[c]=n:i={0:n}}n=i}return n}(s,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots=void 0===r.allowDots?i.allowDots:!!r.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,void 0!==r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===r.charset&&(r.charset=i.charset),""===e||null==e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){var r,c={},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=s.split(t.delimiter,l),f=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<u.length;++r)0===u[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[r]?d="utf-8":"utf8=%26%2310003%3B"===u[r]&&(d="iso-8859-1"),f=r,r=u.length);for(r=0;r<u.length;++r)if(r!==f){var p,y,h=u[r],g=h.indexOf("]="),b=-1===g?h.indexOf("="):g+1;-1===b?(p=t.decoder(h,i.decoder,d),y=t.strictNullHandling?null:""):(p=t.decoder(h.slice(0,b),i.decoder,d),y=t.decoder(h.slice(b+1),i.decoder,d)),y&&t.interpretNumericEntities&&"iso-8859-1"===d&&(y=a(y)),o.call(c,p)?c[p]=n.combine(c[p],y):c[p]=y}return c}(e,r):e,l=r.plainObjects?Object.create(null):{},u=Object.keys(s),f=0;f<u.length;++f){var d=u[f],p=c(d,s[d],r);l=n.merge(l,p,r)}return n.compact(l)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3Byb2Nlc3MvaW50ZXJlc3RzL2ludGVyZXN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJoYXMiLCJoZXhUYWJsZSIsImFycmF5IiwicHVzaCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJhcnJheVRvT2JqZWN0Iiwic291cmNlIiwib3B0aW9ucyIsIm9iaiIsInBsYWluT2JqZWN0cyIsImxlbmd0aCIsImFzc2lnbiIsInRhcmdldCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJjb21iaW5lIiwiYSIsImIiLCJjb25jYXQiLCJjb21wYWN0IiwicXVldWUiLCJwcm9wIiwicmVmcyIsIml0ZW0iLCJqIiwidmFsIiwiaW5kZXhPZiIsInBvcCIsIkFycmF5IiwiaXNBcnJheSIsImNvbXBhY3RlZCIsImNvbXBhY3RRdWV1ZSIsImRlY29kZSIsInN0ciIsImRlY29kZXIiLCJjaGFyc2V0Iiwic3RyV2l0aG91dFBsdXMiLCJyZXBsYWNlIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlIiwiZW5jb2RlIiwiZGVmYXVsdEVuY29kZXIiLCJzdHJpbmciLCJTdHJpbmciLCJlc2NhcGUiLCIkMCIsInBhcnNlSW50Iiwic2xpY2UiLCJvdXQiLCJjaGFyQ29kZUF0IiwiY2hhckF0IiwiaXNCdWZmZXIiLCJjb25zdHJ1Y3RvciIsImlzUmVnRXhwIiwibWVyZ2UiLCJhbGxvd1Byb3RvdHlwZXMiLCJtZXJnZVRhcmdldCIsImZvckVhY2giLCJwZXJjZW50VHdlbnRpZXMiLCJkZWZhdWx0IiwiZm9ybWF0dGVycyIsIlJGQzE3MzgiLCJSRkMzOTg2IiwicXMiLCJyZXF1aXJlIiwiQWRlcXVhIiwicHJvY2VzcyIsImludGVyZXN0cyIsInBhcnNlQ2F0ZWdvcnkiLCJyZXN1bHQiLCJjYXRlZ29yeSIsInN1Yl9jYXRlZ29yaWVzIiwiZW50cmllcyIsImNoZWNrUXVlcnlQYXJhbWV0ZXJzIiwidXJsIiwiZG9tYWluIiwiYm9keSIsInNwbGl0IiwicGFyYW1ldGVycyIsImRvbWFpbkNhdGVnb3JpZXMiLCJzdG9yYWdlIiwid2Vic2l0ZVBhcmFtZXRlcnMiLCJwYXJhbSIsInBhcmFtZXRlcnNMaXN0IiwiY2F0ZWdvcmllc0xpc3QiLCJnZXRDYXRlZ29yeSIsInBhcnNlIiwid2Vic2l0ZUludGVyZXN0cyIsIndlYnNpdGVSZXF1ZXN0cyIsIm1vZGVsIiwiaW50ZXJlc3QiLCJzYXZlT3JVcGRhdGUiLCJ0aGVuIiwiaWQiLCJhY3Rpb25XaXRoSW50ZXJlc3QiLCJzYXZlIiwiYWN0aW9uX3R5cGUiLCJhY3Rpb25fdXJsIiwiYWN0aW9uX3RpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJpbnRlcmVzdF9pZCIsImludGVyZXN0X2NhdGVnb3J5IiwiYW5hbHl0aWNzIiwic2VuZEFub255bW91c0V2ZW50IiwidW5kZWZpbmVkIiwiY2Q1IiwiZW5jb2RlVVJJIiwiY2Q2IiwiZGwiLCJjaGVja1VybCIsInBhdHRlcm4iLCJ3ZWJzaXRlIiwid2Vic2l0ZUNhdGVnb3J5IiwiY2hlY2tXZWJzaXRlIiwicGFyc2VSZXF1ZXN0RW50cnkiLCJyZXF1ZXN0IiwicGFyc2VSZXF1ZXN0IiwiYXJncyIsImNoZWNrUmVxdWVzdCIsImRldGFpbHMiLCJyZXF1ZXN0Qm9keSIsInJhdyIsIm1ldGhvZCIsIkpTT04iLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsIlVpbnQ4QXJyYXkiLCJieXRlcyIsImlnbm9yZVF1ZXJ5UHJlZml4IiwibGFiZWwiLCJzdHJpbmdpZnkiLCJmb3JtYXRzIiwidXRpbHMiLCJhcnJheVByZWZpeEdlbmVyYXRvcnMiLCJicmFja2V0cyIsInByZWZpeCIsImluZGljZXMiLCJyZXBlYXQiLCJwdXNoVG9BcnJheSIsImFyciIsInZhbHVlT3JBcnJheSIsInRvSVNPIiwidG9JU09TdHJpbmciLCJkZWZhdWx0cyIsImFkZFF1ZXJ5UHJlZml4IiwiYWxsb3dEb3RzIiwiY2hhcnNldFNlbnRpbmVsIiwiZGVsaW1pdGVyIiwiZW5jb2RlciIsImVuY29kZVZhbHVlc09ubHkiLCJzZXJpYWxpemVEYXRlIiwiZGF0ZSIsInNraXBOdWxscyIsInN0cmljdE51bGxIYW5kbGluZyIsImdlbmVyYXRlQXJyYXlQcmVmaXgiLCJmaWx0ZXIiLCJzb3J0IiwiZm9ybWF0dGVyIiwib2JqS2V5cyIsInZhbHVlcyIsIm9wdHMiLCJUeXBlRXJyb3IiLCJFcnJvciIsImZvcm1hdCIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiam9pbiIsImFycmF5TGltaXQiLCJkZXB0aCIsImludGVycHJldE51bWVyaWNFbnRpdGllcyIsInBhcmFtZXRlckxpbWl0IiwicGFyc2VBcnJheXMiLCJudW1iZXJTdHIiLCJwYXJzZUtleXMiLCJnaXZlbktleSIsImNoaWxkIiwic2VnbWVudCIsImV4ZWMiLCJwYXJlbnQiLCJpbmRleCIsImNoYWluIiwibGVhZiIsInJvb3QiLCJjbGVhblJvb3QiLCJpc05hTiIsIjAiLCJwYXJzZU9iamVjdCIsInRlbXBPYmoiLCJjbGVhblN0ciIsImxpbWl0IiwiSW5maW5pdHkiLCJwYXJ0cyIsInNraXBJbmRleCIsInBhcnQiLCJicmFja2V0RXF1YWxzUG9zIiwicG9zIiwicGFyc2VWYWx1ZXMiLCJuZXdPYmoiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFB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QyxJQUFJdUIsRUFBTXVCLEVBQUs5QyxHQUNYeU8sRUFBU3hCLEVBQVUxTCxFQUFLd00sRUFBUXhNLEdBQU1pQixHQUMxQ0MsRUFBTStILEVBQU0vRSxNQUFNaEQsRUFBS2dNLEVBQVFqTSxHQUduQyxPQUFPZ0ksRUFBTW5ILFFBQVFaIiwiZmlsZSI6ImludGVyZXN0cy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgaGV4VGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgYXJyYXkucHVzaCgnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59KCkpO1xuXG52YXIgY29tcGFjdFF1ZXVlID0gZnVuY3Rpb24gY29tcGFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhY3RlZCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wYWN0ZWQucHVzaChvYmpbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBhcnJheVRvT2JqZWN0ID0gZnVuY3Rpb24gYXJyYXlUb09iamVjdChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fCAhaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbdGFyZ2V0LCBzb3VyY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpICYmICFBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBhcnJheVRvT2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJiBBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFtpXSAmJiB0eXBlb2YgdGFyZ2V0W2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBtZXJnZSh0YXJnZXRbaV0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufTtcblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnblNpbmdsZVNvdXJjZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufTtcblxudmFyIGRlY29kZSA9IGZ1bmN0aW9uIChzdHIsIGRlY29kZXIsIGNoYXJzZXQpIHtcbiAgICB2YXIgc3RyV2l0aG91dFBsdXMgPSBzdHIucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAvLyB1bmVzY2FwZSBuZXZlciB0aHJvd3MsIG5vIHRyeS4uLmNhdGNoIG5lZWRlZDpcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICAgIH1cbiAgICAvLyB1dGYtOFxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn07XG5cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoc3RyLCBkZWZhdWx0RW5jb2RlciwgY2hhcnNldCkge1xuICAgIC8vIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGJ5IEJyaWFuIFdoaXRlIChtc2NkZXgpIGZvciB0aGUgaW8uanMgY29yZSBxdWVyeXN0cmluZyBsaWJyYXJ5LlxuICAgIC8vIEl0IGhhcyBiZWVuIGFkYXB0ZWQgaGVyZSBmb3Igc3RyaWN0ZXIgYWRoZXJlbmNlIHRvIFJGQyAzOTg2XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICB2YXIgc3RyaW5nID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIgOiBTdHJpbmcoc3RyKTtcblxuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgcmV0dXJuIGVzY2FwZShzdHJpbmcpLnJlcGxhY2UoLyV1WzAtOWEtZl17NH0vZ2ksIGZ1bmN0aW9uICgkMCkge1xuICAgICAgICAgICAgcmV0dXJuICclMjYlMjMnICsgcGFyc2VJbnQoJDAuc2xpY2UoMiksIDE2KSArICclM0InO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgb3V0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjID09PSAweDJEIC8vIC1cbiAgICAgICAgICAgIHx8IGMgPT09IDB4MkUgLy8gLlxuICAgICAgICAgICAgfHwgYyA9PT0gMHg1RiAvLyBfXG4gICAgICAgICAgICB8fCBjID09PSAweDdFIC8vIH5cbiAgICAgICAgICAgIHx8IChjID49IDB4MzAgJiYgYyA8PSAweDM5KSAvLyAwLTlcbiAgICAgICAgICAgIHx8IChjID49IDB4NDEgJiYgYyA8PSAweDVBKSAvLyBhLXpcbiAgICAgICAgICAgIHx8IChjID49IDB4NjEgJiYgYyA8PSAweDdBKSAvLyBBLVpcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQgKz0gc3RyaW5nLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyBoZXhUYWJsZVtjXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4QzAgfCAoYyA+PiA2KV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4RDgwMCB8fCBjID49IDB4RTAwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4RTAgfCAoYyA+PiAxMildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHJpbmcuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XG4gICAgICAgIG91dCArPSBoZXhUYWJsZVsweEYwIHwgKGMgPj4gMTgpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xufTtcblxudmFyIGNvbXBhY3QgPSBmdW5jdGlvbiBjb21wYWN0KHZhbHVlKSB7XG4gICAgdmFyIHF1ZXVlID0gW3sgb2JqOiB7IG86IHZhbHVlIH0sIHByb3A6ICdvJyB9XTtcbiAgICB2YXIgcmVmcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlW2ldO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgICAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGFjdFF1ZXVlKHF1ZXVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBpc1JlZ0V4cCA9IGZ1bmN0aW9uIGlzUmVnRXhwKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59O1xuXG52YXIgaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlcihvYmopIHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59O1xuXG52YXIgY29tYmluZSA9IGZ1bmN0aW9uIGNvbWJpbmUoYSwgYikge1xuICAgIHJldHVybiBbXS5jb25jYXQoYSwgYik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhcnJheVRvT2JqZWN0OiBhcnJheVRvT2JqZWN0LFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGNvbWJpbmU6IGNvbWJpbmUsXG4gICAgY29tcGFjdDogY29tcGFjdCxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBlbmNvZGU6IGVuY29kZSxcbiAgICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gICAgaXNSZWdFeHA6IGlzUmVnRXhwLFxuICAgIG1lcmdlOiBtZXJnZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAnZGVmYXVsdCc6ICdSRkMzOTg2JyxcbiAgICBmb3JtYXR0ZXJzOiB7XG4gICAgICAgIFJGQzE3Mzg6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICB9LFxuICAgICAgICBSRkMzOTg2OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgUkZDMTczODogJ1JGQzE3MzgnLFxuICAgIFJGQzM5ODY6ICdSRkMzOTg2J1xufTtcbiIsImNvbnN0IHFzID0gcmVxdWlyZSgncXMnKTtcbkFkZXF1YS5xcyA9IHFzO1xuQWRlcXVhLnByb2Nlc3MuaW50ZXJlc3RzID0ge307XG5cblxuY29uc3QgcGFyc2VDYXRlZ29yeSA9IGZ1bmN0aW9uIChvYmplY3QsIHJlc3VsdCA9IFwiXCIpIHtcbiAgaWYgKE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzdWx0O1xuICBjb25zdCBbY2F0ZWdvcnksIHN1Yl9jYXRlZ29yaWVzXSA9IE9iamVjdC5lbnRyaWVzKG9iamVjdClbMF07XG5cbiAgaWYgKHJlc3VsdCAhPT0gXCJcIikgcmVzdWx0ICs9IFwiX1wiO1xuICByZXN1bHQgKz0gY2F0ZWdvcnk7XG5cbiAgcmV0dXJuIHBhcnNlQ2F0ZWdvcnkoc3ViX2NhdGVnb3JpZXMsIHJlc3VsdCk7XG59O1xuXG5jb25zdCBnZXRDYXRlZ29yeSA9IGZ1bmN0aW9uIChkb21haW4sIHBhcmFtZXRlcnMpIHtcbiAgY29uc3QgZG9tYWluQ2F0ZWdvcmllcyA9IEFkZXF1YS5zdG9yYWdlLndlYnNpdGVQYXJhbWV0ZXJzW2RvbWFpbl07XG4gIGlmICghZG9tYWluQ2F0ZWdvcmllcykgcmV0dXJuIGZhbHNlO1xuXG4gIGZvciAoY29uc3QgW3BhcmFtLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycykpIHtcbiAgICBjb25zdCBwYXJhbWV0ZXJzTGlzdCA9IGRvbWFpbkNhdGVnb3JpZXNbcGFyYW1dO1xuICAgIGlmICghcGFyYW1ldGVyc0xpc3QpIGNvbnRpbnVlO1xuXG4gICAgY29uc3QgY2F0ZWdvcmllc0xpc3QgPSBwYXJhbWV0ZXJzTGlzdFt2YWx1ZV07XG4gICAgaWYgKCFjYXRlZ29yaWVzTGlzdCkgY29udGludWU7XG5cbiAgICByZXR1cm4gcGFyc2VDYXRlZ29yeShjYXRlZ29yaWVzTGlzdCk7XG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn07XG5cbmNvbnN0IGNoZWNrUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHVybCkge1xuICBjb25zdCBkb21haW4gPSBBZGVxdWEuZG9tYWluKHVybCk7XG5cbiAgY29uc3QgYm9keSA9IHVybC5zcGxpdCgnPycpLnNsaWNlKC0xKVswXTtcbiAgY29uc3QgcGFyYW1zID0gcXMucGFyc2UoYm9keSk7XG5cbiAgY29uc3QgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeShkb21haW4sIHBhcmFtcyk7XG4gIGlmICghY2F0ZWdvcnkpIHJldHVybiBmYWxzZTtcbiAgY29uc3Qgd2Vic2l0ZUludGVyZXN0cyA9IEFkZXF1YS5zdG9yYWdlLndlYnNpdGVSZXF1ZXN0c1t1cmwuc3BsaXQoJz8nKVswXV07XG4gIGlmKCF3ZWJzaXRlSW50ZXJlc3RzKSByZXR1cm47XG4gIEFkZXF1YS5tb2RlbC5pbnRlcmVzdC5zYXZlT3JVcGRhdGUoe1xuICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgfSwgdXJsLCB3ZWJzaXRlSW50ZXJlc3RzKS50aGVuKGlkID0+IHtcbiAgICBBZGVxdWEubW9kZWwuYWN0aW9uV2l0aEludGVyZXN0LnNhdmUoe1xuICAgICAgYWN0aW9uX3R5cGU6IHdlYnNpdGVJbnRlcmVzdHMuYWN0aW9uX3R5cGUsXG4gICAgICBhY3Rpb25fdXJsOiB1cmwsXG4gICAgICBhY3Rpb25fdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgaW50ZXJlc3RfaWQ6IGlkLFxuICAgICAgaW50ZXJlc3RfY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgfSk7XG5cbiAgICBBZGVxdWEucHJvY2Vzcy5hbmFseXRpY3Muc2VuZEFub255bW91c0V2ZW50KHVybCwgXCJhZHZlcnRpc2luZ1wiLCBcIm5ld19hY3Rpb25fd2l0aF9pbnRlcmVzdFwiLCB3ZWJzaXRlSW50ZXJlc3RzLmFjdGlvbl90eXBlLCB1bmRlZmluZWQsIHtcbiAgICAgIFwiY2Q1XCI6IGVuY29kZVVSSShpZCksXG4gICAgICBcImNkNlwiOiBlbmNvZGVVUkkoY2F0ZWdvcnkpLFxuICAgICAgXCJkbFwiOiBlbmNvZGVVUkkodXJsKVxuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IGNoZWNrV2Vic2l0ZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgZm9yIChjb25zdCBbcGF0dGVybiwgd2Vic2l0ZV0gb2YgT2JqZWN0LmVudHJpZXMoQWRlcXVhLnN0b3JhZ2Uud2Vic2l0ZUNhdGVnb3J5KSkge1xuICAgIGlmICh1cmwuaW5kZXhPZihwYXR0ZXJuKSAhPT0gLTEpIHtcbiAgICAgIEFkZXF1YS5tb2RlbC5pbnRlcmVzdC5zYXZlT3JVcGRhdGUoe1xuICAgICAgICBjYXRlZ29yeTogd2Vic2l0ZS5jYXRlZ29yeSxcbiAgICAgIH0sIHVybCwgd2Vic2l0ZSkudGhlbihpZCA9PiB7XG4gICAgICAgIEFkZXF1YS5tb2RlbC5hY3Rpb25XaXRoSW50ZXJlc3Quc2F2ZSh7XG4gICAgICAgICAgYWN0aW9uX3R5cGU6IHdlYnNpdGUuYWN0aW9uX3R5cGUsXG4gICAgICAgICAgYWN0aW9uX3VybDogdXJsLFxuICAgICAgICAgIGFjdGlvbl90aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgaW50ZXJlc3RfaWQ6IGlkLFxuICAgICAgICAgIGludGVyZXN0X2NhdGVnb3J5OiB3ZWJzaXRlLmNhdGVnb3J5XG4gICAgICAgIH0pO1xuICAgICAgICBBZGVxdWEucHJvY2Vzcy5hbmFseXRpY3Muc2VuZEFub255bW91c0V2ZW50KHVybCwgXCJhZHZlcnRpc2luZ1wiLCBcIm5ld19hY3Rpb25fd2l0aF9pbnRlcmVzdFwiLCB3ZWJzaXRlLmFjdGlvbl90eXBlLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICBcImNkNVwiOiBlbmNvZGVVUkkoaWQpLFxuICAgICAgICAgIFwiY2Q2XCI6IGVuY29kZVVSSSh3ZWJzaXRlLmNhdGVnb3J5KSxcbiAgICAgICAgICBcImRsXCI6IGVuY29kZVVSSSh1cmwpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn07XG5cbkFkZXF1YS5wcm9jZXNzLmludGVyZXN0cy5jaGVja1VybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgY2hlY2tXZWJzaXRlKHVybCk7XG4gIGlmICh1cmwuaW5kZXhPZignPycpICE9PSAtMSkgY2hlY2tRdWVyeVBhcmFtZXRlcnModXJsKTtcbn07XG5cbmNvbnN0IHBhcnNlUmVxdWVzdEVudHJ5ID0gZnVuY3Rpb24gKG9iamVjdCwgcmVxdWVzdCwgcmVzdWx0ID0ge30pIHtcblxuICBpZiAoT2JqZWN0LmtleXMob2JqZWN0KS5sZW5ndGggPT09IDApIHJldHVybiByZXN1bHQ7XG5cblxuICBjb25zdCBbY2F0ZWdvcnksIHN1Yl9jYXRlZ29yaWVzXSA9IE9iamVjdC5lbnRyaWVzKG9iamVjdClbMF07XG5cbiAgcmVzdWx0W2NhdGVnb3J5XSA9IHJlcXVlc3Q7XG5cbiAgcmV0dXJuIHBhcnNlUmVxdWVzdEVudHJ5KHN1Yl9jYXRlZ29yaWVzLCByZXF1ZXN0LCByZXN1bHQpO1xufTtcblxuY29uc3QgcGFyc2VSZXF1ZXN0ID0gZnVuY3Rpb24gKGFyZ3MsIHJlcXVlc3QsIHJlc3VsdCA9IHt9KSB7XG4gIGlmICghYXJncykgcmV0dXJuIHJlcXVlc3Q7XG4gIGlmIChPYmplY3Qua2V5cyhhcmdzKS5sZW5ndGggPT09IDApIHJldHVybiByZXF1ZXN0O1xuICBmb3IgKGNvbnN0IGkgaW4gYXJncykge1xuICAgIGlmIChPYmplY3Qua2V5cyhhcmdzW2ldKS5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gcGFyc2VSZXF1ZXN0KGFyZ3NbaV0sIHJlcXVlc3RbaV0sIHJlc3VsdClcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIHBhcnNlUmVxdWVzdEVudHJ5KGFyZ3NbaV0sIHJlcXVlc3RbaV0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkFkZXF1YS5wcm9jZXNzLmludGVyZXN0cy5jaGVja1JlcXVlc3QgPSBmdW5jdGlvbiAoZGV0YWlscykge1xuICBjb25zdCB1cmwgPSBkZXRhaWxzLnVybDtcbiAgbGV0IHJlcXVlc3QgPSBudWxsO1xuICBpZiAoZGV0YWlscy5yZXF1ZXN0Qm9keSAmJiBkZXRhaWxzLnJlcXVlc3RCb2R5LnJhdyAmJiBkZXRhaWxzLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICByZXF1ZXN0ID0gSlNPTi5wYXJzZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGRldGFpbHMucmVxdWVzdEJvZHkucmF3WzBdLmJ5dGVzKSkpO1xuICB9IGVsc2UgaWYgKGRldGFpbHMubWV0aG9kID09PSBcIkdFVFwiICYmIHVybC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgcmVxdWVzdCA9IHFzLnBhcnNlKGRldGFpbHMudXJsLnNwbGl0KCc/Jykuc2xpY2UoLTEpWzBdLCB7aWdub3JlUXVlcnlQcmVmaXg6IHRydWV9KTtcbiAgfSBlbHNlIHJldHVybjtcbiAgY29uc3Qgd2Vic2l0ZUludGVyZXN0cyA9IEFkZXF1YS5zdG9yYWdlLndlYnNpdGVSZXF1ZXN0c1tkZXRhaWxzLnVybC5zcGxpdCgnPycpWzBdXTtcbiAgaWYoIXdlYnNpdGVJbnRlcmVzdHMpIHJldHVybjtcbiAgY29uc3QgcGFyYW1ldGVycyA9IHBhcnNlUmVxdWVzdCh3ZWJzaXRlSW50ZXJlc3RzLnBhcmFtZXRlcnMsIHJlcXVlc3QpO1xuXG4gIGlmICghcGFyYW1ldGVycykgcmV0dXJuO1xuICBpZiAoT2JqZWN0LmtleXMocGFyYW1ldGVycykubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGlmIChPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5sZW5ndGggPT09IDEgJiYgcGFyYW1ldGVycy5sYWJlbCkgcmV0dXJuO1xuXG4gIGZvciAoY29uc3QgW3BhdHRlcm4sIHdlYnNpdGVdIG9mIE9iamVjdC5lbnRyaWVzKEFkZXF1YS5zdG9yYWdlLndlYnNpdGVDYXRlZ29yeSkpIHtcbiAgICBpZiAodXJsLmluZGV4T2YocGF0dGVybikgIT09IC0xKSB7XG4gICAgICBBZGVxdWEubW9kZWwuaW50ZXJlc3Quc2F2ZU9yVXBkYXRlKHtcbiAgICAgICAgY2F0ZWdvcnk6IHdlYnNpdGUuY2F0ZWdvcnksXG4gICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICB9LCB1cmwsIHdlYnNpdGVJbnRlcmVzdHMpLnRoZW4oaWQgPT4ge1xuICAgICAgICBBZGVxdWEubW9kZWwuYWN0aW9uV2l0aEludGVyZXN0LnNhdmUoe1xuICAgICAgICAgIGFjdGlvbl90eXBlOiB3ZWJzaXRlSW50ZXJlc3RzLmFjdGlvbl90eXBlLFxuICAgICAgICAgIGFjdGlvbl91cmw6IHVybCxcbiAgICAgICAgICBhY3Rpb25fdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIGludGVyZXN0X2lkOiBpZCxcbiAgICAgICAgICBpbnRlcmVzdF9jYXRlZ29yeTogd2Vic2l0ZS5jYXRlZ29yeVxuICAgICAgICB9KTtcbiAgICAgICAgQWRlcXVhLnByb2Nlc3MuYW5hbHl0aWNzLnNlbmRBbm9ueW1vdXNFdmVudCh1cmwsIFwiYWR2ZXJ0aXNpbmdcIiwgXCJuZXdfYWN0aW9uX3dpdGhfaW50ZXJlc3RcIiwgd2Vic2l0ZUludGVyZXN0cy5hY3Rpb25fdHlwZSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgXCJjZDVcIjogZW5jb2RlVVJJKGlkKSxcbiAgICAgICAgICBcImNkNlwiOiBlbmNvZGVVUkkod2Vic2l0ZS5jYXRlZ29yeSksXG4gICAgICAgICAgXCJkbFwiOiBlbmNvZGVVUkkodXJsKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgcGFyc2U6IHBhcnNlLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xuXG52YXIgYXJyYXlQcmVmaXhHZW5lcmF0b3JzID0ge1xuICAgIGJyYWNrZXRzOiBmdW5jdGlvbiBicmFja2V0cyhwcmVmaXgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbXSc7XG4gICAgfSxcbiAgICBpbmRpY2VzOiBmdW5jdGlvbiBpbmRpY2VzKHByZWZpeCwga2V5KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnWycgKyBrZXkgKyAnXSc7XG4gICAgfSxcbiAgICByZXBlYXQ6IGZ1bmN0aW9uIHJlcGVhdChwcmVmaXgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGVuY29kZTogdHJ1ZSxcbiAgICBlbmNvZGVyOiB1dGlscy5lbmNvZGUsXG4gICAgZW5jb2RlVmFsdWVzT25seTogZmFsc2UsXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZS1tYXRjaGluZ1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeSggLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcbiAgICBvYmplY3QsXG4gICAgcHJlZml4LFxuICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgIHNraXBOdWxscyxcbiAgICBlbmNvZGVyLFxuICAgIGZpbHRlcixcbiAgICBzb3J0LFxuICAgIGFsbG93RG90cyxcbiAgICBzZXJpYWxpemVEYXRlLFxuICAgIGZvcm1hdHRlcixcbiAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgIGNoYXJzZXRcbikge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgb2JqID0gc2VyaWFsaXplRGF0ZShvYmopO1xuICAgIH1cblxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHN0cmljdE51bGxIYW5kbGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgIWVuY29kZVZhbHVlc09ubHkgPyBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCkgOiBwcmVmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBvYmogPSAnJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nIHx8IHV0aWxzLmlzQnVmZmVyKG9iaikpIHtcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXggOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCk7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyBmb3JtYXR0ZXIoZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQpKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIocHJlZml4KSArICc9JyArIGZvcm1hdHRlcihTdHJpbmcob2JqKSldO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4KHByZWZpeCwga2V5KSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICAgICAgZW5jb2RlcixcbiAgICAgICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgICAgICBhbGxvd0RvdHMsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICAgICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgICAgICBjaGFyc2V0XG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHB1c2hUb0FycmF5KHZhbHVlcywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIG9ialtrZXldLFxuICAgICAgICAgICAgICAgIHByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBrZXkgOiAnWycgKyBrZXkgKyAnXScpLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgICAgIGNoYXJzZXRcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgb3B0cykge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzID8gdXRpbHMuYXNzaWduKHt9LCBvcHRzKSA6IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuZW5jb2RlciAhPT0gbnVsbCAmJiBvcHRpb25zLmVuY29kZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5lbmNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0VuY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGRlbGltaXRlciA9IHR5cGVvZiBvcHRpb25zLmRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5kZWxpbWl0ZXIgOiBvcHRpb25zLmRlbGltaXRlcjtcbiAgICB2YXIgc3RyaWN0TnVsbEhhbmRsaW5nID0gdHlwZW9mIG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZztcbiAgICB2YXIgc2tpcE51bGxzID0gdHlwZW9mIG9wdGlvbnMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscztcbiAgICB2YXIgZW5jb2RlID0gdHlwZW9mIG9wdGlvbnMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZTtcbiAgICB2YXIgZW5jb2RlciA9IHR5cGVvZiBvcHRpb25zLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyO1xuICAgIHZhciBzb3J0ID0gdHlwZW9mIG9wdGlvbnMuc29ydCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuc29ydCA6IG51bGw7XG4gICAgdmFyIGFsbG93RG90cyA9IHR5cGVvZiBvcHRpb25zLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdGlvbnMuYWxsb3dEb3RzO1xuICAgIHZhciBzZXJpYWxpemVEYXRlID0gdHlwZW9mIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGU7XG4gICAgdmFyIGVuY29kZVZhbHVlc09ubHkgPSB0eXBlb2Ygb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5ID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmVuY29kZVZhbHVlc09ubHkgOiBkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5O1xuICAgIHZhciBjaGFyc2V0ID0gb3B0aW9ucy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbnMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRpb25zLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9ucy5mb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgfSBlbHNlIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGZvcm1hdHMuZm9ybWF0dGVycywgb3B0aW9ucy5mb3JtYXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZm9ybWF0IG9wdGlvbiBwcm92aWRlZC4nKTtcbiAgICB9XG4gICAgdmFyIGZvcm1hdHRlciA9IGZvcm1hdHMuZm9ybWF0dGVyc1tvcHRpb25zLmZvcm1hdF07XG4gICAgdmFyIG9iaktleXM7XG4gICAgdmFyIGZpbHRlcjtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlGb3JtYXQ7XG4gICAgaWYgKG9wdGlvbnMuYXJyYXlGb3JtYXQgaW4gYXJyYXlQcmVmaXhHZW5lcmF0b3JzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0aW9ucy5hcnJheUZvcm1hdDtcbiAgICB9IGVsc2UgaWYgKCdpbmRpY2VzJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0aW9ucy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSAnaW5kaWNlcyc7XG4gICAgfVxuXG4gICAgdmFyIGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheVByZWZpeEdlbmVyYXRvcnNbYXJyYXlGb3JtYXRdO1xuXG4gICAgaWYgKCFvYmpLZXlzKSB7XG4gICAgICAgIG9iaktleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cblxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIG9iaktleXMuc29ydChzb3J0KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaFRvQXJyYXkoa2V5cywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgZW5jb2RlID8gZW5jb2RlciA6IG51bGwsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBjaGFyc2V0XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHZhciBqb2luZWQgPSBrZXlzLmpvaW4oZGVsaW1pdGVyKTtcbiAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5hZGRRdWVyeVByZWZpeCA9PT0gdHJ1ZSA/ICc/JyA6ICcnO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKSwgdGhlIFwibnVtZXJpYyBlbnRpdHlcIiByZXByZXNlbnRhdGlvbiBvZiBhIGNoZWNrbWFya1xuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JUUyJTlDJTkzJic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYXJyYXlMaW1pdDogMjAsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGRlY29kZXI6IHV0aWxzLmRlY29kZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBkZXB0aDogNSxcbiAgICBpZ25vcmVRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiBmYWxzZSxcbiAgICBwYXJhbWV0ZXJMaW1pdDogMTAwMCxcbiAgICBwYXJzZUFycmF5czogdHJ1ZSxcbiAgICBwbGFpbk9iamVjdHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpbnRlcnByZXROdW1lcmljRW50aXRpZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mIyhcXGQrKTsvZywgZnVuY3Rpb24gKCQwLCBudW1iZXJTdHIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobnVtYmVyU3RyLCAxMCkpO1xuICAgIH0pO1xufTtcblxuLy8gVGhpcyBpcyB3aGF0IGJyb3dzZXJzIHdpbGwgc3VibWl0IHdoZW4gdGhlIOKckyBjaGFyYWN0ZXIgb2NjdXJzIGluIGFuXG4vLyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgYm9keSBhbmQgdGhlIGVuY29kaW5nIG9mIHRoZSBwYWdlIGNvbnRhaW5pbmdcbi8vIHRoZSBmb3JtIGlzIGlzby04ODU5LTEsIG9yIHdoZW4gdGhlIHN1Ym1pdHRlZCBmb3JtIGhhcyBhbiBhY2NlcHQtY2hhcnNldFxuLy8gYXR0cmlidXRlIG9mIGlzby04ODU5LTEuIFByZXN1bWFibHkgYWxzbyB3aXRoIG90aGVyIGNoYXJzZXRzIHRoYXQgZG8gbm90IGNvbnRhaW5cbi8vIHRoZSDinJMgY2hhcmFjdGVyLCBzdWNoIGFzIHVzLWFzY2lpLlxudmFyIGlzb1NlbnRpbmVsID0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0InOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JylcblxuLy8gVGhlc2UgYXJlIHRoZSBwZXJjZW50LWVuY29kZWQgdXRmLTggb2N0ZXRzIHJlcHJlc2VudGluZyBhIGNoZWNrbWFyaywgaW5kaWNhdGluZyB0aGF0IHRoZSByZXF1ZXN0IGFjdHVhbGx5IGlzIHV0Zi04IGVuY29kZWQuXG52YXIgY2hhcnNldFNlbnRpbmVsID0gJ3V0Zjg9JUUyJTlDJTkzJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuXG52YXIgcGFyc2VWYWx1ZXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nVmFsdWVzKHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICB2YXIgY2xlYW5TdHIgPSBvcHRpb25zLmlnbm9yZVF1ZXJ5UHJlZml4ID8gc3RyLnJlcGxhY2UoL15cXD8vLCAnJykgOiBzdHI7XG4gICAgdmFyIGxpbWl0ID0gb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBvcHRpb25zLnBhcmFtZXRlckxpbWl0O1xuICAgIHZhciBwYXJ0cyA9IGNsZWFuU3RyLnNwbGl0KG9wdGlvbnMuZGVsaW1pdGVyLCBsaW1pdCk7XG4gICAgdmFyIHNraXBJbmRleCA9IC0xOyAvLyBLZWVwIHRyYWNrIG9mIHdoZXJlIHRoZSB1dGY4IHNlbnRpbmVsIHdhcyBmb3VuZFxuICAgIHZhciBpO1xuXG4gICAgdmFyIGNoYXJzZXQgPSBvcHRpb25zLmNoYXJzZXQ7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldLmluZGV4T2YoJ3V0Zjg9JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbaV0gPT09IGNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldID09PSBpc29TZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ2lzby04ODU5LTEnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lwSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGkgPSBwYXJ0cy5sZW5ndGg7IC8vIFRoZSBlc2xpbnQgc2V0dGluZ3MgZG8gbm90IGFsbG93IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpID09PSBza2lwSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG5cbiAgICAgICAgdmFyIGJyYWNrZXRFcXVhbHNQb3MgPSBwYXJ0LmluZGV4T2YoJ109Jyk7XG4gICAgICAgIHZhciBwb3MgPSBicmFja2V0RXF1YWxzUG9zID09PSAtMSA/IHBhcnQuaW5kZXhPZignPScpIDogYnJhY2tldEVxdWFsc1BvcyArIDE7XG5cbiAgICAgICAgdmFyIGtleSwgdmFsO1xuICAgICAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0KTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKHBvcyArIDEpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWwgJiYgb3B0aW9ucy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgJiYgY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICB2YWwgPSBpbnRlcnByZXROdW1lcmljRW50aXRpZXModmFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmNvbWJpbmUob2JqW2tleV0sIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiAoY2hhaW4sIHZhbCwgb3B0aW9ucykge1xuICAgIHZhciBsZWFmID0gdmFsO1xuXG4gICAgZm9yICh2YXIgaSA9IGNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIHZhciByb290ID0gY2hhaW5baV07XG5cbiAgICAgICAgaWYgKHJvb3QgPT09ICdbXScgJiYgb3B0aW9ucy5wYXJzZUFycmF5cykge1xuICAgICAgICAgICAgb2JqID0gW10uY29uY2F0KGxlYWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgICAgICAgICB2YXIgY2xlYW5Sb290ID0gcm9vdC5jaGFyQXQoMCkgPT09ICdbJyAmJiByb290LmNoYXJBdChyb290Lmxlbmd0aCAtIDEpID09PSAnXScgPyByb290LnNsaWNlKDEsIC0xKSA6IHJvb3Q7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChjbGVhblJvb3QsIDEwKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5wYXJzZUFycmF5cyAmJiBjbGVhblJvb3QgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgb2JqID0geyAwOiBsZWFmIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICFpc05hTihpbmRleClcbiAgICAgICAgICAgICAgICAmJiByb290ICE9PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBTdHJpbmcoaW5kZXgpID09PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBpbmRleCA+PSAwXG4gICAgICAgICAgICAgICAgJiYgKG9wdGlvbnMucGFyc2VBcnJheXMgJiYgaW5kZXggPD0gb3B0aW9ucy5hcnJheUxpbWl0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gW107XG4gICAgICAgICAgICAgICAgb2JqW2luZGV4XSA9IGxlYWY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialtjbGVhblJvb3RdID0gbGVhZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxlYWYgPSBvYmo7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxlYWY7XG59O1xuXG52YXIgcGFyc2VLZXlzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ0tleXMoZ2l2ZW5LZXksIHZhbCwgb3B0aW9ucykge1xuICAgIGlmICghZ2l2ZW5LZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSBkb3Qgbm90YXRpb24gdG8gYnJhY2tldCBub3RhdGlvblxuICAgIHZhciBrZXkgPSBvcHRpb25zLmFsbG93RG90cyA/IGdpdmVuS2V5LnJlcGxhY2UoL1xcLihbXi5bXSspL2csICdbJDFdJykgOiBnaXZlbktleTtcblxuICAgIC8vIFRoZSByZWdleCBjaHVua3NcblxuICAgIHZhciBicmFja2V0cyA9IC8oXFxbW15bXFxdXSpdKS87XG4gICAgdmFyIGNoaWxkID0gLyhcXFtbXltcXF1dKl0pL2c7XG5cbiAgICAvLyBHZXQgdGhlIHBhcmVudFxuXG4gICAgdmFyIHNlZ21lbnQgPSBicmFja2V0cy5leGVjKGtleSk7XG4gICAgdmFyIHBhcmVudCA9IHNlZ21lbnQgPyBrZXkuc2xpY2UoMCwgc2VnbWVudC5pbmRleCkgOiBrZXk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIElmIHdlIGFyZW4ndCB1c2luZyBwbGFpbiBvYmplY3RzLCBvcHRpb25hbGx5IHByZWZpeCBrZXlzIHRoYXQgd291bGQgb3ZlcndyaXRlIG9iamVjdCBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHBhcmVudCkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2gocGFyZW50KTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnNsaWNlKDEsIC0xKSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcblxuICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChrZXlzLCB2YWwsIG9wdGlvbnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzID8gdXRpbHMuYXNzaWduKHt9LCBvcHRzKSA6IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuZGVjb2RlciAhPT0gbnVsbCAmJiBvcHRpb25zLmRlY29kZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5kZWNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0RlY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5pZ25vcmVRdWVyeVByZWZpeCA9IG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPT09IHRydWU7XG4gICAgb3B0aW9ucy5kZWxpbWl0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5kZWxpbWl0ZXIgPT09ICdzdHJpbmcnIHx8IHV0aWxzLmlzUmVnRXhwKG9wdGlvbnMuZGVsaW1pdGVyKSA/IG9wdGlvbnMuZGVsaW1pdGVyIDogZGVmYXVsdHMuZGVsaW1pdGVyO1xuICAgIG9wdGlvbnMuZGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5kZXB0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmRlcHRoIDogZGVmYXVsdHMuZGVwdGg7XG4gICAgb3B0aW9ucy5hcnJheUxpbWl0ID0gdHlwZW9mIG9wdGlvbnMuYXJyYXlMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmFycmF5TGltaXQgOiBkZWZhdWx0cy5hcnJheUxpbWl0O1xuICAgIG9wdGlvbnMucGFyc2VBcnJheXMgPSBvcHRpb25zLnBhcnNlQXJyYXlzICE9PSBmYWxzZTtcbiAgICBvcHRpb25zLmRlY29kZXIgPSB0eXBlb2Ygb3B0aW9ucy5kZWNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5kZWNvZGVyIDogZGVmYXVsdHMuZGVjb2RlcjtcbiAgICBvcHRpb25zLmFsbG93RG90cyA9IHR5cGVvZiBvcHRpb25zLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdGlvbnMuYWxsb3dEb3RzO1xuICAgIG9wdGlvbnMucGxhaW5PYmplY3RzID0gdHlwZW9mIG9wdGlvbnMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnBsYWluT2JqZWN0cyA6IGRlZmF1bHRzLnBsYWluT2JqZWN0cztcbiAgICBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA9IHR5cGVvZiBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgOiBkZWZhdWx0cy5hbGxvd1Byb3RvdHlwZXM7XG4gICAgb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgOiBkZWZhdWx0cy5wYXJhbWV0ZXJMaW1pdDtcbiAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9IHR5cGVvZiBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmc7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0aW9ucy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdGlvbnMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNoYXJzZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9wdGlvbnMuY2hhcnNldCA9IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgfVxuXG4gICAgaWYgKHN0ciA9PT0gJycgfHwgc3RyID09PSBudWxsIHx8IHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcE9iaiA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZXMoc3RyLCBvcHRpb25zKSA6IHN0cjtcbiAgICB2YXIgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgYW5kIHNldHVwIHRoZSBuZXcgb2JqZWN0XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRlbXBPYmopO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIG5ld09iaiA9IHBhcnNlS2V5cyhrZXksIHRlbXBPYmpba2V5XSwgb3B0aW9ucyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=